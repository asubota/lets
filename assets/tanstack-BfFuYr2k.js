var Is=e=>{throw TypeError(e)};var Ye=(e,t,s)=>t.has(e)||Is("Cannot "+s);var u=(e,t,s)=>(Ye(e,t,"read from private field"),s?s.call(e):t.get(e)),E=(e,t,s)=>t.has(e)?Is("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),b=(e,t,s,r)=>(Ye(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),k=(e,t,s)=>(Ye(e,t,"access private method"),s);var De=(e,t,s,r)=>({set _(n){b(e,t,n,s)},get _(){return u(e,t,r)}});import{r as _,a as jr}from"./react-BtIrUdbE.js";var ur={exports:{}},He={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=_,Br=Symbol.for("react.element"),Ur=Symbol.for("react.fragment"),Qr=Object.prototype.hasOwnProperty,$r=Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nr={key:!0,ref:!0,__self:!0,__source:!0};function cr(e,t,s){var r,n={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Qr.call(t,r)&&!Nr.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Br,type:e,key:o,ref:i,props:n,_owner:$r.current}}He.Fragment=Ur;He.jsx=cr;He.jsxs=cr;ur.exports=He;var O=ur.exports;const Ts="popstate",ks="beforeunload";function lr(e){let t=e.getLocation();const s=new Set,r=i=>{t=e.getLocation(),s.forEach(a=>a({location:t,action:i}))},n=()=>{t=e.getLocation(),s.forEach(i=>i({location:t,action:{type:"ROLLBACK"}}))},o=async({task:i,navigateOpts:a,...c})=>{var d,l;if((a==null?void 0:a.ignoreBlocker)??!1){i();return}const f=((d=e.getBlockers)==null?void 0:d.call(e))??[],p=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&f.length&&p)for(const v of f){const m=Ee(c.path,c.state);if(await v.blockerFn({currentLocation:t,nextLocation:m,action:c.type})){(l=e.onBlocked)==null||l.call(e,n);return}}i()};return{get location(){return t},get length(){return e.getLength()},subscribers:s,subscribe:i=>(s.add(i),()=>{s.delete(i)}),push:(i,a,c)=>{a=Ds(a),o({task:()=>{e.pushState(i,a),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:i,state:a})},replace:(i,a,c)=>{a=Ds(a),o({task:()=>{e.replaceState(i,a),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:i,state:a})},go:(i,a)=>{o({task:()=>{e.go(i),r({type:"GO",index:i})},navigateOpts:a,type:"GO"})},back:i=>{o({task:()=>{e.back((i==null?void 0:i.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{o({task:()=>{e.forward((i==null?void 0:i.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},createHref:i=>e.createHref(i),block:i=>{var a;if(!e.setBlockers)return()=>{};const c=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...c,i]),()=>{var d,l;const h=((d=e.getBlockers)==null?void 0:d.call(e))??[];(l=e.setBlockers)==null||l.call(e,h.filter(f=>f!==i))}},flush:()=>{var i;return(i=e.flush)==null?void 0:i.call(e)},destroy:()=>{var i;return(i=e.destroy)==null?void 0:i.call(e)},notify:r}}function Ds(e){return e||(e={}),{...e,key:zr()}}function Kr(e){const t=typeof document<"u"?window:void 0,s=t.history.pushState,r=t.history.replaceState;let n=[];const o=()=>n,i=S=>n=S,a=S=>S,c=()=>Ee(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);let d=c(),l,h=!1,f=!1,p=!1;const v=()=>d;let m,y;const R=()=>{m&&(j._ignoreSubscribers=!0,(m.isPush?t.history.pushState:t.history.replaceState)(m.state,"",m.href),j._ignoreSubscribers=!1,m=void 0,y=void 0,l=void 0)},L=(S,w,C)=>{const x=a(w);y||(l=d),d=Ee(w,C),m={href:x,state:C,isPush:(m==null?void 0:m.isPush)||S==="push"},y||(y=Promise.resolve().then(()=>R()))},M=()=>{d=c(),j.notify({type:"POP"})},g=async()=>{if(h){h=!1;return}if(f)f=!1;else{const S=o();if(typeof document<"u"&&S.length)for(const w of S){const C=c();if(await w.blockerFn({currentLocation:d,nextLocation:C,action:"POP"})){h=!0,t.history.go(1),j.notify({type:"POP"});return}}}d=c(),j.notify({type:"POP"})},P=S=>{if(p){p=!1;return}let w=!1;const C=o();if(typeof document<"u"&&C.length)for(const x of C){const F=x.enableBeforeUnload??!0;if(F===!0){w=!0;break}if(typeof F=="function"&&F()===!0){w=!0;break}}if(w)return S.preventDefault(),S.returnValue=""},j=lr({getLocation:v,getLength:()=>t.history.length,pushState:(S,w)=>L("push",S,w),replaceState:(S,w)=>L("replace",S,w),back:S=>(S&&(f=!0),p=!0,t.history.back()),forward:S=>{S&&(f=!0),p=!0,t.history.forward()},go:S=>t.history.go(S),createHref:S=>a(S),flush:R,destroy:()=>{t.history.pushState=s,t.history.replaceState=r,t.removeEventListener(ks,P,{capture:!0}),t.removeEventListener(Ts,g)},onBlocked:S=>{l&&d!==l&&(d=l,S())},getBlockers:o,setBlockers:i});return t.addEventListener(ks,P,{capture:!0}),t.addEventListener(Ts,g),t.history.pushState=function(...S){const w=s.apply(t.history,S);return j._ignoreSubscribers||M(),w},t.history.replaceState=function(...S){const w=r.apply(t.history,S);return j._ignoreSubscribers||M(),w},j}function qr(e={initialEntries:["/"]}){const t=e.initialEntries;let s=e.initialIndex??t.length-1;const r=t.map(()=>({}));return lr({getLocation:()=>Ee(t[s],r[s]),getLength:()=>t.length,pushState:(o,i)=>{s<t.length-1&&(t.splice(s+1),r.splice(s+1)),r.push(i),t.push(o),s=Math.max(t.length-1,0)},replaceState:(o,i)=>{r[s]=i,t[s]=o},back:()=>{s=Math.max(s-1,0)},forward:()=>{s=Math.min(s+1,t.length-1)},go:o=>{s=Math.min(Math.max(s+o,0),t.length-1)},createHref:o=>o})}function Ee(e,t){const s=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,s>0?r>0?Math.min(s,r):s:r>0?r:e.length),hash:s>-1?e.substring(s):"",search:r>-1?e.slice(r,s===-1?void 0:s):"",state:t||{}}}function zr(){return(Math.random()+1).toString(36).substring(7)}var Hr="Invariant failed";function ut(e,t){if(!e)throw new Error(Hr)}const Ze=_.createContext(null);function hr(){return typeof document>"u"?Ze:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ze,Ze)}function Lt(e){const t=_.useContext(hr());return e==null||e.warn,t}var dr={exports:{}},fr={},pr={exports:{}},mr={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=_;function Vr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:Vr,Gr=be.useState,Jr=be.useEffect,Xr=be.useLayoutEffect,Yr=be.useDebugValue;function Zr(e,t){var s=t(),r=Gr({inst:{value:s,getSnapshot:t}}),n=r[0].inst,o=r[1];return Xr(function(){n.value=s,n.getSnapshot=t,ts(n)&&o({inst:n})},[e,s,t]),Jr(function(){return ts(n)&&o({inst:n}),e(function(){ts(n)&&o({inst:n})})},[e]),Yr(s),s}function ts(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Wr(e,s)}catch{return!0}}function tn(e,t){return t()}var en=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tn:Zr;mr.useSyncExternalStore=be.useSyncExternalStore!==void 0?be.useSyncExternalStore:en;pr.exports=mr;var sn=pr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=_,rn=sn;function nn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:nn,an=rn.useSyncExternalStore,un=Ve.useRef,cn=Ve.useEffect,ln=Ve.useMemo,hn=Ve.useDebugValue;fr.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var o=un(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=ln(function(){function c(p){if(!d){if(d=!0,l=p,p=r(p),n!==void 0&&i.hasValue){var v=i.value;if(n(v,p))return h=v}return h=p}if(v=h,on(l,p))return v;var m=r(p);return n!==void 0&&n(v,m)?v:(l=p,h=m)}var d=!1,l,h,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,r,n]);var a=an(e,o[0],o[1]);return cn(function(){i.hasValue=!0,i.value=a},[a]),hn(a),a};dr.exports=fr;var dn=dr.exports;class fn{constructor(t,s){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var n,o;this.listeners.add(r);const i=(o=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:o.call(n,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.setState=r=>{var n,o,i;const a=this.state;this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(a)(r):r(a),(i=(o=this.options)==null?void 0:o.onUpdate)==null||i.call(o),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(n=>{this._flushing===r&&n()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=t,this.options=s}}function pn(e,t=s=>s){return dn.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,mn)}function mn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,n]of e)if(!t.has(r)||!Object.is(n,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!1;for(let r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(t,s[r])||!Object.is(e[s[r]],t[s[r]]))return!1;return!0}const at="__root__";function vn(e,t){let s,r,n,o="";for(s in e)if((n=e[s])!==void 0)if(Array.isArray(n))for(r=0;r<n.length;r++)o&&(o+="&"),o+=encodeURIComponent(s)+"="+encodeURIComponent(n[r]);else o&&(o+="&"),o+=encodeURIComponent(s)+"="+encodeURIComponent(n);return""+o}function js(e){if(!e)return"";const t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function yn(e,t){let s,r;const n={},o=e.split("&");for(;s=o.shift();){const i=s.indexOf("=");if(i!==-1){r=s.slice(0,i),r=decodeURIComponent(r);const a=s.slice(i+1);n[r]!==void 0?n[r]=[].concat(n[r],js(a)):n[r]=js(a)}else r=s,r=decodeURIComponent(r),n[r]=""}return n}const gn=Sn(JSON.parse),bn=_n(JSON.stringify,JSON.parse);function Sn(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const s=yn(t);for(const r in s){const n=s[r];if(typeof n=="string")try{s[r]=e(n)}catch{}}return s}}function _n(e,t){function s(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const i=r[o];typeof i>"u"||i===void 0?delete r[o]:r[o]=s(i)});const n=vn(r).toString();return n?`?${n}`:""}}function xe(e){return e[e.length-1]}function Pn(e){return typeof e=="function"}function re(e,t){return Pn(e)?e(t):e}function Ue(e,t){return t.reduce((s,r)=>(s[r]=e[r],s),{})}function lt(e,t){if(e===t)return e;const s=t,r=Bs(e)&&Bs(s);if(r||Se(e)&&Se(s)){const n=r?e:Object.keys(e),o=n.length,i=r?s:Object.keys(s),a=i.length,c=r?[]:{};let d=0;for(let l=0;l<a;l++){const h=r?l:i[l];(!r&&n.includes(h)||r)&&e[h]===void 0&&s[h]===void 0?(c[h]=void 0,d++):(c[h]=lt(e[h],s[h]),c[h]===e[h]&&e[h]!==void 0&&d++)}return o===a&&d===o?e:c}return s}function Se(e){if(!As(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const s=t.prototype;return!(!As(s)||!s.hasOwnProperty("isPrototypeOf"))}function As(e){return Object.prototype.toString.call(e)==="[object Object]"}function Bs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Us(e,t){let s=Object.keys(e);return t&&(s=s.filter(r=>e[r]!==void 0)),s}function ne(e,t,s){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Se(e)&&Se(t)){const r=(s==null?void 0:s.ignoreUndefined)??!0,n=Us(e,r),o=Us(t,r);return!(s!=null&&s.partial)&&n.length!==o.length?!1:o.every(i=>ne(e[i],t[i],s))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((r,n)=>!ne(r,t[n],s)):!1}const Re=typeof window<"u"?_.useLayoutEffect:_.useEffect;function se(e){let t,s;const r=new Promise((n,o)=>{t=n,s=o});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,t(n),e==null||e(n)},r.reject=n=>{r.status="rejected",s(n)},r}function es(e){const t=_.useRef({value:e,prev:null}),s=t.current.value;return e!==s&&(t.current={value:e,prev:s}),t.current.prev}function wn(e,t,s={},r={}){const n=_.useRef(typeof IntersectionObserver=="function"),o=_.useRef(null);return _.useEffect(()=>{if(!(!e.current||!n.current||r.disabled))return o.current=new IntersectionObserver(([i])=>{t(i)},s),o.current.observe(e.current),()=>{var i;(i=o.current)==null||i.disconnect()}},[t,s,r.disabled,e]),o.current}function Cn(e){const t=_.useRef(null);return _.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function xt(e){return We(e.filter(t=>t!==void 0).join("/"))}function We(e){return e.replace(/\/{2,}/g,"/")}function Ss(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function zt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Rn(e){return zt(Ss(e))}function Ne(e,t){return e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function Mn(e,t,s){return Ne(e,s)===Ne(t,s)}function xn({basepath:e,base:t,to:s,trailingSlash:r="never",caseSensitive:n}){var o,i;t=Ke(e,t,n),s=Ke(e,s,n);let a=_e(t);const c=_e(s);a.length>1&&((o=xe(a))==null?void 0:o.value)==="/"&&a.pop(),c.forEach((l,h)=>{l.value==="/"?h?h===c.length-1&&a.push(l):a=[l]:l.value===".."?a.pop():l.value==="."||a.push(l)}),a.length>1&&(((i=xe(a))==null?void 0:i.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const d=xt([e,...a.map(l=>l.value)]);return We(d)}function _e(e){if(!e)return[];e=We(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const s=e.split("/").filter(Boolean);return t.push(...s.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function je({path:e,params:t,leaveWildcards:s,leaveParams:r,decodeCharMap:n}){const o=_e(e),i={};for(const[a,c]of Object.entries(t)){const d=typeof c=="string";["*","_splat"].includes(a)?i[a]=d?encodeURI(c):c:i[a]=d?En(c,n):c}return xt(o.map(a=>{if(a.type==="wildcard"){const c=i._splat;return s?`${a.value}${c??""}`:c}if(a.type==="param"){if(r){const c=i[a.value];return`${a.value}${c??""}`}return i[a.value.substring(1)]??"undefined"}return a.value}))}function En(e,t){let s=encodeURIComponent(e);if(t)for(const[r,n]of t)s=s.replaceAll(r,n);return s}function Ae(e,t,s){const r=Ln(e,t,s);if(!(s.to&&!r))return r??{}}function Ke(e,t,s=!1){const r=s?e:e.toLowerCase(),n=s?t:t.toLowerCase();switch(!0){case r==="/":return t;case n===r:return"";case t.length<e.length:return t;case n[r.length]!=="/":return t;case n.startsWith(r):return t.slice(e.length);default:return t}}function Ln(e,t,s){if(e!=="/"&&!t.startsWith(e))return;t=Ke(e,t,s.caseSensitive);const r=Ke(e,`${s.to??"$"}`,s.caseSensitive),n=_e(t),o=_e(r);t.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const i={};return(()=>{for(let c=0;c<Math.max(n.length,o.length);c++){const d=n[c],l=o[c],h=c>=n.length-1,f=c>=o.length-1;if(l){if(l.type==="wildcard"){const p=decodeURI(xt(n.slice(c).map(v=>v.value)));return i["*"]=p,i._splat=p,!0}if(l.type==="pathname"){if(l.value==="/"&&!(d!=null&&d.value))return!0;if(d){if(s.caseSensitive){if(l.value!==d.value)return!1}else if(l.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(l.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(i[l.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&f)return i["**"]=xt(n.slice(c+1).map(p=>p.value)),!!s.fuzzy&&(l==null?void 0:l.value)!=="/"}return!0})()?i:void 0}function qt(e){return!!(e!=null&&e.isRedirect)}function ss(e){return!!(e!=null&&e.isRedirect)&&e.href}function _s(e){const t=e.errorComponent??Ge;return O.jsx(Fn,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:s,reset:r})=>s?_.createElement(t,{error:s,reset:r}):e.children})}class Fn extends _.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,s){this.props.onCatch&&this.props.onCatch(t,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Ge({error:e}){const[t,s]=_.useState(!1);return O.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[O.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),O.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(r=>!r),children:t?"Hide Error":"Show Error"})]}),O.jsx("div",{style:{height:".25rem"}}),t?O.jsx("div",{children:O.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?O.jsx("code",{children:e.message}):null})}):null]})}function st(e){const t=Lt({warn:(e==null?void 0:e.router)===void 0}),s=(e==null?void 0:e.router)||t,r=_.useRef();return pn(s.__store,n=>{if(e!=null&&e.select){if(e.structuralSharing??s.options.defaultStructuralSharing){const o=lt(r.current,e.select(n));return r.current=o,o}return e.select(n)}return n})}function On(e={}){if(e.isNotFound=!0,e.throw)throw e;return e}function vt(e){return!!(e!=null&&e.isNotFound)}function In(e){const t=st({select:s=>`not-found-${s.location.pathname}-${s.status}`});return O.jsx(_s,{getResetKey:()=>t,onCatch:(s,r)=>{var n;if(vt(s))(n=e.onCatch)==null||n.call(e,s,r);else throw s},errorComponent:({error:s})=>{var r;if(vt(s))return(r=e.fallback)==null?void 0:r.call(e,s);throw s},children:e.children})}function Tn(){return O.jsx("p",{children:"Not Found"})}const kn={stringify:e=>JSON.stringify(e,function(s,r){const n=this[s],o=Qs.find(i=>i.stringifyCondition(n));return o?o.stringify(n):r}),parse:e=>JSON.parse(e,function(s,r){const n=this[s],o=Qs.find(i=>i.parseCondition(n));return o?o.parse(n):r})},Qs=[{stringifyCondition:e=>e instanceof Date,stringify:e=>({$date:e.toISOString()}),parseCondition:e=>Se(e)&&e.$date,parse:e=>new Date(e.$date)},{stringifyCondition:e=>e===void 0,stringify:()=>({$undefined:""}),parseCondition:e=>Se(e)&&e.$undefined==="",parse:()=>{}}],vr=["component","errorComponent","pendingComponent","notFoundComponent"];function Dn(e){var t;for(const s of vr)if((t=e.options[s])!=null&&t.preload)return!0;return!1}function rs(e,t){if(e==null)return{};if("~standard"in e){const s=e["~standard"].validate(t);if(s instanceof Promise)throw new is("Async validation not supported");if(s.issues)throw new is(JSON.stringify(s.issues,void 0,2));return s.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function Ti(e){return new jn(e)}class jn{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=s=>s(),this.update=s=>{var r;s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...s},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||s.basepath&&s.basepath!==n.basepath)&&(s.basepath===void 0||s.basepath===""||s.basepath==="/"?this.basepath="/":this.basepath=`/${Rn(s.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?qr({initialEntries:[this.basepath||"/"]}):Kr()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new fn(Bn(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[s.id]=s);const r=i=>{i.forEach((a,c)=>{a.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[a.id];if(ut(!d,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const h=zt(a.fullPath);(!this.routesByPath[h]||a.fullPath.endsWith("/"))&&(this.routesByPath[h]=a)}const l=a.children;l!=null&&l.length&&r(l)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((i,a)=>{var c;if(i.isRoot||!i.path)return;const d=Ss(i.fullPath),l=_e(d);for(;l.length>1&&((c=l[0])==null?void 0:c.value)==="/";)l.shift();const h=l.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);n.push({child:i,trimmed:d,parsed:l,index:a,scores:h})}),this.flatRoutes=n.sort((i,a)=>{const c=Math.min(i.scores.length,a.scores.length);for(let d=0;d<c;d++)if(i.scores[d]!==a.scores[d])return a.scores[d]-i.scores[d];if(i.scores.length!==a.scores.length)return a.scores.length-i.scores.length;for(let d=0;d<c;d++)if(i.parsed[d].value!==a.parsed[d].value)return i.parsed[d].value>a.parsed[d].value?1:-1;return i.index-a.index}).map((i,a)=>(i.child.rank=a,i.child))},this.subscribe=(s,r)=>{const n={eventType:s,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=s=>{this.subscribers.forEach(r=>{r.eventType===s.type&&r.fn(s)})},this.parseLocation=(s,r)=>{const n=({pathname:c,search:d,hash:l,state:h})=>{const f=this.options.parseSearch(d),p=this.options.stringifySearch(f);return{pathname:c,searchStr:p,search:lt(s==null?void 0:s.search,f),hash:l.split("#").reverse()[0]??"",href:`${c}${p}${l}`,state:lt(s==null?void 0:s.state,h)}},o=n(r??this.history.location),{__tempLocation:i,__tempKey:a}=o.state;if(i&&(!a||a===this.tempLocationKey)){const c=n(i);return c.state.key=o.state.key,delete c.state.__tempLocation,{...c,maskedLocation:o}}return o},this.resolvePathWithBase=(s,r)=>xn({basepath:this.basepath,base:s,to:We(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(s,r)=>{let n={};const o=zt(s.pathname),i=l=>Ae(this.basepath,o,{to:l.fullPath,caseSensitive:l.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?n=i(a):a=this.flatRoutes.find(l=>{const h=i(l);return h?(n=h,!0):!1});let c=a||this.routesById[at];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:n,foundRoute:a}},this.cancelMatch=s=>{const r=this.getMatch(s);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var s;(s=this.state.pendingMatches)==null||s.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=s=>{const r=(o={},i)=>{var a,c,d,l,h,f;const p=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,v=o.from!=null?p.find(F=>Ae(this.basepath,zt(F.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,m=(v==null?void 0:v.pathname)||this.latestLocation.pathname;ut(o.from==null||v!=null,"Could not find match for from: "+o.from);const y=(a=this.state.pendingMatches)!=null&&a.length?(c=xe(this.state.pendingMatches))==null?void 0:c.search:((d=xe(p))==null?void 0:d.search)||this.latestLocation.search,R=i==null?void 0:i.matchedRoutes.filter(F=>p.find(I=>I.routeId===F.id));let L;if(o.to)L=this.resolvePathWithBase(m,`${o.to}`);else{const F=this.routesById[(l=R==null?void 0:R.find(I=>{const U=je({path:I.fullPath,params:(i==null?void 0:i.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return xt([this.basepath,U])===m}))==null?void 0:l.id];L=this.resolvePathWithBase(m,(F==null?void 0:F.to)??m)}const M={...(h=xe(p))==null?void 0:h.params};let g=(o.params??!0)===!0?M:{...M,...re(o.params,M)};Object.keys(g).length>0&&(i==null||i.matchedRoutes.map(F=>{var I;return((I=F.options.params)==null?void 0:I.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{g={...g,...F(g)}})),L=je({path:L,params:g??{},leaveWildcards:!1,leaveParams:s.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let P=y;if(s._includeValidateSearch&&((f=this.options.search)!=null&&f.strict)){let F={};i==null||i.matchedRoutes.forEach(I=>{try{I.options.validateSearch&&(F={...F,...rs(I.options.validateSearch,{...F,...P})??{}})}catch{}}),P=F}P=(F=>{const I=(i==null?void 0:i.matchedRoutes.reduce((Q,$)=>{var rt;const z=[];if("search"in $.options)(rt=$.options.search)!=null&&rt.middlewares&&z.push(...$.options.search.middlewares);else if($.options.preSearchFilters||$.options.postSearchFilters){const W=({search:Z,next:bt})=>{let H=Z;"preSearchFilters"in $.options&&$.options.preSearchFilters&&(H=$.options.preSearchFilters.reduce((K,N)=>N(K),Z));const V=bt(H);return"postSearchFilters"in $.options&&$.options.postSearchFilters?$.options.postSearchFilters.reduce((K,N)=>N(K),V):V};z.push(W)}if(s._includeValidateSearch&&$.options.validateSearch){const W=({search:Z,next:bt})=>{try{const H=bt(Z);return{...H,...rs($.options.validateSearch,H)??{}}}catch{}};z.push(W)}return Q.concat(z)},[]))??[],U=({search:Q})=>o.search?o.search===!0?Q:re(o.search,Q):{};I.push(U);const T=(Q,$)=>{if(Q>=I.length)return $;const rt=I[Q];return rt({search:$,next:W=>T(Q+1,W)})};return T(0,F)})(P),P=lt(y,P);const S=this.options.stringifySearch(P),w=o.hash===!0?this.latestLocation.hash:o.hash?re(o.hash,this.latestLocation.hash):void 0,C=w?`#${w}`:"";let x=o.state===!0?this.latestLocation.state:o.state?re(o.state,this.latestLocation.state):{};return x=lt(this.latestLocation.state,x),{pathname:L,search:P,searchStr:S,state:x,hash:w??"",href:`${L}${S}${C}`,unmaskOnReload:o.unmaskOnReload}},n=(o={},i)=>{var a;const c=r(o);let d=i?r(i):void 0;if(!d){let f={};const p=(a=this.options.routeMasks)==null?void 0:a.find(v=>{const m=Ae(this.basepath,c.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1});return m?(f=m,!0):!1});if(p){const{from:v,...m}=p;i={...Ue(s,["from"]),...m,params:f},d=r(i)}}const l=this.getMatchedRoutes(c,o),h=r(o,l);if(d){const f=this.getMatchedRoutes(d,i),p=r(i,f);h.maskedLocation=p}return h};return s.mask?n(s,{...Ue(s,["from"]),...s.mask}):n(s)},this.commitLocation=({viewTransition:s,ignoreBlocker:r,...n})=>{const o=()=>{n.state.key=this.latestLocation.state.key;const c=ne(n.state,this.latestLocation.state);return delete n.state.key,c},i=this.latestLocation.href===n.href,a=this.commitLocationPromise;if(this.commitLocationPromise=se(()=>{a==null||a.resolve()}),i&&o())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...l}=n;c&&(l={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=s,this.history[n.replace?"replace":"push"](l.href,l.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:r,hashScrollIntoView:n,viewTransition:o,ignoreBlocker:i,href:a,...c}={})=>{if(a){const l=Ee(a,{});c.to=l.pathname,c.search=this.options.parseSearch(l.search),c.hash=l.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:o,replace:s,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:i})},this.navigate=({to:s,reloadDocument:r,href:n,...o})=>{if(r){n||(n=this.buildLocation({to:s,...o}).href),o.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...o,href:n,to:s})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let s,r,n;for(n=new Promise(o=>{this.startReactTransition(async()=>{var i;try{const a=this.latestLocation,c=this.state.resolvedLocation,d=c.href!==a.href,l=c.pathname!==a.pathname;this.cancelMatches();let h;this.__store.batch(()=>{h=this.matchRoutes(a),this.__store.setState(f=>({...f,status:"pending",isLoading:!0,location:a,pendingMatches:h,cachedMatches:f.cachedMatches.filter(p=>!h.find(v=>v.id===p.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:c,toLocation:a,pathChanged:l,hrefChanged:d}),this.emit({type:"onBeforeLoad",fromLocation:c,toLocation:a,pathChanged:l,hrefChanged:d}),await this.loadMatches({matches:h,location:a,onReady:async()=>{this.startViewTransition(async()=>{let f,p,v;this.__store.batch(()=>{this.__store.setState(m=>{const y=m.matches,R=m.pendingMatches||m.matches;return f=y.filter(L=>!R.find(M=>M.id===L.id)),p=R.filter(L=>!y.find(M=>M.id===L.id)),v=y.filter(L=>R.find(M=>M.id===L.id)),{...m,isLoading:!1,loadedAt:Date.now(),matches:R,pendingMatches:void 0,cachedMatches:[...m.cachedMatches,...f.filter(L=>L.status!=="error")]}}),this.clearExpiredCache()}),[[f,"onLeave"],[p,"onEnter"],[v,"onStay"]].forEach(([m,y])=>{m.forEach(R=>{var L,M;(M=(L=this.looseRoutesById[R.routeId].options)[y])==null||M.call(L,R)})})})}})}catch(a){ss(a)?(s=a,this.isServer||this.navigate({...s,replace:!0,ignoreBlocker:!0})):vt(a)&&(r=a),this.__store.setState(c=>({...c,statusCode:s?s.statusCode:r?404:c.matches.some(d=>d.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===n&&((i=this.commitLocationPromise)==null||i.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=n,await n;this.latestLoadPromise&&n!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=s=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;typeof r=="object"&&this.isViewTransitionTypesSupported?n={update:s,types:r.types}:n=s,document.startViewTransition(n)}else s()},this.updateMatch=(s,r)=>{var n;let o;const i=(n=this.state.pendingMatches)==null?void 0:n.find(l=>l.id===s),a=this.state.matches.find(l=>l.id===s),c=this.state.cachedMatches.find(l=>l.id===s),d=i?"pendingMatches":a?"matches":c?"cachedMatches":"";return d&&this.__store.setState(l=>{var h;return{...l,[d]:(h=l[d])==null?void 0:h.map(f=>f.id===s?o=r(f):f)}}),o},this.getMatch=s=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===s),this.loadMatches=async({location:s,matches:r,preload:n,onReady:o,updateMatch:i=this.updateMatch})=>{let a,c=!1;const d=async()=>{c||(c=!0,await(o==null?void 0:o()))},l=f=>!!(n&&!this.state.matches.find(p=>p.id===f));!this.isServer&&!this.state.matches.length&&d();const h=(f,p)=>{var v,m,y;if(ss(p)&&!p.reloadDocument)throw p;if(qt(p)||vt(p)){if(i(f.id,R=>({...R,status:qt(p)?"redirected":vt(p)?"notFound":"error",isFetching:!1,error:p,beforeLoadPromise:void 0,loaderPromise:void 0})),p.routeId||(p.routeId=f.routeId),(v=f.beforeLoadPromise)==null||v.resolve(),(m=f.loaderPromise)==null||m.resolve(),(y=f.loadPromise)==null||y.resolve(),qt(p))throw c=!0,p=this.resolveRedirect({...p,_fromLocation:s}),p;if(vt(p))throw this._handleNotFound(r,p,{updateMatch:i}),p}};try{await new Promise((f,p)=>{(async()=>{var v,m,y;try{const R=(g,P,j)=>{var S,w;const{id:C,routeId:x}=r[g],F=this.looseRoutesById[x];if(P instanceof Promise)throw P;P.routerCode=j,a=a??g,h(this.getMatch(C),P);try{(w=(S=F.options).onError)==null||w.call(S,P)}catch(I){P=I,h(this.getMatch(C),P)}i(C,I=>{var U,T;return(U=I.beforeLoadPromise)==null||U.resolve(),(T=I.loadPromise)==null||T.resolve(),{...I,error:P,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[g,{id:P,routeId:j}]of r.entries()){const S=this.getMatch(P),w=(v=r[g-1])==null?void 0:v.id,C=this.looseRoutesById[j],x=C.options.pendingMs??this.options.defaultPendingMs,F=!!(o&&!this.isServer&&!l(P)&&(C.options.loader||C.options.beforeLoad)&&typeof x=="number"&&x!==1/0&&(C.options.pendingComponent??this.options.defaultPendingComponent));let I=!0;if((S.beforeLoadPromise||S.loaderPromise)&&(F&&setTimeout(()=>{try{d()}catch{}},x),await S.beforeLoadPromise,I=this.getMatch(P).status!=="success"),I){try{i(P,N=>({...N,loadPromise:se(()=>{var ft;(ft=N.loadPromise)==null||ft.resolve()}),beforeLoadPromise:se()}));const U=new AbortController;let T;F&&(T=setTimeout(()=>{try{d()}catch{}},x));const{paramsError:Q,searchError:$}=this.getMatch(P);Q&&R(g,Q,"PARSE_PARAMS"),$&&R(g,$,"VALIDATE_SEARCH");const rt=()=>w?this.getMatch(w).context:this.options.context??{};i(P,N=>({...N,isFetching:"beforeLoad",fetchCount:N.fetchCount+1,abortController:U,pendingTimeout:T,context:{...rt(),...N.__routeContext,...N.__beforeLoadContext}}));const{search:z,params:W,context:Z,cause:bt}=this.getMatch(P),H=l(P),V={search:z,abortController:U,params:W,preload:H,context:Z,location:s,navigate:N=>this.navigate({...N,_fromLocation:s}),buildLocation:this.buildLocation,cause:H?"preload":bt,matches:r};let K=await((y=(m=C.options).beforeLoad)==null?void 0:y.call(m,V))??{};this.serializeLoaderData&&(K=this.serializeLoaderData("__beforeLoadContext",K,{router:this,match:this.getMatch(P)})),(qt(K)||vt(K))&&R(g,K,"BEFORE_LOAD"),i(P,N=>({...N,__beforeLoadContext:K,context:{...rt(),...N.__routeContext,...K},abortController:U}))}catch(U){R(g,U,"BEFORE_LOAD")}i(P,U=>{var T;return(T=U.beforeLoadPromise)==null||T.resolve(),{...U,beforeLoadPromise:void 0,isFetching:!1}})}}const L=r.slice(0,a),M=[];L.forEach(({id:g,routeId:P},j)=>{M.push((async()=>{const{loaderPromise:S}=this.getMatch(g);let w=!1;if(S)await S;else{const C=M[j-1],x=this.looseRoutesById[P],F=()=>{const{params:H,loaderDeps:V,abortController:K,context:N,cause:ft}=this.getMatch(g),ct=l(g);return{params:H,deps:V,preload:!!ct,parentMatchPromise:C,abortController:K,context:N,location:s,navigate:ee=>this.navigate({...ee,_fromLocation:s}),cause:ct?"preload":ft,route:x}},I=Date.now()-this.getMatch(g).updatedAt,U=l(g),T=U?x.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:x.options.staleTime??this.options.defaultStaleTime??0,Q=x.options.shouldReload,$=typeof Q=="function"?Q(F()):Q;i(g,H=>({...H,loaderPromise:se(),preload:!!U&&!this.state.matches.find(V=>V.id===g)}));const rt=async()=>{var H,V,K,N,ft,ct,ee,ke;try{const $t=async()=>{const X=this.getMatch(g);X.minPendingPromise&&await X.minPendingPromise};try{x._lazyPromise===void 0&&(x.lazyFn?x._lazyPromise=x.lazyFn().then(St=>{const{id:Kt,...B}=St.options;Object.assign(x.options,B)}):x._lazyPromise=Promise.resolve()),x._componentsPromise===void 0&&(x._componentsPromise=x._lazyPromise.then(()=>Promise.all(vr.map(async St=>{const Kt=x.options[St];Kt!=null&&Kt.preload&&await Kt.preload()})))),i(g,St=>({...St,isFetching:"loader"}));let X=await((V=(H=x.options).loader)==null?void 0:V.call(H,F()));this.serializeLoaderData&&(X=this.serializeLoaderData("loaderData",X,{router:this,match:this.getMatch(g)})),h(this.getMatch(g),X),await x._lazyPromise,await $t();const pt=(N=(K=x.options).head)==null?void 0:N.call(K,{matches:r,match:this.getMatch(g),params:this.getMatch(g).params,loaderData:X}),Ft=pt==null?void 0:pt.meta,Nt=pt==null?void 0:pt.links,we=pt==null?void 0:pt.scripts,Ce=(ct=(ft=x.options).headers)==null?void 0:ct.call(ft,{loaderData:X});i(g,St=>({...St,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:X,meta:Ft,links:Nt,scripts:we,headers:Ce}))}catch(X){let pt=X;await $t(),h(this.getMatch(g),X);try{(ke=(ee=x.options).onError)==null||ke.call(ee,X)}catch(Ft){pt=Ft,h(this.getMatch(g),Ft)}i(g,Ft=>({...Ft,error:pt,status:"error",isFetching:!1}))}await x._componentsPromise}catch($t){i(g,X=>({...X,loaderPromise:void 0})),h(this.getMatch(g),$t)}},{status:z,invalid:W}=this.getMatch(g);w=z==="success"&&(W||($??I>T)),U&&x.options.preload===!1||(w?(async()=>{try{await rt()}catch(H){ss(H)&&await this.navigate(H)}})():z!=="success"&&await rt());const{loaderPromise:Z,loadPromise:bt}=this.getMatch(g);Z==null||Z.resolve(),bt==null||bt.resolve()}return i(g,C=>({...C,isFetching:w?C.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(g)})())}),await Promise.all(M),f()}catch(R){p(R)}})()}),await d()}catch(f){if(qt(f)||vt(f))throw vt(f)&&!n&&await d(),f}return r},this.invalidate=s=>{const r=n=>{var o;return((o=s==null?void 0:s.filter)==null?void 0:o.call(s,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var o;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(o=n.pendingMatches)==null?void 0:o.map(r)}}),this.load()},this.resolveRedirect=s=>{const r=s;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=s=>{const r=s==null?void 0:s.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(o=>!r(o))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const s=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const o=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:s})},this.preloadRoute=async s=>{const r=this.buildLocation(s);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:s});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),i=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);this.__store.batch(()=>{n.forEach(a=>{i.has(a.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(a,c)=>{o.has(a)?n=n.map(d=>d.id===a?c(d):d):this.updateMatch(a,c)}}),n}catch(a){if(qt(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});console.error(a);return}},this.matchRoute=(s,r)=>{const n={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},o=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=Ae(this.basepath,a.pathname,{...r,to:o.pathname});return!c||s.params&&!ne(c,s.params,{partial:!0})?!1:c&&((r==null?void 0:r.includeSearch)??!0)?ne(a.search,o.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var s;const r=((s=this.options.errorSerializer)==null?void 0:s.serialize)??Un;return{state:{dehydratedMatches:this.state.matches.map(n=>({...Ue(n,["id","status","updatedAt"]),error:n.error?{data:r(n.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var s,r,n;let o;typeof document<"u"&&(o=this.options.transformer.parse((s=window.__TSR__)==null?void 0:s.dehydrated)),ut(o),this.dehydratedData=o.payload,(n=(r=this.options).hydrate)==null||n.call(r,o.payload);const i=o.router.state,a=this.matchRoutes(this.state.location).map(c=>{const d=i.dehydratedMatches.find(l=>l.id===c.id);return ut(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:a})),this.manifest=o.router.manifest},this.injectedHtml=[],this.injectHtml=s=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(n=>n!==r),s);this.injectedHtml.push(r)},this.injectScript=(s,r)=>{this.injectHtml(`<script class='tsr-once'>${s}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()<\/script>`)},this.streamedKeys=new Set,this.getStreamedValue=s=>{var r;if(this.isServer)return;const n=(r=window.__TSR__)==null?void 0:r.streamedValues[s];if(n)return n.parsed||(n.parsed=this.options.transformer.parse(n.value)),n.parsed},this.streamValue=(s,r)=>{var n;this.streamedKeys.has(s),this.streamedKeys.add(s),this.injectScript(`__TSR__.streamedValues['${s}'] = { value: ${(n=this.serializer)==null?void 0:n.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(s,r,{updateMatch:n=this.updateMatch}={})=>{const o=Object.fromEntries(s.map(c=>[c.routeId,c]));let i=(r.global?this.looseRoutesById[at]:this.looseRoutesById[r.routeId])||this.looseRoutesById[at];for(;!i.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&i.id!==at;)i=i.parentRoute,ut(i);const a=o[i.id];ut(a,"Could not find match for route: "+i.id),n(a.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&i.parentRoute&&(r.routeId=i.parentRoute.id,this._handleNotFound(s,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??bn,parseSearch:t.parseSearch??gn,transformer:t.transformer??kn}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,s,r){return typeof t=="string"?this.matchRoutesInternal({pathname:t,search:s},r):this.matchRoutesInternal(t,s)}matchRoutesInternal(t,s){const{foundRoute:r,matchedRoutes:n,routeParams:o}=this.getMatchedRoutes(t,s==null?void 0:s.dest);let i=!1;(r?r.path!=="/"&&o["**"]:zt(t.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):i=!0);const a=(()=>{if(i){if(this.options.notFoundMode!=="root")for(let l=n.length-1;l>=0;l--){const h=n[l];if(h.children)return h.id}return at}})(),c=n.map(l=>{var h;let f;const p=((h=l.options.params)==null?void 0:h.parse)??l.options.parseParams;if(p)try{const v=p(o);Object.assign(o,v)}catch(v){if(f=new An(v.message,{cause:v}),s!=null&&s.throwOnError)throw f;return f}}),d=[];return n.forEach((l,h)=>{var f,p,v,m,y,R,L,M;const g=d[h-1],[P,j]=(()=>{const z=(g==null?void 0:g.search)??t.search;try{const W=rs(l.options.validateSearch,z)??{};return[{...z,...W},void 0]}catch(W){const Z=new is(W.message,{cause:W});if(s!=null&&s.throwOnError)throw Z;return[z,Z]}})(),S=((p=(f=l.options).loaderDeps)==null?void 0:p.call(f,{search:P}))??"",w=S?JSON.stringify(S):"",C=je({path:l.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),x=je({path:l.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+w,F=this.getMatch(x),I=this.state.matches.find(z=>z.routeId===l.id),U=I?"stay":"enter";let T;if(F)T={...F,cause:U,params:I?lt(I.params,o):o,search:lt(I?I.search:F.search,P)};else{const z=l.options.loader||l.options.beforeLoad||l.lazyFn||Dn(l)?"pending":"success";T={id:x,index:h,routeId:l.id,params:I?lt(I.params,o):o,pathname:xt([this.basepath,C]),updatedAt:Date.now(),search:I?lt(I.search,P):P,searchError:void 0,status:z,isFetching:!1,error:void 0,paramsError:c[h],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:U,loaderDeps:I?lt(I.loaderDeps,S):S,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:l.options.staticData||{},loadPromise:se(),fullPath:l.fullPath}}const Q=(m=(v=l.options).head)==null?void 0:m.call(v,{matches:d,match:T,params:T.params,loaderData:T.loaderData??void 0});T.links=Q==null?void 0:Q.links,T.scripts=Q==null?void 0:Q.scripts,T.meta=Q==null?void 0:Q.meta,T.status==="success"&&(T.headers=(R=(y=l.options).headers)==null?void 0:R.call(y,{loaderData:T.loaderData})),s!=null&&s.preload||(T.globalNotFound=a===l.id),T.searchError=j;const rt=(g==null?void 0:g.id)?g.context??this.options.context??{}:this.options.context??{};if(T.context={...rt,...T.__routeContext,...T.__beforeLoadContext},!F&&(s==null?void 0:s._buildLocation)!==!0){const z={deps:S,params:T.params,context:T.context,location:t,navigate:W=>this.navigate({...W,_fromLocation:t}),buildLocation:this.buildLocation,cause:T.cause,abortController:T.abortController,preload:!!T.preload,matches:d};T.__routeContext=((M=(L=l.options).context)==null?void 0:M.call(L,z))??{},T.context={...rt,...T.__routeContext,...T.__beforeLoadContext}}d.push(T)}),d}}class is extends Error{}class An extends Error{}function Bn(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Un(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function $s(e){return!(typeof e=="object"&&e&&"data"in e)||!("__isServerError"in e&&e.__isServerError)||!(typeof e.data=="object"&&e.data)?!1:e.__isServerError===!0}function Ns(e){if("name"in e&&"message"in e){const t=new Error(e.message);return t.name=e.name,t}return e.data}const Je=_.createContext(void 0),Qn=_.createContext(void 0);function gt(e){const t=_.useContext(e.from?Qn:Je);return st({select:r=>{const n=r.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(ut(!((e.shouldThrow??!0)&&!n),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),n!==void 0)return e.select?e.select(n):n},structuralSharing:e.structuralSharing})}function Ps(e){return gt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function ws(e){const{select:t,...s}=e;return gt({...s,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function Cs(e){return gt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function Rs(e){return gt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ms(e){const{navigate:t}=Lt();return _.useCallback(s=>t({...s}),[t])}function ki(e){return new $n({id:e})}class $n{constructor({id:t}){this.useMatch=s=>gt({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>gt({from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Rs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Cs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>ws({...s,from:this.id,strict:!1}),this.useLoaderData=s=>Ps({...s,from:this.id,strict:!1}),this.useNavigate=()=>Ms({from:this.id}),this.notFound=s=>On({routeId:this.id,...s}),this.id=t}}class yr{constructor(t){this.init=s=>{var r,n;this.originalIndex=s.originalIndex;const o=this.options,i=!(o!=null&&o.path)&&!(o!=null&&o.id);this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),i?this._path=at:ut(this.parentRoute);let a=i?at:o.path;a&&a!=="/"&&(a=Ss(a));const c=(o==null?void 0:o.id)||a;let d=i?at:xt([this.parentRoute.id===at?"":this.parentRoute.id,c]);a===at&&(a="/"),d!==at&&(d=xt(["/",d]));const l=d===at?"/":xt([this.parentRoute.fullPath,a]);this._path=a,this._id=d,this._fullPath=l,this._to=l,this._ssr=(o==null?void 0:o.ssr)??s.defaultSsr??!0},this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.useMatch=s=>gt({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>gt({...s,from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Rs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Cs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>ws({...s,from:this.id}),this.useLoaderData=s=>Ps({...s,from:this.id}),this.useNavigate=()=>Ms({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),ut(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this}}function Nn(e){return new yr(e)}class Kn extends yr{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function Di(e){return new Kn(e)}function ji(e){return new qn(e,{silent:!0}).createRoute}class qn{constructor(t,s){this.path=t,this.createRoute=r=>{this.silent;const n=Nn(r);return n.isRoot=!1,n},this.silent=s==null?void 0:s.silent}}class zn{constructor(t){this.useMatch=s=>gt({select:s==null?void 0:s.select,from:this.options.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>gt({from:this.options.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Rs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useParams=s=>Cs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useLoaderDeps=s=>ws({...s,from:this.options.id}),this.useLoaderData=s=>Ps({...s,from:this.options.id}),this.useNavigate=()=>Ms({from:this.options.id}),this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Ai(e){return t=>new zn({id:e,...t})}function Qe(e){return O.jsx(O.Fragment,{children:e.children})}function gr(e,t,s){return t.options.notFoundComponent?O.jsx(t.options.notFoundComponent,{data:s}):e.options.defaultNotFoundComponent?O.jsx(e.options.defaultNotFoundComponent,{data:s}):O.jsx(Tn,{})}const br=_.memo(function({matchId:t}){var s,r;const n=Lt(),o=st({select:y=>{var R;return(R=y.matches.find(L=>L.id===t))==null?void 0:R.routeId}});ut(o);const i=n.routesById[o],a=i.options.pendingComponent??n.options.defaultPendingComponent,c=a?O.jsx(a,{}):null,d=i.options.errorComponent??n.options.defaultErrorComponent,l=i.options.onCatch??n.options.defaultOnCatch,h=i.isRoot?i.options.notFoundComponent??((s=n.options.notFoundRoute)==null?void 0:s.options.component):i.options.notFoundComponent,f=(!i.isRoot||i.options.wrapInSuspense)&&(i.options.wrapInSuspense??a??((r=i.options.errorComponent)==null?void 0:r.preload))?_.Suspense:Qe,p=d?_s:Qe,v=h?In:Qe,m=st({select:y=>y.loadedAt});return O.jsx(Je.Provider,{value:t,children:O.jsx(f,{fallback:c,children:O.jsx(p,{getResetKey:()=>m,errorComponent:d||Ge,onCatch:(y,R)=>{if(vt(y))throw y;l==null||l(y,R)},children:O.jsx(v,{fallback:y=>{if(!h||y.routeId&&y.routeId!==o||!y.routeId&&!i.isRoot)throw y;return _.createElement(h,y)},children:O.jsx(Hn,{matchId:t})})})})})}),Hn=_.memo(function({matchId:t}){var s,r,n,o,i;const a=Lt(),{match:c,matchIndex:d,routeId:l}=st({select:v=>{const m=v.matches.findIndex(L=>L.id===t),y=v.matches[m];return{routeId:y.routeId,matchIndex:m,match:Ue(y,["id","status","error"])}},structuralSharing:!0}),h=a.routesById[l],f=_.useMemo(()=>{const v=h.options.component??a.options.defaultComponent;return v?O.jsx(v,{}):O.jsx(Vn,{})},[h.options.component,a.options.defaultComponent]),p=(h.options.errorComponent??a.options.defaultErrorComponent)||Ge;if(c.status==="notFound"){let v;return $s(c.error)?v=(((s=a.options.errorSerializer)==null?void 0:s.deserialize)??Ns)(c.error.data):v=c.error,ut(vt(v)),gr(a,h,v)}if(c.status==="redirected")throw ut(qt(c.error)),(r=a.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(a.isServer)return O.jsx(p,{error:c.error,info:{componentStack:""}});throw $s(c.error)?(((n=a.options.errorSerializer)==null?void 0:n.deserialize)??Ns)(c.error.data):c.error}if(c.status==="pending"){const v=h.options.pendingMinMs??a.options.defaultPendingMinMs;if(v&&!((o=a.getMatch(c.id))!=null&&o.minPendingPromise)&&!a.isServer){const m=se();Promise.resolve().then(()=>{a.updateMatch(c.id,y=>({...y,minPendingPromise:m}))}),setTimeout(()=>{m.resolve(),a.updateMatch(c.id,y=>({...y,minPendingPromise:void 0}))},v)}throw(i=a.getMatch(c.id))==null?void 0:i.loadPromise}return O.jsxs(O.Fragment,{children:[f,a.AfterEachMatch?O.jsx(a.AfterEachMatch,{match:c,matchIndex:d}):null]})}),Vn=_.memo(function(){const t=Lt(),s=_.useContext(Je),r=st({select:d=>{var l;return(l=d.matches.find(h=>h.id===s))==null?void 0:l.routeId}}),n=t.routesById[r],o=st({select:d=>{const h=d.matches.find(f=>f.id===s);return ut(h),h.globalNotFound}}),i=st({select:d=>{var l;const h=d.matches,f=h.findIndex(p=>p.id===s);return(l=h[f+1])==null?void 0:l.id}});if(o)return gr(t,n,void 0);if(!i)return null;const a=O.jsx(br,{matchId:i}),c=t.options.defaultPendingComponent?O.jsx(t.options.defaultPendingComponent,{}):null;return s===at?O.jsx(_.Suspense,{fallback:c,children:a}):a}),Wn="Error preloading route! ☝️";function Gn(e,t){const s=Lt(),[r,n]=_.useState(!1),o=_.useRef(!1),i=Cn(t),{activeProps:a=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:l,preload:h,preloadDelay:f,hashScrollIntoView:p,replace:v,startTransition:m,resetScroll:y,viewTransition:R,children:L,target:M,disabled:g,style:P,className:j,onClick:S,onFocus:w,onMouseEnter:C,onMouseLeave:x,onTouchStart:F,ignoreBlocker:I,...U}=e,{params:T,search:Q,hash:$,state:rt,mask:z,...W}=U,Z=_.useMemo(()=>{if(U.reloadDocument)return"external";try{return new URL(`${l}`),"external"}catch{}return"internal"},[l]),bt=st({select:B=>B.location.search,structuralSharing:!0});e={from:gt({strict:!1,select:B=>B.pathname}),...e};const V=_.useMemo(()=>s.buildLocation(e),[s,e,bt]),K=_.useMemo(()=>h??s.options.defaultPreload,[s.options.defaultPreload,h]),N=f??s.options.defaultPreloadDelay??0,ft=st({select:B=>{if(d!=null&&d.exact){if(!Mn(B.location.pathname,V.pathname,s.basepath))return!1}else{const J=Ne(B.location.pathname,s.basepath).split("/");if(!Ne(V.pathname,s.basepath).split("/").every((kr,Dr)=>kr===J[Dr]))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!ne(B.location.search,V.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?B.location.hash===V.hash:!0}}),ct=_.useCallback(()=>{s.preloadRoute(e).catch(B=>{console.warn(B),console.warn(Wn)})},[e,s]),ee=_.useCallback(B=>{B!=null&&B.isIntersecting&&ct()},[ct]);if(wn(i,ee,{rootMargin:"100px"},{disabled:!!g||K!=="viewport"}),Re(()=>{o.current||!g&&K==="render"&&(ct(),o.current=!0)},[g,ct,K]),Z==="external")return{...W,ref:i,type:Z,href:l,...L&&{children:L},...M&&{target:M},...g&&{disabled:g},...P&&{style:P},...j&&{className:j},...S&&{onClick:S},...w&&{onFocus:w},...C&&{onMouseEnter:C},...x&&{onMouseLeave:x},...F&&{onTouchStart:F}};const ke=B=>{if(!g&&!Xn(B)&&!B.defaultPrevented&&(!M||M==="_self")&&B.button===0){B.preventDefault(),jr.flushSync(()=>{n(!0)});const J=s.subscribe("onResolved",()=>{J(),n(!1)});s.buildAndCommitLocation({...e,replace:v,resetScroll:y,hashScrollIntoView:p,startTransition:m,viewTransition:R,ignoreBlocker:I})}},$t=B=>{g||K&&ct()},X=$t,pt=B=>{if(g)return;const J=B.target||{};if(K){if(J.preloadTimeout)return;J.preloadTimeout=setTimeout(()=>{J.preloadTimeout=null,ct()},N)}},Ft=B=>{if(g)return;const J=B.target||{};J.preloadTimeout&&(clearTimeout(J.preloadTimeout),J.preloadTimeout=null)},Nt=B=>J=>{var Xe;(Xe=J.persist)==null||Xe.call(J),B.filter(Boolean).forEach(Os=>{J.defaultPrevented||Os(J)})},we=ft?re(a,{})??{}:{},Ce=ft?{}:re(c,{}),St=[j,we.className,Ce.className].filter(Boolean).join(" "),Kt={...P,...we.style,...Ce.style};return{...W,...we,...Ce,href:g?void 0:V.maskedLocation?s.history.createHref(V.maskedLocation.href):s.history.createHref(V.href),ref:i,onClick:Nt([S,ke]),onFocus:Nt([w,$t]),onMouseEnter:Nt([C,pt]),onMouseLeave:Nt([x,Ft]),onTouchStart:Nt([F,X]),disabled:!!g,target:M,...Object.keys(Kt).length&&{style:Kt},...St&&{className:St},...g&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function Bi(e){return _.forwardRef(function(s,r){return O.jsx(Jn,{...s,_asChild:e,ref:r})})}const Jn=_.forwardRef((e,t)=>{const{_asChild:s,...r}=e,{type:n,ref:o,...i}=Gn(r,t),a=typeof r.children=="function"?r.children({isActive:i["data-status"]==="active"}):r.children;return typeof s>"u"&&delete i.disabled,_.createElement(s||"a",{...i,ref:o},a)});function Xn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Yn(){const e=Lt(),t=_.useRef({router:e,mounted:!1}),s=st({select:({isLoading:h})=>h}),[r,n]=_.useState(!1),o=st({select:h=>h.matches.some(f=>f.status==="pending"),structuralSharing:!0}),i=es(s),a=s||r||o,c=es(a),d=s||o,l=es(d);return e.isServer||(e.startReactTransition=h=>{n(!0),_.startTransition(()=>{h(),n(!1)})}),_.useEffect(()=>{const h=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return zt(e.latestLocation.href)!==zt(f.href)&&e.commitLocation({...f,replace:!0}),()=>{h()}},[e,e.history]),Re(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(p){console.error(p)}})()},[e]),Re(()=>{if(i&&!s){const h=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==h.pathname,v=f.href!==h.href;e.emit({type:"onLoad",fromLocation:f,toLocation:h,pathChanged:p,hrefChanged:v})}},[i,e,s]),Re(()=>{if(l&&!d){const h=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==h.pathname,v=f.href!==h.href;e.emit({type:"onBeforeRouteMount",fromLocation:f,toLocation:h,pathChanged:p,hrefChanged:v})}},[d,l,e]),Re(()=>{if(c&&!a){const h=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==h.pathname,v=f.href!==h.href;if(e.emit({type:"onResolved",fromLocation:f,toLocation:h,pathChanged:p,hrefChanged:v}),e.__store.setState(m=>({...m,status:"idle",resolvedLocation:m.location})),typeof document<"u"&&document.querySelector){const m=e.state.location.state.__hashScrollIntoViewOptions??!0;if(m&&e.state.location.hash!==""){const y=document.getElementById(e.state.location.hash);y&&y.scrollIntoView(m)}}}},[a,c,e]),null}function Zn(){const e=Lt(),t=e.options.defaultPendingComponent?O.jsx(e.options.defaultPendingComponent,{}):null,s=e.isServer||typeof document<"u"&&window.__TSR__?Qe:_.Suspense,r=O.jsxs(s,{fallback:t,children:[O.jsx(Yn,{}),O.jsx(ti,{})]});return e.options.InnerWrap?O.jsx(e.options.InnerWrap,{children:r}):r}function ti(){const e=st({select:s=>{var r;return(r=s.matches[0])==null?void 0:r.id}}),t=st({select:s=>s.loadedAt});return O.jsx(Je.Provider,{value:e,children:O.jsx(_s,{getResetKey:()=>t,errorComponent:Ge,onCatch:s=>{s.message||s.toString()},children:e?O.jsx(br,{matchId:e}):null})})}function Ui(){const e=Lt();return st({select:t=>[t.location.href,t.resolvedLocation.href,t.status],structuralSharing:!0}),_.useCallback(t=>{const{pending:s,caseSensitive:r,fuzzy:n,includeSearch:o,...i}=t;return e.matchRoute(i,{pending:s,caseSensitive:r,fuzzy:n,includeSearch:o})},[e])}function ei({router:e,children:t,...s}){e.update({...e.options,...s,context:{...e.options.context,...s.context}});const r=hr(),n=O.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?O.jsx(e.options.Wrap,{children:n}):n}function Qi({router:e,...t}){return O.jsx(ei,{router:e,...t,children:O.jsx(Zn,{})})}var Pe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zt=typeof window>"u"||"Deno"in globalThis;function dt(){}function si(e,t){return typeof e=="function"?e(t):e}function os(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sr(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ie(e,t){return typeof e=="function"?e(t):e}function yt(e,t){return typeof e=="function"?e(t):e}function Ks(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==xs(i,t.options))return!1}else if(!Le(t.queryKey,i))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||o&&!o(t))}function qs(e,t){const{exact:s,status:r,predicate:n,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(s){if(te(t.options.mutationKey)!==te(o))return!1}else if(!Le(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function xs(e,t){return((t==null?void 0:t.queryKeyHashFn)||te)(e)}function te(e){return JSON.stringify(e,(t,s)=>as(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Le(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Le(e[s],t[s])):!1}function _r(e,t){if(e===t)return e;const s=zs(e)&&zs(t);if(s||as(e)&&as(t)){const r=s?e:Object.keys(e),n=r.length,o=s?t:Object.keys(t),i=o.length,a=s?[]:{};let c=0;for(let d=0;d<i;d++){const l=s?d:o[d];(!s&&r.includes(l)||s)&&e[l]===void 0&&t[l]===void 0?(a[l]=void 0,c++):(a[l]=_r(e[l],t[l]),a[l]===e[l]&&e[l]!==void 0&&c++)}return n===i&&c===n?e:a}return t}function qe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function zs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function as(e){if(!Hs(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Hs(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hs(e){return Object.prototype.toString.call(e)==="[object Object]"}function ri(e){return new Promise(t=>{setTimeout(t,e)})}function us(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?_r(e,t):t}function ni(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function ii(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Es=Symbol();function Pr(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Es?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ht,It,oe,Ys,oi=(Ys=class extends Pe{constructor(){super();E(this,Ht);E(this,It);E(this,oe);b(this,oe,t=>{if(!Zt&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){u(this,It)||this.setEventListener(u(this,oe))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,It))==null||t.call(this),b(this,It,void 0))}setEventListener(t){var s;b(this,oe,t),(s=u(this,It))==null||s.call(this),b(this,It,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){u(this,Ht)!==t&&(b(this,Ht,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof u(this,Ht)=="boolean"?u(this,Ht):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ht=new WeakMap,It=new WeakMap,oe=new WeakMap,Ys),Ls=new oi,ae,Tt,ue,Zs,ai=(Zs=class extends Pe{constructor(){super();E(this,ae,!0);E(this,Tt);E(this,ue);b(this,ue,t=>{if(!Zt&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,Tt)||this.setEventListener(u(this,ue))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,Tt))==null||t.call(this),b(this,Tt,void 0))}setEventListener(t){var s;b(this,ue,t),(s=u(this,Tt))==null||s.call(this),b(this,Tt,t(this.setOnline.bind(this)))}setOnline(t){u(this,ae)!==t&&(b(this,ae,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return u(this,ae)}},ae=new WeakMap,Tt=new WeakMap,ue=new WeakMap,Zs),ze=new ai;function cs(){let e,t;const s=new Promise((n,o)=>{e=n,t=o});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}function ui(e){return Math.min(1e3*2**e,3e4)}function wr(e){return(e??"online")==="online"?ze.isOnline():!0}var Cr=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ns(e){return e instanceof Cr}function Rr(e){let t=!1,s=0,r=!1,n;const o=cs(),i=m=>{var y;r||(f(new Cr(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},d=()=>Ls.isFocused()&&(e.networkMode==="always"||ze.isOnline())&&e.canRun(),l=()=>wr(e.networkMode)&&e.canRun(),h=m=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,m),n==null||n(),o.resolve(m))},f=m=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,m),n==null||n(),o.reject(m))},p=()=>new Promise(m=>{var y;n=R=>{(r||d())&&m(R)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;n=void 0,r||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(r)return;let m;const y=s===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(R){m=Promise.reject(R)}Promise.resolve(m).then(h).catch(R=>{var j;if(r)return;const L=e.retry??(Zt?0:3),M=e.retryDelay??ui,g=typeof M=="function"?M(s,R):M,P=L===!0||typeof L=="number"&&s<L||typeof L=="function"&&L(s,R);if(t||!P){f(R);return}s++,(j=e.onFail)==null||j.call(e,s,R),ri(g).then(()=>d()?void 0:p()).then(()=>{t?f(R):v()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?v():p().then(v),o)}}function ci(){let e=[],t=0,s=a=>{a()},r=a=>{a()},n=a=>setTimeout(a,0);const o=a=>{t?e.push(a):n(()=>{s(a)})},i=()=>{const a=e;e=[],a.length&&n(()=>{r(()=>{a.forEach(c=>{s(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{n=a}}}var G=ci(),Vt,tr,Mr=(tr=class{constructor(){E(this,Vt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),os(this.gcTime)&&b(this,Vt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zt?1/0:5*60*1e3))}clearGcTimeout(){u(this,Vt)&&(clearTimeout(u(this,Vt)),b(this,Vt,void 0))}},Vt=new WeakMap,tr),ce,le,ht,Y,Fe,Wt,mt,Rt,er,li=(er=class extends Mr{constructor(t){super();E(this,mt);E(this,ce);E(this,le);E(this,ht);E(this,Y);E(this,Fe);E(this,Wt);b(this,Wt,!1),b(this,Fe,t.defaultOptions),this.setOptions(t.options),this.observers=[],b(this,ht,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,b(this,ce,hi(this.options)),this.state=t.state??u(this,ce),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=u(this,Y))==null?void 0:t.promise}setOptions(t){this.options={...u(this,Fe),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,ht).remove(this)}setData(t,s){const r=us(this.state.data,t,this.options);return k(this,mt,Rt).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){k(this,mt,Rt).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,n;const s=(r=u(this,Y))==null?void 0:r.promise;return(n=u(this,Y))==null||n.cancel(t),s?s.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,ce))}isActive(){return this.observers.some(t=>yt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Es||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Sr(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=u(this,Y))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=u(this,Y))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),u(this,ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(u(this,Y)&&(u(this,Wt)?u(this,Y).cancel({revert:!0}):u(this,Y).cancelRetry()),this.scheduleGc()),u(this,ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,mt,Rt).call(this,{type:"invalidate"})}fetch(t,s){var c,d,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(u(this,Y))return u(this,Y).continueRetry(),u(this,Y).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(b(this,Wt,!0),r.signal)})},o=()=>{const h=Pr(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return n(f),b(this,Wt,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),b(this,le,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&k(this,mt,Rt).call(this,{type:"fetch",meta:(l=i.fetchOptions)==null?void 0:l.meta});const a=h=>{var f,p,v,m;ns(h)&&h.silent||k(this,mt,Rt).call(this,{type:"error",error:h}),ns(h)||((p=(f=u(this,ht).config).onError)==null||p.call(f,h,this),(m=(v=u(this,ht).config).onSettled)==null||m.call(v,this.state.data,h,this)),this.scheduleGc()};return b(this,Y,Rr({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,v,m;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){a(y);return}(p=(f=u(this,ht).config).onSuccess)==null||p.call(f,h,this),(m=(v=u(this,ht).config).onSettled)==null||m.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{k(this,mt,Rt).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{k(this,mt,Rt).call(this,{type:"pause"})},onContinue:()=>{k(this,mt,Rt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),u(this,Y).start()}},ce=new WeakMap,le=new WeakMap,ht=new WeakMap,Y=new WeakMap,Fe=new WeakMap,Wt=new WeakMap,mt=new WeakSet,Rt=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xr(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return ns(n)&&n.revert&&u(this,le)?{...u(this,le),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),G.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,ht).notify({query:this,type:"updated",action:t})})},er);function xr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wr(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hi(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var _t,sr,di=(sr=class extends Pe{constructor(t={}){super();E(this,_t);this.config=t,b(this,_t,new Map)}build(t,s,r){const n=s.queryKey,o=s.queryHash??xs(n,s);let i=this.get(o);return i||(i=new li({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){u(this,_t).has(t.queryHash)||(u(this,_t).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=u(this,_t).get(t.queryHash);s&&(t.destroy(),s===t&&u(this,_t).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){G.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return u(this,_t).get(t)}getAll(){return[...u(this,_t).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Ks(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>Ks(t,r)):s}notify(t){G.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){G.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){G.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_t=new WeakMap,sr),Pt,tt,Gt,wt,Ot,rr,fi=(rr=class extends Mr{constructor(t){super();E(this,wt);E(this,Pt);E(this,tt);E(this,Gt);this.mutationId=t.mutationId,b(this,tt,t.mutationCache),b(this,Pt,[]),this.state=t.state||Er(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){u(this,Pt).includes(t)||(u(this,Pt).push(t),this.clearGcTimeout(),u(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){b(this,Pt,u(this,Pt).filter(s=>s!==t)),this.scheduleGc(),u(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){u(this,Pt).length||(this.state.status==="pending"?this.scheduleGc():u(this,tt).remove(this))}continue(){var t;return((t=u(this,Gt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,o,i,a,c,d,l,h,f,p,v,m,y,R,L,M,g,P,j,S;b(this,Gt,Rr({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,C)=>{k(this,wt,Ot).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{k(this,wt,Ot).call(this,{type:"pause"})},onContinue:()=>{k(this,wt,Ot).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,tt).canRun(this)}));const s=this.state.status==="pending",r=!u(this,Gt).canStart();try{if(!s){k(this,wt,Ot).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(n=u(this,tt).config).onMutate)==null?void 0:o.call(n,t,this));const C=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));C!==this.state.context&&k(this,wt,Ot).call(this,{type:"pending",context:C,variables:t,isPaused:r})}const w=await u(this,Gt).start();return await((d=(c=u(this,tt).config).onSuccess)==null?void 0:d.call(c,w,t,this.state.context,this)),await((h=(l=this.options).onSuccess)==null?void 0:h.call(l,w,t,this.state.context)),await((p=(f=u(this,tt).config).onSettled)==null?void 0:p.call(f,w,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,w,null,t,this.state.context)),k(this,wt,Ot).call(this,{type:"success",data:w}),w}catch(w){try{throw await((R=(y=u(this,tt).config).onError)==null?void 0:R.call(y,w,t,this.state.context,this)),await((M=(L=this.options).onError)==null?void 0:M.call(L,w,t,this.state.context)),await((P=(g=u(this,tt).config).onSettled)==null?void 0:P.call(g,void 0,w,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,void 0,w,t,this.state.context)),w}finally{k(this,wt,Ot).call(this,{type:"error",error:w})}}finally{u(this,tt).runNext(this)}}},Pt=new WeakMap,tt=new WeakMap,Gt=new WeakMap,wt=new WeakSet,Ot=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),G.batch(()=>{u(this,Pt).forEach(r=>{r.onMutationUpdate(t)}),u(this,tt).notify({mutation:this,type:"updated",action:t})})},rr);function Er(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ot,Oe,nr,pi=(nr=class extends Pe{constructor(t={}){super();E(this,ot);E(this,Oe);this.config=t,b(this,ot,new Map),b(this,Oe,Date.now())}build(t,s,r){const n=new fi({mutationCache:this,mutationId:++De(this,Oe)._,options:t.defaultMutationOptions(s),state:r});return this.add(n),n}add(t){const s=Be(t),r=u(this,ot).get(s)??[];r.push(t),u(this,ot).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=Be(t);if(u(this,ot).has(s)){const n=(r=u(this,ot).get(s))==null?void 0:r.filter(o=>o!==t);n&&(n.length===0?u(this,ot).delete(s):u(this,ot).set(s,n))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=u(this,ot).get(Be(t)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=u(this,ot).get(Be(t)))==null?void 0:r.find(n=>n!==t&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){G.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...u(this,ot).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>qs(s,r))}findAll(t={}){return this.getAll().filter(s=>qs(t,s))}notify(t){G.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return G.batch(()=>Promise.all(t.map(s=>s.continue().catch(dt))))}},ot=new WeakMap,Oe=new WeakMap,nr);function Be(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Vs(e){return{onFetch:(t,s)=>{var l,h,f,p,v;const r=t.options,n=(f=(h=(l=t.fetchOptions)==null?void 0:l.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},R=Pr(t.options,t.fetchOptions),L=async(M,g,P)=>{if(m)return Promise.reject();if(g==null&&M.pages.length)return Promise.resolve(M);const j={queryKey:t.queryKey,pageParam:g,direction:P?"backward":"forward",meta:t.options.meta};y(j);const S=await R(j),{maxPages:w}=t.options,C=P?ii:ni;return{pages:C(M.pages,S,w),pageParams:C(M.pageParams,g,w)}};if(n&&o.length){const M=n==="backward",g=M?mi:Ws,P={pages:o,pageParams:i},j=g(r,P);a=await L(P,j,M)}else{const M=e??o.length;do{const g=c===0?i[0]??r.initialPageParam:Ws(r,a);if(c>0&&g==null)break;a=await L(a,g),c++}while(c<M)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function Ws(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function mi(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var q,kt,Dt,he,de,jt,fe,pe,ir,$i=(ir=class{constructor(e={}){E(this,q);E(this,kt);E(this,Dt);E(this,he);E(this,de);E(this,jt);E(this,fe);E(this,pe);b(this,q,e.queryCache||new di),b(this,kt,e.mutationCache||new pi),b(this,Dt,e.defaultOptions||{}),b(this,he,new Map),b(this,de,new Map),b(this,jt,0)}mount(){De(this,jt)._++,u(this,jt)===1&&(b(this,fe,Ls.subscribe(async e=>{e&&(await this.resumePausedMutations(),u(this,q).onFocus())})),b(this,pe,ze.subscribe(async e=>{e&&(await this.resumePausedMutations(),u(this,q).onOnline())})))}unmount(){var e,t;De(this,jt)._--,u(this,jt)===0&&((e=u(this,fe))==null||e.call(this),b(this,fe,void 0),(t=u(this,pe))==null||t.call(this),b(this,pe,void 0))}isFetching(e){return u(this,q).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return u(this,kt).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=u(this,q).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=u(this,q).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(ie(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return u(this,q).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=u(this,q).get(r.queryHash),o=n==null?void 0:n.state.data,i=si(t,o);if(i!==void 0)return u(this,q).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return G.batch(()=>u(this,q).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=u(this,q).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=u(this,q);G.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=u(this,q),r={type:"active",...e};return G.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=G.batch(()=>u(this,q).findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(dt).catch(dt)}invalidateQueries(e,t={}){return G.batch(()=>{if(u(this,q).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const s={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(s,t)})}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=G.batch(()=>u(this,q).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,s);return s.throwOnError||(o=o.catch(dt)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=u(this,q).build(this,t);return s.isStaleByTime(ie(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dt).catch(dt)}fetchInfiniteQuery(e){return e.behavior=Vs(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dt).catch(dt)}ensureInfiniteQueryData(e){return e.behavior=Vs(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ze.isOnline()?u(this,kt).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,q)}getMutationCache(){return u(this,kt)}getDefaultOptions(){return u(this,Dt)}setDefaultOptions(e){b(this,Dt,e)}setQueryDefaults(e,t){u(this,he).set(te(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...u(this,he).values()],s={};return t.forEach(r=>{Le(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){u(this,de).set(te(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...u(this,de).values()];let s={};return t.forEach(r=>{Le(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...u(this,Dt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xs(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Es&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...u(this,Dt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){u(this,q).clear(),u(this,kt).clear()}},q=new WeakMap,kt=new WeakMap,Dt=new WeakMap,he=new WeakMap,de=new WeakMap,jt=new WeakMap,fe=new WeakMap,pe=new WeakMap,ir),nt,D,Ie,et,Jt,me,At,Ct,Te,ve,ye,Xt,Yt,Bt,ge,A,Me,ls,hs,ds,fs,ps,ms,vs,Lr,or,vi=(or=class extends Pe{constructor(t,s){super();E(this,A);E(this,nt);E(this,D);E(this,Ie);E(this,et);E(this,Jt);E(this,me);E(this,At);E(this,Ct);E(this,Te);E(this,ve);E(this,ye);E(this,Xt);E(this,Yt);E(this,Bt);E(this,ge,new Set);this.options=s,b(this,nt,t),b(this,Ct,null),b(this,At,cs()),this.options.experimental_prefetchInRender||u(this,At).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,D).addObserver(this),Gs(u(this,D),this.options)?k(this,A,Me).call(this):this.updateResult(),k(this,A,fs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ys(u(this,D),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ys(u(this,D),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,A,ps).call(this),k(this,A,ms).call(this),u(this,D).removeObserver(this)}setOptions(t,s){const r=this.options,n=u(this,D);if(this.options=u(this,nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yt(this.options.enabled,u(this,D))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,A,vs).call(this),u(this,D).setOptions(this.options),r._defaulted&&!qe(this.options,r)&&u(this,nt).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,D),observer:this});const o=this.hasListeners();o&&Js(u(this,D),n,this.options,r)&&k(this,A,Me).call(this),this.updateResult(s),o&&(u(this,D)!==n||yt(this.options.enabled,u(this,D))!==yt(r.enabled,u(this,D))||ie(this.options.staleTime,u(this,D))!==ie(r.staleTime,u(this,D)))&&k(this,A,ls).call(this);const i=k(this,A,hs).call(this);o&&(u(this,D)!==n||yt(this.options.enabled,u(this,D))!==yt(r.enabled,u(this,D))||i!==u(this,Bt))&&k(this,A,ds).call(this,i)}getOptimisticResult(t){const s=u(this,nt).getQueryCache().build(u(this,nt),t),r=this.createResult(s,t);return gi(this,r)&&(b(this,et,r),b(this,me,this.options),b(this,Jt,u(this,D).state)),r}getCurrentResult(){return u(this,et)}trackResult(t,s){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),r}trackProp(t){u(this,ge).add(t)}getCurrentQuery(){return u(this,D)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=u(this,nt).defaultQueryOptions(t),r=u(this,nt).getQueryCache().build(u(this,nt),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return k(this,A,Me).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,et)))}createResult(t,s){var w;const r=u(this,D),n=this.options,o=u(this,et),i=u(this,Jt),a=u(this,me),d=t!==r?t.state:u(this,Ie),{state:l}=t;let h={...l},f=!1,p;if(s._optimisticResults){const C=this.hasListeners(),x=!C&&Gs(t,s),F=C&&Js(t,r,s,n);(x||F)&&(h={...h,...xr(l.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=h;if(s.select&&h.data!==void 0)if(o&&h.data===(i==null?void 0:i.data)&&s.select===u(this,Te))p=u(this,ve);else try{b(this,Te,s.select),p=s.select(h.data),p=us(o==null?void 0:o.data,p,s),b(this,ve,p),b(this,Ct,null)}catch(C){b(this,Ct,C)}else p=h.data;if(s.placeholderData!==void 0&&p===void 0&&y==="pending"){let C;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData))C=o.data;else if(C=typeof s.placeholderData=="function"?s.placeholderData((w=u(this,ye))==null?void 0:w.state.data,u(this,ye)):s.placeholderData,s.select&&C!==void 0)try{C=s.select(C),b(this,Ct,null)}catch(x){b(this,Ct,x)}C!==void 0&&(y="success",p=us(o==null?void 0:o.data,C,s),f=!0)}u(this,Ct)&&(v=u(this,Ct),p=u(this,ve),m=Date.now(),y="error");const R=h.fetchStatus==="fetching",L=y==="pending",M=y==="error",g=L&&R,P=p!==void 0,S={status:y,fetchStatus:h.fetchStatus,isPending:L,isSuccess:y==="success",isError:M,isInitialLoading:g,isLoading:g,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:R,isRefetching:R&&!L,isLoadingError:M&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:M&&P,isStale:Fs(t,s),refetch:this.refetch,promise:u(this,At)};if(this.options.experimental_prefetchInRender){const C=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},x=()=>{const I=b(this,At,S.promise=cs());C(I)},F=u(this,At);switch(F.status){case"pending":t.queryHash===r.queryHash&&C(F);break;case"fulfilled":(S.status==="error"||S.data!==F.value)&&x();break;case"rejected":(S.status!=="error"||S.error!==F.reason)&&x();break}}return S}updateResult(t){const s=u(this,et),r=this.createResult(u(this,D),this.options);if(b(this,Jt,u(this,D).state),b(this,me,this.options),u(this,Jt).data!==void 0&&b(this,ye,u(this,D)),qe(r,s))return;b(this,et,r);const n={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!u(this,ge).size)return!0;const c=new Set(a??u(this,ge));return this.options.throwOnError&&c.add("error"),Object.keys(u(this,et)).some(d=>{const l=d;return u(this,et)[l]!==s[l]&&c.has(l)})};(t==null?void 0:t.listeners)!==!1&&o()&&(n.listeners=!0),k(this,A,Lr).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,A,fs).call(this)}},nt=new WeakMap,D=new WeakMap,Ie=new WeakMap,et=new WeakMap,Jt=new WeakMap,me=new WeakMap,At=new WeakMap,Ct=new WeakMap,Te=new WeakMap,ve=new WeakMap,ye=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Bt=new WeakMap,ge=new WeakMap,A=new WeakSet,Me=function(t){k(this,A,vs).call(this);let s=u(this,D).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(dt)),s},ls=function(){k(this,A,ps).call(this);const t=ie(this.options.staleTime,u(this,D));if(Zt||u(this,et).isStale||!os(t))return;const r=Sr(u(this,et).dataUpdatedAt,t)+1;b(this,Xt,setTimeout(()=>{u(this,et).isStale||this.updateResult()},r))},hs=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,D)):this.options.refetchInterval)??!1},ds=function(t){k(this,A,ms).call(this),b(this,Bt,t),!(Zt||yt(this.options.enabled,u(this,D))===!1||!os(u(this,Bt))||u(this,Bt)===0)&&b(this,Yt,setInterval(()=>{(this.options.refetchIntervalInBackground||Ls.isFocused())&&k(this,A,Me).call(this)},u(this,Bt)))},fs=function(){k(this,A,ls).call(this),k(this,A,ds).call(this,k(this,A,hs).call(this))},ps=function(){u(this,Xt)&&(clearTimeout(u(this,Xt)),b(this,Xt,void 0))},ms=function(){u(this,Yt)&&(clearInterval(u(this,Yt)),b(this,Yt,void 0))},vs=function(){const t=u(this,nt).getQueryCache().build(u(this,nt),this.options);if(t===u(this,D))return;const s=u(this,D);b(this,D,t),b(this,Ie,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Lr=function(t){G.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(u(this,et))}),u(this,nt).getQueryCache().notify({query:u(this,D),type:"observerResultsUpdated"})})},or);function yi(e,t){return yt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gs(e,t){return yi(e,t)||e.state.data!==void 0&&ys(e,t,t.refetchOnMount)}function ys(e,t,s){if(yt(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Fs(e,t)}return!1}function Js(e,t,s,r){return(e!==t||yt(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Fs(e,s)}function Fs(e,t){return yt(t.enabled,e)!==!1&&e.isStaleByTime(ie(t.staleTime,e))}function gi(e,t){return!qe(e.getCurrentResult(),t)}var Ut,Qt,it,Mt,Et,$e,gs,ar,bi=(ar=class extends Pe{constructor(t,s){super();E(this,Et);E(this,Ut);E(this,Qt);E(this,it);E(this,Mt);b(this,Ut,t),this.setOptions(s),this.bindMethods(),k(this,Et,$e).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=u(this,Ut).defaultMutationOptions(t),qe(this.options,s)||u(this,Ut).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,it),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&te(s.mutationKey)!==te(this.options.mutationKey)?this.reset():((r=u(this,it))==null?void 0:r.state.status)==="pending"&&u(this,it).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=u(this,it))==null||t.removeObserver(this)}onMutationUpdate(t){k(this,Et,$e).call(this),k(this,Et,gs).call(this,t)}getCurrentResult(){return u(this,Qt)}reset(){var t;(t=u(this,it))==null||t.removeObserver(this),b(this,it,void 0),k(this,Et,$e).call(this),k(this,Et,gs).call(this)}mutate(t,s){var r;return b(this,Mt,s),(r=u(this,it))==null||r.removeObserver(this),b(this,it,u(this,Ut).getMutationCache().build(u(this,Ut),this.options)),u(this,it).addObserver(this),u(this,it).execute(t)}},Ut=new WeakMap,Qt=new WeakMap,it=new WeakMap,Mt=new WeakMap,Et=new WeakSet,$e=function(){var s;const t=((s=u(this,it))==null?void 0:s.state)??Er();b(this,Qt,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},gs=function(t){G.batch(()=>{var s,r,n,o,i,a,c,d;if(u(this,Mt)&&this.hasListeners()){const l=u(this,Qt).variables,h=u(this,Qt).context;(t==null?void 0:t.type)==="success"?((r=(s=u(this,Mt)).onSuccess)==null||r.call(s,t.data,l,h),(o=(n=u(this,Mt)).onSettled)==null||o.call(n,t.data,null,l,h)):(t==null?void 0:t.type)==="error"&&((a=(i=u(this,Mt)).onError)==null||a.call(i,t.error,l,h),(d=(c=u(this,Mt)).onSettled)==null||d.call(c,void 0,t.error,l,h))}this.listeners.forEach(l=>{l(u(this,Qt))})})},ar),Fr=_.createContext(void 0),Or=e=>{const t=_.useContext(Fr);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ni=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(Fr.Provider,{value:e,children:t})),Ir=_.createContext(!1),Si=()=>_.useContext(Ir);Ir.Provider;function _i(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pi=_.createContext(_i()),wi=()=>_.useContext(Pi);function Tr(e,t){return typeof e=="function"?e(...t):!!e}function bs(){}var Ci=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ri=e=>{_.useEffect(()=>{e.clearReset()},[e])},Mi=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Tr(s,[e.error,r]),xi=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ei=(e,t)=>e.isLoading&&e.isFetching&&!t,Li=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Xs=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Fi(e,t,s){var l,h,f,p,v;const r=Or(),n=Si(),o=wi(),i=r.defaultQueryOptions(e);(h=(l=r.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||h.call(l,i),i._optimisticResults=n?"isRestoring":"optimistic",xi(i),Ci(i,o),Ri(o);const a=!r.getQueryCache().get(i.queryHash),[c]=_.useState(()=>new t(r,i)),d=c.getOptimisticResult(i);if(_.useSyncExternalStore(_.useCallback(m=>{const y=n?bs:c.subscribe(G.batchCalls(m));return c.updateResult(),y},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Li(i,d))throw Xs(i,c,o);if(Mi({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw d.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,i,d),i.experimental_prefetchInRender&&!Zt&&Ei(d,n)){const m=a?Xs(i,c,o):(v=r.getQueryCache().get(i.queryHash))==null?void 0:v.promise;m==null||m.catch(bs).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function Ki(e,t){return Fi(e,vi)}function qi(e,t){const s=Or(),[r]=_.useState(()=>new bi(s,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const n=_.useSyncExternalStore(_.useCallback(i=>r.subscribe(G.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=_.useCallback((i,a)=>{r.mutate(i,a).catch(bs)},[r]);if(n.error&&Tr(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}export{Jn as L,Vn as O,$i as Q,Qi as R,qi as a,Ki as b,Bi as c,Di as d,Ni as e,Ui as f,ji as g,ki as h,Cs as i,O as j,Ms as k,Ti as l,Ai as m,Or as u};
