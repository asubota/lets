import{j as s,c as V}from"./tanstack-BOxH6YKw.js";import{c as H,j as T,Y as P}from"./index-DC6gCUyc.js";import{r as B}from"./reactColor-Dv2GmpY5.js";import{d as W,B as z,T as M,f as A,l as D,S as G}from"./mui-BYHIr5XK.js";import{u as N}from"./index-C568Y0IF.js";import{R as F,u as O}from"./use-infinite-scroll-tYOcvlXL.js";import"./react-qkC6yhPU.js";import"./html2canvas-k0ITeQhV.js";import"./popper-DC5wud4b.js";const Y=W(s.jsx("path",{d:"M10.94 8.12 7.48 4.66 9 3h6l1.83 2H20c1.1 0 2 .9 2 2v12c0 .05-.01.1-.02.16l-5.1-5.1c.08-.35.12-.7.12-1.06 0-2.76-2.24-5-5-5-.36 0-.71.04-1.06.12m9.55 15.19L18.17 21H4c-1.1 0-2-.9-2-2V7c0-.59.27-1.12.68-1.49l-2-2L2.1 2.1l19.8 19.8zm-6-5.99-1.5-1.5c-.32.1-.64.18-.99.18-1.66 0-3-1.34-3-3 0-.35.08-.67.19-.98l-1.5-1.5C7.25 11.24 7 12.09 7 13c0 2.76 2.24 5 5 5 .91 0 1.76-.25 2.49-.68"})),q=V("img"),J=r=>{const e=H.c(40),{p:t}=r,[S,a]=B.useState(0),[n,i]=B.useState(!0);let l;e[0]!==t.pics?(l=t.pics??[],e[0]=t.pics,e[1]=l):l=e[1];const o=l,b=o[S]??"";let k;e[2]!==o.length?(k={trackMouse:!0,onSwipedLeft:()=>{o.length>1&&(a(c=>(c+1)%o.length),i(!0))},onSwipedRight:()=>{o.length>1&&(a(c=>(c-1+o.length)%o.length),i(!0))}},e[2]=o.length,e[3]=k):k=e[3];const $=N(k),f=!b;let I;e[4]===Symbol.for("react.memo_cache_sentinel")?(I={display:"flex",p:1,mb:1,gap:2},e[4]=I):I=e[4];const E=o.length>1?"pointer":"default";let m;e[5]!==E?(m={width:125,height:125,borderRadius:1,overflow:"hidden",flexShrink:0,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",cursor:E,touchAction:"pan-y"},e[5]=E,e[6]=m):m=e[6];let p;e[7]!==n||e[8]!==f?(p=n&&!f&&s.jsx(A,{size:20}),e[7]=n,e[8]=f,e[9]=p):p=e[9];let d;e[10]!==b||e[11]!==n||e[12]!==t||e[13]!==f?(d=f?s.jsx(Y,{sx:{fontSize:36,color:"secondary.main"}}):s.jsx(q,{to:"/list/$id/details",params:{id:T(t)},src:b,alt:t.name,style:{display:n?"none":"block",width:"100%",height:"100%",objectFit:"cover"},onLoad:()=>i(!1),onError:()=>i(!1)}),e[10]=b,e[11]=n,e[12]=t,e[13]=f,e[14]=d):d=e[14];let x;e[15]!==$||e[16]!==m||e[17]!==p||e[18]!==d?(x=s.jsxs(z,{sx:m,...$,children:[p,d]}),e[15]=$,e[16]=m,e[17]=p,e[18]=d,e[19]=x):x=e[19];let w;e[20]===Symbol.for("react.memo_cache_sentinel")?(w={flexGrow:1,display:"flex",flexDirection:"column"},e[20]=w):w=e[20];let v;e[21]===Symbol.for("react.memo_cache_sentinel")?(v={WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},e[21]=v):v=e[21];let h;e[22]!==t.name?(h=s.jsx(M,{variant:"body2",sx:v,onClick:async c=>{c.stopPropagation(),await P(t.name)},children:s.jsx(F,{text:t.name})}),e[22]=t.name,e[23]=h):h=e[23];let _;e[24]===Symbol.for("react.memo_cache_sentinel")?(_={mt:"auto",display:"flex",alignItems:"center",justifyContent:"space-between"},e[24]=_):_=e[24];let C;e[25]===Symbol.for("react.memo_cache_sentinel")?(C={fontSize:12,color:"text.primary"},e[25]=C):C=e[25];let u;e[26]!==t.price?(u=s.jsxs(M,{variant:"caption",color:"text.secondary",sx:C,children:[t.price," грн"]}),e[26]=t.price,e[27]=u):u=e[27];let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L={fontSize:12},e[28]=L):L=e[28];let g;e[29]!==t.sku?(g=s.jsx(M,{variant:"caption",color:"text.secondary",sx:L,onClick:async c=>{c.stopPropagation(),await P(t.sku)},children:s.jsx(F,{text:t.sku})}),e[29]=t.sku,e[30]=g):g=e[30];let y;e[31]!==u||e[32]!==g?(y=s.jsxs(z,{sx:_,children:[u,g]}),e[31]=u,e[32]=g,e[33]=y):y=e[33];let j;e[34]!==h||e[35]!==y?(j=s.jsxs(z,{sx:w,children:[h,y]}),e[34]=h,e[35]=y,e[36]=j):j=e[36];let R;return e[37]!==j||e[38]!==x?(R=s.jsxs(D,{sx:I,children:[x,j]}),e[37]=j,e[38]=x,e[39]=R):R=e[39],R},le=r=>{const e=H.c(8),{list:t}=r,{visibleList:S,hasMore:a,loadMoreRef:n}=O(t);let i;e[0]!==S?(i=S.map(K),e[0]=S,e[1]=i):i=e[1];let l;e[2]!==a||e[3]!==n?(l=a&&s.jsx(z,{ref:n,sx:{p:1}}),e[2]=a,e[3]=n,e[4]=l):l=e[4];let o;return e[5]!==i||e[6]!==l?(o=s.jsxs(G,{direction:"column",spacing:1,children:[i,l]}),e[5]=i,e[6]=l,e[7]=o):o=e[7],o};function K(r){const t=`${T(r)}:${r.price}`;return s.jsx(J,{p:r},t)}export{le as default};
