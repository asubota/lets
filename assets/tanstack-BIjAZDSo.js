var nr=s=>{throw TypeError(s)};var ds=(s,e,t)=>e.has(s)||nr("Cannot "+t);var u=(s,e,t)=>(ds(s,e,"read from private field"),t?t.call(s):e.get(s)),O=(s,e,t)=>e.has(s)?nr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),w=(s,e,t,r)=>(ds(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),k=(s,e,t)=>(ds(s,e,"access private method"),t);var He=(s,e,t,r)=>({set _(n){w(s,e,n,t)},get _(){return u(s,e,r)}});import{r as x}from"./reactColor-BcPjYmR6.js";import{r as Ar,g as hn,a as dn}from"./react-Csw2ODfV.js";var fs={exports:{}},De={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir;function fn(){if(ir)return De;ir=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var c in n)c!=="key"&&(i[c]=n[c])}else i=n;return n=i.ref,{$$typeof:s,type:r,key:o,ref:n!==void 0?n:null,props:i}}return De.Fragment=e,De.jsx=t,De.jsxs=t,De}var or;function pn(){return or||(or=1,fs.exports=fn()),fs.exports}var D=pn(),mn="Invariant failed";function It(s,e){if(!s)throw new Error(mn)}const fe=new WeakMap,Xe=new WeakMap,ts={current:[]};let ps=!1,je=0;const Te=new Set,ze=new Map;function jr(s){const e=Array.from(s).sort((t,r)=>t instanceof pe&&t.options.deps.includes(r)?1:r instanceof pe&&r.options.deps.includes(t)?-1:0);for(const t of e){if(ts.current.includes(t))continue;ts.current.push(t),t.recompute();const r=Xe.get(t);if(r)for(const n of r){const i=fe.get(n);i&&jr(i)}}}function vn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function yn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function Br(s){if(je>0&&!ze.has(s)&&ze.set(s,s.prevState),Te.add(s),!(je>0)&&!ps)try{for(ps=!0;Te.size>0;){const e=Array.from(Te);Te.clear();for(const t of e){const r=ze.get(t)??t.prevState;t.prevState=r,vn(t)}for(const t of e){const r=fe.get(t);r&&(ts.current.push(t),jr(r))}for(const t of e){const r=fe.get(t);if(r)for(const n of r)yn(n)}}}finally{ps=!1,ts.current=[],ze.clear()}}function ms(s){je++;try{s()}finally{if(je--,je===0){const e=Array.from(Te)[0];e&&Br(e)}}}class Ms{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var n,i,o;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),Br(this)},this.prevState=e,this.state=e,this.options=t}}class pe{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const n of this.options.deps)t.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:i,prevVal:o}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof pe&&i.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let i=0;i<n.length;i++)if(n[i]!==r[i]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,n;this.listeners.add(t);const i=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,t,this);return()=>{this.listeners.delete(t),i==null||i()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof pe)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Ms){let r=fe.get(t);r||(r=new Set,fe.set(t,r)),r.add(this);let n=Xe.get(this);n||(n=new Set,Xe.set(this,n)),n.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof pe)this.unregisterFromGraph(t.options.deps);else if(t instanceof Ms){const r=fe.get(t);r&&r.delete(this);const n=Xe.get(this);n&&n.delete(t)}}}const $t="__TSR_index",ar="popstate",cr="beforeunload";function Nr(s){let e=s.getLocation();const t=new Set,r=o=>{e=s.getLocation(),t.forEach(c=>c({location:e,action:o}))},n=o=>{s.notifyOnIndexChange??!0?r(o):e=s.getLocation()},i=async({task:o,navigateOpts:c,...d})=>{var h,l;if((c==null?void 0:c.ignoreBlocker)??!1){o();return}const p=((h=s.getBlockers)==null?void 0:h.call(s))??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&p.length&&v)for(const g of p){const y=Be(d.path,d.state);if(await g.blockerFn({currentLocation:e,nextLocation:y,action:d.type})){(l=s.onBlocked)==null||l.call(s);return}}o()};return{get location(){return e},get length(){return s.getLength()},subscribers:t,subscribe:o=>(t.add(o),()=>{t.delete(o)}),push:(o,c,d)=>{const h=e.state[$t];c=Es(h+1,c),i({task:()=>{s.pushState(o,c),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:o,state:c})},replace:(o,c,d)=>{const h=e.state[$t];c=Es(h,c),i({task:()=>{s.replaceState(o,c),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:o,state:c})},go:(o,c)=>{i({task:()=>{s.go(o),n({type:"GO",index:o})},navigateOpts:c,type:"GO"})},back:o=>{i({task:()=>{s.back((o==null?void 0:o.ignoreBlocker)??!1),n({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{s.forward((o==null?void 0:o.ignoreBlocker)??!1),n({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[$t]!==0,createHref:o=>s.createHref(o),block:o=>{var c;if(!s.setBlockers)return()=>{};const d=((c=s.getBlockers)==null?void 0:c.call(s))??[];return s.setBlockers([...d,o]),()=>{var h,l;const a=((h=s.getBlockers)==null?void 0:h.call(s))??[];(l=s.setBlockers)==null||l.call(s,a.filter(p=>p!==o))}},flush:()=>{var o;return(o=s.flush)==null?void 0:o.call(s)},destroy:()=>{var o;return(o=s.destroy)==null?void 0:o.call(s)},notify:r}}function Es(s,e){return e||(e={}),{...e,key:$s(),[$t]:s}}function gn(s){var e;const t=typeof document<"u"?window:void 0,r=t.history.pushState,n=t.history.replaceState;let i=[];const o=()=>i,c=f=>i=f,d=f=>f,h=()=>Be(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);(e=t.history.state)!=null&&e.key||t.history.replaceState({[$t]:0,key:$s()},"");let l=h(),a,p=!1,v=!1,g=!1,y=!1;const S=()=>l;let b,M;const R=()=>{b&&(m._ignoreSubscribers=!0,(b.isPush?t.history.pushState:t.history.replaceState)(b.state,"",b.href),m._ignoreSubscribers=!1,b=void 0,M=void 0,a=void 0)},I=(f,E,F)=>{const C=d(E);M||(a=l),l=Be(E,F),b={href:C,state:F,isPush:(b==null?void 0:b.isPush)||f==="push"},M||(M=Promise.resolve().then(()=>R()))},T=f=>{l=h(),m.notify({type:f})},_=async()=>{if(v){v=!1;return}const f=h(),E=f.state[$t]-l.state[$t],F=E===1,C=E===-1,L=!F&&!C||p;p=!1;const q=L?"GO":C?"BACK":"FORWARD",A=L?{type:"GO",index:E}:{type:C?"BACK":"FORWARD"};if(g)g=!1;else{const B=o();if(typeof document<"u"&&B.length){for(const Q of B)if(await Q.blockerFn({currentLocation:l,nextLocation:f,action:q})){v=!0,t.history.go(1),m.notify(A);return}}}l=h(),m.notify(A)},P=f=>{if(y){y=!1;return}let E=!1;const F=o();if(typeof document<"u"&&F.length)for(const C of F){const L=C.enableBeforeUnload??!0;if(L===!0){E=!0;break}if(typeof L=="function"&&L()===!0){E=!0;break}}if(E)return f.preventDefault(),f.returnValue=""},m=Nr({getLocation:S,getLength:()=>t.history.length,pushState:(f,E)=>I("push",f,E),replaceState:(f,E)=>I("replace",f,E),back:f=>(f&&(g=!0),y=!0,t.history.back()),forward:f=>{f&&(g=!0),y=!0,t.history.forward()},go:f=>{p=!0,t.history.go(f)},createHref:f=>d(f),flush:R,destroy:()=>{t.history.pushState=r,t.history.replaceState=n,t.removeEventListener(cr,P,{capture:!0}),t.removeEventListener(ar,_)},onBlocked:()=>{a&&l!==a&&(l=a)},getBlockers:o,setBlockers:c,notifyOnIndexChange:!1});return t.addEventListener(cr,P,{capture:!0}),t.addEventListener(ar,_),t.history.pushState=function(...f){const E=r.apply(t.history,f);return m._ignoreSubscribers||T("PUSH"),E},t.history.replaceState=function(...f){const E=n.apply(t.history,f);return m._ignoreSubscribers||T("REPLACE"),E},m}function Sn(s={initialEntries:["/"]}){const e=s.initialEntries;let t=s.initialIndex?Math.min(Math.max(s.initialIndex,0),e.length-1):e.length-1;const r=e.map((i,o)=>Es(o,void 0));return Nr({getLocation:()=>Be(e[t],r[t]),getLength:()=>e.length,pushState:(i,o)=>{t<e.length-1&&(e.splice(t+1),r.splice(t+1)),r.push(o),e.push(i),t=Math.max(e.length-1,0)},replaceState:(i,o)=>{r[t]=o,e[t]=i},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,e.length-1)},go:i=>{t=Math.min(Math.max(t+i,0),e.length-1)},createHref:i=>i})}function Be(s,e){const t=s.indexOf("#"),r=s.indexOf("?");return{href:s,pathname:s.substring(0,t>0?r>0?Math.min(t,r):t:r>0?r:s.length),hash:t>-1?s.substring(t):"",search:r>-1?s.slice(r,t===-1?void 0:t):"",state:e||{[$t]:0,key:$s()}}}function $s(){return(Math.random()+1).toString(36).substring(7)}function he(s){return s[s.length-1]}function bn(s){return typeof s=="function"}function Jt(s,e){return bn(s)?s(e):s}function Ls(s,e){return e.reduce((t,r)=>(t[r]=s[r],t),{})}function pt(s,e){if(s===e)return s;const t=e,r=lr(s)&&lr(t);if(r||es(s)&&es(t)){const n=r?s:Object.keys(s),i=n.length,o=r?t:Object.keys(t),c=o.length,d=r?[]:{};let h=0;for(let l=0;l<c;l++){const a=r?l:o[l];(!r&&n.includes(a)||r)&&s[a]===void 0&&t[a]===void 0?(d[a]=void 0,h++):(d[a]=pt(s[a],t[a]),d[a]===s[a]&&s[a]!==void 0&&h++)}return i===c&&h===i?s:d}return t}function es(s){if(!ur(s))return!1;const e=s.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!ur(t)||!t.hasOwnProperty("isPrototypeOf"))}function ur(s){return Object.prototype.toString.call(s)==="[object Object]"}function lr(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function hr(s,e){let t=Object.keys(s);return e&&(t=t.filter(r=>s[r]!==void 0)),t}function me(s,e,t){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(es(s)&&es(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0,n=hr(s,r),i=hr(e,r);return!(t!=null&&t.partial)&&n.length!==i.length?!1:i.every(o=>me(s[o],e[o],t))}return Array.isArray(s)&&Array.isArray(e)?s.length!==e.length?!1:!s.some((r,n)=>!me(r,e[n],t)):!1}function le(s){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),s==null||s(n)},r.reject=n=>{r.status="rejected",t(n)},r}function _n(s){return/%[0-9A-Fa-f]{2}/.test(s)}function Dt(s){return us(s.filter(e=>e!==void 0).join("/"))}function us(s){return s.replace(/\/{2,}/g,"/")}function Hs(s){return s==="/"?s:s.replace(/^\/{1,}/,"")}function Xt(s){return s==="/"?s:s.replace(/\/{1,}$/,"")}function wn(s){return Xt(Hs(s))}function ss(s,e){return s!=null&&s.endsWith("/")&&s!=="/"&&s!==`${e}/`?s.slice(0,-1):s}function Pn(s,e,t){return ss(s,t)===ss(e,t)}function Rn({basepath:s,base:e,to:t,trailingSlash:r="never",caseSensitive:n}){var i,o;e=rs(s,e,n),t=rs(s,t,n);let c=Oe(e);const d=Oe(t);c.length>1&&((i=he(c))==null?void 0:i.value)==="/"&&c.pop(),d.forEach((l,a)=>{l.value==="/"?a?a===d.length-1&&c.push(l):c=[l]:l.value===".."?c.pop():l.value==="."||c.push(l)}),c.length>1&&(((o=he(c))==null?void 0:o.value)==="/"?r==="never"&&c.pop():r==="always"&&c.push({type:"pathname",value:"/"}));const h=Dt([s,...c.map(l=>l.value)]);return us(h)}function Oe(s){if(!s)return[];s=us(s);const e=[];if(s.slice(0,1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),!s)return e;const t=s.split("/").filter(Boolean);return e.push(...t.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(n=>decodeURI(n)).join("%25"):decodeURI(r)})),s.slice(-1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),e}function Ge({path:s,params:e,leaveWildcards:t,leaveParams:r,decodeCharMap:n}){const i=Oe(s);function o(h){const l=e[h],a=typeof l=="string";return["*","_splat"].includes(h)?a?encodeURI(l):l:a?Cn(l,n):l}const c={},d=Dt(i.map(h=>{if(h.type==="wildcard"){c._splat=e._splat;const l=o("_splat");return t?`${h.value}${l??""}`:l}if(h.type==="param"){const l=h.value.substring(1);if(c[l]=e[l],r){const a=o(h.value);return`${h.value}${a??""}`}return o(l)??"undefined"}return h.value}));return{usedParams:c,interpolatedPath:d}}function Cn(s,e){let t=encodeURIComponent(s);if(e)for(const[r,n]of e)t=t.replaceAll(r,n);return t}function We(s,e,t){const r=xn(s,e,t);if(!(t.to&&!r))return r??{}}function rs(s,e,t=!1){const r=t?s:s.toLowerCase(),n=t?e:e.toLowerCase();switch(!0){case r==="/":return e;case n===r:return"";case e.length<s.length:return e;case n[r.length]!=="/":return e;case n.startsWith(r):return e.slice(s.length);default:return e}}function xn(s,e,t){if(s!=="/"&&!e.startsWith(s))return;e=rs(s,e,t.caseSensitive);const r=rs(s,`${t.to??"$"}`,t.caseSensitive),n=Oe(e),i=Oe(r);e.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let d=0;d<Math.max(n.length,i.length);d++){const h=n[d],l=i[d],a=d>=n.length-1,p=d>=i.length-1;if(l){if(l.type==="wildcard"){const v=decodeURI(Dt(n.slice(d).map(g=>g.value)));return o["*"]=v,o._splat=v,!0}if(l.type==="pathname"){if(l.value==="/"&&!(h!=null&&h.value))return!0;if(h){if(t.caseSensitive){if(l.value!==h.value)return!1}else if(l.value.toLowerCase()!==h.value.toLowerCase())return!1}}if(!h)return!1;if(l.type==="param"){if(h.value==="/")return!1;h.value.charAt(0)!=="$"&&(o[l.value.substring(1)]=decodeURIComponent(h.value))}}if(!a&&p)return o["**"]=Dt(n.slice(d+1).map(v=>v.value)),!!t.fuzzy&&(l==null?void 0:l.value)!=="/"}return!0})()?o:void 0}function vt(s){return!!(s!=null&&s.isNotFound)}const ns="tsr-scroll-restoration-v1_3";let Ur=!1;try{Ur=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const Mn=(s,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{s(...r),t=null},e))}},de=Ur?{state:JSON.parse(window.sessionStorage.getItem(ns)||"null")||{},set:e=>(de.state=Jt(e,de.state)||de.state,window.sessionStorage.setItem(ns,JSON.stringify(de.state)))}:void 0,Fs=s=>s.state.key||s.href;function En(s){const e=[];let t;for(;t=s.parentNode;)e.unshift(`${s.tagName}:nth-child(${[].indexOf.call(t.children,s)+1})`),s=t;return`${e.join(" > ")}`.toLowerCase()}let is=!1;function qr(s,e,t,r,n){var i;let o;try{o=JSON.parse(sessionStorage.getItem(s)||"{}")}catch(h){console.error(h);return}const c=e||((i=window.history.state)==null?void 0:i.key),d=o[c];is=!0,(()=>{if(r&&d){for(const l in d){const a=d[l];if(l==="window")window.scrollTo({top:a.scrollY,left:a.scrollX,behavior:t});else if(l){const p=document.querySelector(l);p&&(p.scrollLeft=a.scrollX,p.scrollTop=a.scrollY)}}return}const h=window.location.hash.split("#")[1];if(h){const l=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(l){const a=document.getElementById(h);a&&a.scrollIntoView(l)}return}["window",...(n==null?void 0:n.filter(l=>l!=="window"))??[]].forEach(l=>{const a=l==="window"?window:document.querySelector(l);a&&a.scrollTo({top:0,left:0,behavior:t})})})(),is=!1}function Ln(s,e){if((s.options.scrollRestoration??!1)&&(s.isScrollRestoring=!0),typeof document>"u"||s.isScrollRestorationSetup)return;s.isScrollRestorationSetup=!0,is=!1;const r=s.options.getScrollRestorationKey||Fs;window.history.scrollRestoration="manual";const n=i=>{if(is||!s.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const d=i.target.getAttribute("data-scroll-restoration-id");d?o=`[data-scroll-restoration-id="${d}"]`:o=En(i.target)}const c=r(s.state.location);de.set(d=>{const h=d[c]=d[c]||{},l=h[o]=h[o]||{};if(o==="window")l.scrollX=window.scrollX||0,l.scrollY=window.scrollY||0;else if(o){const a=document.querySelector(o);a&&(l.scrollX=a.scrollLeft||0,l.scrollY=a.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",Mn(n,100),!0),s.subscribe("onRendered",i=>{const o=r(i.toLocation);if(!s.resetNextScroll){s.resetNextScroll=!0;return}qr(ns,o,s.options.scrollRestorationBehavior||void 0,s.isScrollRestoring||void 0,s.options.scrollToTopSelectors||void 0),s.isScrollRestoring&&de.set(c=>(c[o]=c[o]||{},c))})}function Fn(s){if(typeof document<"u"&&document.querySelector){const e=s.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&s.state.location.hash!==""){const t=document.getElementById(s.state.location.hash);t&&t.scrollIntoView(e)}}}function On(s,e){const t=Object.entries(s).flatMap(([n,i])=>Array.isArray(i)?i.map(o=>[n,String(o)]):[[n,String(i)]]);return""+new URLSearchParams(t).toString()}function vs(s){if(!s)return"";const e=_n(s)?decodeURIComponent(s):decodeURIComponent(encodeURIComponent(s));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function In(s,e){const t=s;return[...new URLSearchParams(t).entries()].reduce((i,[o,c])=>{const d=i[o];return d==null?i[o]=vs(c):i[o]=Array.isArray(d)?[...d,vs(c)]:[d,vs(c)],i},{})}const Dn=kn(JSON.parse),Tn=An(JSON.stringify,JSON.parse);function kn(s){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const t=In(e);for(const r in t){const n=t[r];if(typeof n=="string")try{t[r]=s(n)}catch{}}return t}}function An(s,e){function t(r){if(typeof r=="object"&&r!==null)try{return s(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),s(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=t(o)});const n=On(r).toString();return n?`?${n}`:""}}const bt="__root__";function eo(s){if(s.isRedirect=!0,s.statusCode=s.statusCode||s.code||307,s.headers=s.headers||{},!s.reloadDocument){s.reloadDocument=!1;try{new URL(`${s.href}`),s.reloadDocument=!0}catch{}}if(s.throw)throw s;return s}function Wt(s){return!!(s!=null&&s.isRedirect)}function ys(s){return!!(s!=null&&s.isRedirect)&&s.href}function ve(s){const e=s.resolvedLocation,t=s.location,r=(e==null?void 0:e.pathname)!==t.pathname,n=(e==null?void 0:e.href)!==t.href,i=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:n,hashChanged:i}}class jn{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var r;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||t.basepath&&t.basepath!==n.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${wn(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Sn({initialEntries:[this.basepath||"/"]}):gn()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Ms(Nn(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),Ln(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const r=o=>{o.forEach((c,d)=>{c.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const h=this.routesById[c.id];if(It(!h,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const a=Xt(c.fullPath);(!this.routesByPath[a]||c.fullPath.endsWith("/"))&&(this.routesByPath[a]=c)}const l=c.children;l!=null&&l.length&&r(l)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((o,c)=>{var d;if(o.isRoot||!o.path)return;const h=Hs(o.fullPath),l=Oe(h);for(;l.length>1&&((d=l[0])==null?void 0:d.value)==="/";)l.shift();const a=l.map(p=>p.value==="/"?.75:p.type==="param"?.5:p.type==="wildcard"?.25:1);n.push({child:o,trimmed:h,parsed:l,index:c,scores:a})}),this.flatRoutes=n.sort((o,c)=>{const d=Math.min(o.scores.length,c.scores.length);for(let h=0;h<d;h++)if(o.scores[h]!==c.scores[h])return c.scores[h]-o.scores[h];if(o.scores.length!==c.scores.length)return c.scores.length-o.scores.length;for(let h=0;h<d;h++)if(o.parsed[h].value!==c.parsed[h].value)return o.parsed[h].value>c.parsed[h].value?1:-1;return o.index-c.index}).map((o,c)=>(o.child.rank=c,o.child))},this.subscribe=(t,r)=>{const n={eventType:t,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const n=({pathname:d,search:h,hash:l,state:a})=>{const p=this.options.parseSearch(h),v=this.options.stringifySearch(p);return{pathname:d,searchStr:v,search:pt(t==null?void 0:t.search,p),hash:l.split("#").reverse()[0]??"",href:`${d}${v}${l}`,state:pt(t==null?void 0:t.state,a)}},i=n(r??this.history.location),{__tempLocation:o,__tempKey:c}=i.state;if(o&&(!c||c===this.tempLocationKey)){const d=n(o);return d.state.key=i.state.key,delete d.state.__tempLocation,{...d,maskedLocation:i}}return i},this.resolvePathWithBase=(t,r)=>Rn({basepath:this.basepath,base:t,to:us(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,r,n)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},n):this.matchRoutesInternal(t,r),this.getMatchedRoutes=(t,r)=>{let n={};const i=Xt(t.pathname),o=l=>We(this.basepath,i,{to:l.fullPath,caseSensitive:l.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;c?n=o(c):c=this.flatRoutes.find(l=>{const a=o(l);return a?(n=a,!0):!1});let d=c||this.routesById[bt];const h=[d];for(;d.parentRoute;)d=d.parentRoute,h.unshift(d);return{matchedRoutes:h,routeParams:n,foundRoute:c}},this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=t=>{const r=(i={},o)=>{var c,d,h,l,a,p,v;const g=i._fromLocation?this.matchRoutes(i._fromLocation,{_buildLocation:!0}):this.state.matches,y=i.from!=null?g.find(C=>We(this.basepath,Xt(C.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,S=(y==null?void 0:y.pathname)||this.latestLocation.pathname;It(i.from==null||y!=null,"Could not find match for from: "+i.from);const b=(c=this.state.pendingMatches)!=null&&c.length?(d=he(this.state.pendingMatches))==null?void 0:d.search:((h=he(g))==null?void 0:h.search)||this.latestLocation.search,M=o==null?void 0:o.matchedRoutes.filter(C=>g.find(L=>L.routeId===C.id));let R;if(i.to){const C=(y==null?void 0:y.fullPath)||((l=he(g))==null?void 0:l.fullPath)||this.latestLocation.pathname;R=this.resolvePathWithBase(C,`${i.to}`)}else{const C=this.routesById[(a=M==null?void 0:M.find(L=>{const q=Ge({path:L.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Dt([this.basepath,q])===S}))==null?void 0:a.id];R=this.resolvePathWithBase(S,(C==null?void 0:C.to)??S)}const I={...(p=he(g))==null?void 0:p.params};let T=(i.params??!0)===!0?I:{...I,...Jt(i.params,I)};Object.keys(T).length>0&&(o==null||o.matchedRoutes.map(C=>{var L;return((L=C.options.params)==null?void 0:L.stringify)??C.options.stringifyParams}).filter(Boolean).forEach(C=>{T={...T,...C(T)}})),R=Ge({path:R,params:T??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let _=b;if(t._includeValidateSearch&&((v=this.options.search)!=null&&v.strict)){let C={};o==null||o.matchedRoutes.forEach(L=>{try{L.options.validateSearch&&(C={...C,...gs(L.options.validateSearch,{...C,..._})??{}})}catch{}}),_=C}_=(C=>{const L=(o==null?void 0:o.matchedRoutes.reduce((B,Q)=>{var ot;const nt=[];if("search"in Q.options)(ot=Q.options.search)!=null&&ot.middlewares&&nt.push(...Q.options.search.middlewares);else if(Q.options.preSearchFilters||Q.options.postSearchFilters){const Y=({search:V,next:ut})=>{let $=V;"preSearchFilters"in Q.options&&Q.options.preSearchFilters&&($=Q.options.preSearchFilters.reduce((G,W)=>W(G),V));const H=ut($);return"postSearchFilters"in Q.options&&Q.options.postSearchFilters?Q.options.postSearchFilters.reduce((G,W)=>W(G),H):H};nt.push(Y)}if(t._includeValidateSearch&&Q.options.validateSearch){const Y=({search:V,next:ut})=>{const $=ut(V);try{return{...$,...gs(Q.options.validateSearch,$)??{}}}catch{return $}};nt.push(Y)}return B.concat(nt)},[]))??[],q=({search:B})=>i.search?i.search===!0?B:Jt(i.search,B):{};L.push(q);const A=(B,Q)=>{if(B>=L.length)return Q;const ot=L[B];return ot({search:Q,next:Y=>A(B+1,Y)})};return A(0,C)})(_),_=pt(b,_);const m=this.options.stringifySearch(_),f=i.hash===!0?this.latestLocation.hash:i.hash?Jt(i.hash,this.latestLocation.hash):void 0,E=f?`#${f}`:"";let F=i.state===!0?this.latestLocation.state:i.state?Jt(i.state,this.latestLocation.state):{};return F=pt(this.latestLocation.state,F),{pathname:R,search:_,searchStr:m,state:F,hash:f??"",href:`${R}${m}${E}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var c;const d=r(i);let h=o?r(o):void 0;if(!h){let p={};const v=(c=this.options.routeMasks)==null?void 0:c.find(g=>{const y=We(this.basepath,d.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1});return y?(p=y,!0):!1});if(v){const{from:g,...y}=v;o={...Ls(t,["from"]),...y,params:p},h=r(o)}}const l=this.getMatchedRoutes(d,i),a=r(i,l);if(h){const p=this.getMatchedRoutes(h,o),v=r(o,p);a.maskedLocation=v}return a};return t.mask?n(t,{...Ls(t,["from"]),...t.mask}):n(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:r,...n})=>{const i=()=>{const d=["key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(l=>{n.state[l]=this.latestLocation.state[l]});const h=me(n.state,this.latestLocation.state);return d.forEach(l=>{delete n.state[l]}),h},o=this.latestLocation.href===n.href,c=this.commitLocationPromise;if(this.commitLocationPromise=le(()=>{c==null||c.resolve()}),o&&i())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...l}=n;d&&(l={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[n.replace?"replace":"push"](l.href,l.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:o,href:c,...d}={})=>{if(c){const l=this.history.location.state.__TSR_index,a=Be(c,{__TSR_index:t?l:l+1});d.to=a.pathname,d.search=this.options.parseSearch(a.search),d.hash=a.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:i,replace:t,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:o})},this.navigate=({to:t,reloadDocument:r,href:n,...i})=>{if(r){if(!n){const o=this.buildLocation({to:t,...i});n=this.history.createHref(o.href)}i.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...i,href:n,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,i;for(i=new Promise(o=>{this.startTransition(async()=>{var c;try{const d=this.latestLocation,h=this.state.resolvedLocation;this.cancelMatches();let l;ms(()=>{l=this.matchRoutes(d),this.__store.setState(a=>({...a,status:"pending",isLoading:!0,location:d,pendingMatches:l,cachedMatches:a.cachedMatches.filter(p=>!l.find(v=>v.id===p.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...ve({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...ve({resolvedLocation:h,location:d})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:l,location:d,onReady:async()=>{this.startViewTransition(async()=>{let a,p,v;ms(()=>{this.__store.setState(g=>{const y=g.matches,S=g.pendingMatches||g.matches;return a=y.filter(b=>!S.find(M=>M.id===b.id)),p=S.filter(b=>!y.find(M=>M.id===b.id)),v=y.filter(b=>S.find(M=>M.id===b.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...a.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[a,"onLeave"],[p,"onEnter"],[v,"onStay"]].forEach(([g,y])=>{g.forEach(S=>{var b,M;(M=(b=this.looseRoutesById[S.routeId].options)[y])==null||M.call(b,S)})})})}})}catch(d){ys(d)?(r=d,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):vt(d)&&(n=d),this.__store.setState(h=>({...h,statusCode:r?r.statusCode:n?404:h.matches.some(l=>l.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((c=this.commitLocationPromise)==null||c.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;typeof r=="object"&&this.isViewTransitionTypesSupported?n={update:t,types:r.types}:n=t,document.startViewTransition(n)}else t()},this.updateMatch=(t,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(l=>l.id===t),c=this.state.matches.find(l=>l.id===t),d=this.state.cachedMatches.find(l=>l.id===t),h=o?"pendingMatches":c?"matches":d?"cachedMatches":"";return h&&this.__store.setState(l=>{var a;return{...l,[h]:(a=l[h])==null?void 0:a.map(p=>p.id===t?i=r(p):p)}}),i},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===t),this.loadMatches=async({location:t,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch,sync:c})=>{let d,h=!1;const l=async()=>{h||(h=!0,await(i==null?void 0:i()))},a=v=>!!(n&&!this.state.matches.find(g=>g.id===v));!this.isServer&&!this.state.matches.length&&l();const p=(v,g)=>{var y,S,b,M;if(ys(g)&&!g.reloadDocument)throw g;if(Wt(g)||vt(g)){if(o(v.id,R=>({...R,status:Wt(g)?"redirected":vt(g)?"notFound":"error",isFetching:!1,error:g,beforeLoadPromise:void 0,loaderPromise:void 0})),g.routeId||(g.routeId=v.routeId),(y=v.beforeLoadPromise)==null||y.resolve(),(S=v.loaderPromise)==null||S.resolve(),(b=v.loadPromise)==null||b.resolve(),Wt(g))throw h=!0,g=this.resolveRedirect({...g,_fromLocation:t}),g;if(vt(g))throw this._handleNotFound(r,g,{updateMatch:o}),(M=this.serverSsr)==null||M.onMatchSettled({router:this,match:this.getMatch(v.id)}),g}};try{await new Promise((v,g)=>{(async()=>{var y,S,b,M;try{const R=(_,P,m)=>{var f,E;const{id:F,routeId:C}=r[_],L=this.looseRoutesById[C];if(P instanceof Promise)throw P;P.routerCode=m,d=d??_,p(this.getMatch(F),P);try{(E=(f=L.options).onError)==null||E.call(f,P)}catch(q){P=q,p(this.getMatch(F),P)}o(F,q=>{var A,B;return(A=q.beforeLoadPromise)==null||A.resolve(),(B=q.loadPromise)==null||B.resolve(),{...q,error:P,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[_,{id:P,routeId:m}]of r.entries()){const f=this.getMatch(P),E=(y=r[_-1])==null?void 0:y.id,F=this.looseRoutesById[m],C=F.options.pendingMs??this.options.defaultPendingMs,L=!!(i&&!this.isServer&&!a(P)&&(F.options.loader||F.options.beforeLoad)&&typeof C=="number"&&C!==1/0&&(F.options.pendingComponent??((S=this.options)==null?void 0:S.defaultPendingComponent)));let q=!0;if((f.beforeLoadPromise||f.loaderPromise)&&(L&&setTimeout(()=>{try{l()}catch{}},C),await f.beforeLoadPromise,q=this.getMatch(P).status!=="success"),q){try{o(P,Z=>{const N=Z.loadPromise;return{...Z,loadPromise:le(()=>{N==null||N.resolve()}),beforeLoadPromise:le()}});const A=new AbortController;let B;L&&(B=setTimeout(()=>{try{l()}catch{}},C));const{paramsError:Q,searchError:ot}=this.getMatch(P);Q&&R(_,Q,"PARSE_PARAMS"),ot&&R(_,ot,"VALIDATE_SEARCH");const nt=()=>E?this.getMatch(E).context:this.options.context??{};o(P,Z=>({...Z,isFetching:"beforeLoad",fetchCount:Z.fetchCount+1,abortController:A,pendingTimeout:B,context:{...nt(),...Z.__routeContext}}));const{search:Y,params:V,context:ut,cause:$}=this.getMatch(P),H=a(P),G={search:Y,abortController:A,params:V,preload:H,context:ut,location:t,navigate:Z=>this.navigate({...Z,_fromLocation:t}),buildLocation:this.buildLocation,cause:H?"preload":$,matches:r},W=await((M=(b=F.options).beforeLoad)==null?void 0:M.call(b,G))??{};(Wt(W)||vt(W))&&R(_,W,"BEFORE_LOAD"),o(P,Z=>({...Z,__beforeLoadContext:W,context:{...nt(),...Z.__routeContext,...W},abortController:A}))}catch(A){R(_,A,"BEFORE_LOAD")}o(P,A=>{var B;return(B=A.beforeLoadPromise)==null||B.resolve(),{...A,beforeLoadPromise:void 0,isFetching:!1}})}}const I=r.slice(0,d),T=[];I.forEach(({id:_,routeId:P},m)=>{T.push((async()=>{const{loaderPromise:f}=this.getMatch(_);let E=!1,F=!1;if(f){await f;const C=this.getMatch(_);C.error&&p(C,C.error)}else{const C=T[m-1],L=this.looseRoutesById[P],q=()=>{const{params:$,loaderDeps:H,abortController:G,context:W,cause:Z}=this.getMatch(_),N=a(_);return{params:$,deps:H,preload:!!N,parentMatchPromise:C,abortController:G,context:W,location:t,navigate:J=>this.navigate({...J,_fromLocation:t}),cause:N?"preload":Z,route:L}},A=Date.now()-this.getMatch(_).updatedAt,B=a(_),Q=B?L.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:L.options.staleTime??this.options.defaultStaleTime??0,ot=L.options.shouldReload,nt=typeof ot=="function"?ot(q()):ot;o(_,$=>({...$,loaderPromise:le(),preload:!!B&&!this.state.matches.find(H=>H.id===_)}));const Y=async()=>{var $,H,G,W,Z,N,J,Ht,Et,zt,ce;try{const wt=async()=>{const et=this.getMatch(_);et.minPendingPromise&&await et.minPendingPromise};try{this.loadRouteChunk(L),o(_,Gt=>({...Gt,isFetching:"loader"}));const et=await((H=($=L.options).loader)==null?void 0:H.call($,q()));p(this.getMatch(_),et),await L._lazyPromise,await wt();const lt={matches:r,match:this.getMatch(_),params:this.getMatch(_).params,loaderData:et},st=(W=(G=L.options).head)==null?void 0:W.call(G,lt),ue=st==null?void 0:st.meta,Ke=st==null?void 0:st.links,$e=st==null?void 0:st.scripts,K=(N=(Z=L.options).scripts)==null?void 0:N.call(Z,lt),z=(Ht=(J=L.options).headers)==null?void 0:Ht.call(J,{loaderData:et});o(_,Gt=>({...Gt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:et,meta:ue,links:Ke,headScripts:$e,headers:z,scripts:K}))}catch(et){let lt=et;await wt(),p(this.getMatch(_),et);try{(zt=(Et=L.options).onError)==null||zt.call(Et,et)}catch(st){lt=st,p(this.getMatch(_),st)}o(_,st=>({...st,error:lt,status:"error",isFetching:!1}))}(ce=this.serverSsr)==null||ce.onMatchSettled({router:this,match:this.getMatch(_)}),await L._componentsPromise}catch(wt){o(_,et=>({...et,loaderPromise:void 0})),p(this.getMatch(_),wt)}},{status:V,invalid:ut}=this.getMatch(_);E=V==="success"&&(ut||(nt??A>Q)),B&&L.options.preload===!1||(E&&!c?(F=!0,(async()=>{try{await Y();const{loaderPromise:$,loadPromise:H}=this.getMatch(_);$==null||$.resolve(),H==null||H.resolve(),o(_,G=>({...G,loaderPromise:void 0}))}catch($){ys($)&&await this.navigate($)}})()):(V!=="success"||E&&c)&&await Y())}if(!F){const{loaderPromise:C,loadPromise:L}=this.getMatch(_);C==null||C.resolve(),L==null||L.resolve()}return o(_,C=>({...C,isFetching:F?C.isFetching:!1,loaderPromise:F?C.loaderPromise:void 0,invalid:!1})),this.getMatch(_)})())}),await Promise.all(T),v()}catch(R){g(R)}})()}),await l()}catch(v){if(Wt(v)||vt(v))throw vt(v)&&!n&&await l(),v}return r},this.invalidate=t=>{const r=n=>{var i;return((i=t==null?void 0:t.filter)==null?void 0:i.call(t,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var i;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(i=n.pendingMatches)==null?void 0:i.map(r)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const r=t;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(r=>{const{id:n,...i}=r.options;Object.assign(t.options,i)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Qr.map(async r=>{const n=t.options[r];n!=null&&n.preload&&await n.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const r=this.buildLocation(t);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),o=new Set([...i,...this.state.cachedMatches.map(c=>c.id)]);ms(()=>{n.forEach(c=>{o.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(c,d)=>{i.has(c)?n=n.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),n}catch(c){if(Wt(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:r});vt(c)||console.error(c);return}},this.matchRoute=(t,r)=>{const n={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},i=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const c=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=We(this.basepath,c.pathname,{...r,to:i.pathname});return!d||t.params&&!me(d,t.params,{partial:!0})?!1:d&&((r==null?void 0:r.includeSearch)??!0)?me(c.search,i.search,{partial:!0})?d:!1:d},this._handleNotFound=(t,r,{updateMatch:n=this.updateMatch}={})=>{var i;const o=this.routesById[r.routeId??""]??this.routeTree,c={};for(const h of t)c[h.routeId]=h;!o.options.notFoundComponent&&((i=this.options)!=null&&i.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),It(o.options.notFoundComponent);const d=c[o.id];It(d,"Could not find match for route: "+o.id),n(d.id,h=>({...h,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(t,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Tn,parseSearch:e.parseSearch??Dn}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const{foundRoute:r,matchedRoutes:n,routeParams:i}=this.getMatchedRoutes(e,t==null?void 0:t.dest);let o=!1;(r?r.path!=="/"&&i["**"]:Xt(e.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):o=!0);const c=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let a=n.length-1;a>=0;a--){const p=n[a];if(p.children)return p.id}return bt}})(),d=n.map(a=>{var p;let v;const g=((p=a.options.params)==null?void 0:p.parse)??a.options.parseParams;if(g)try{const y=g(i);Object.assign(i,y)}catch(y){if(v=new Bn(y.message,{cause:y}),t!=null&&t.throwOnError)throw v;return v}}),h=[],l=a=>(a==null?void 0:a.id)?a.context??this.options.context??{}:this.options.context??{};return n.forEach((a,p)=>{var v,g;const y=h[p-1],[S,b,M]=(()=>{const L=(y==null?void 0:y.search)??e.search,q=(y==null?void 0:y._strictSearch)??{};try{const A=gs(a.options.validateSearch,{...L})??{};return[{...L,...A},{...q,...A},void 0]}catch(A){let B=A;if(A instanceof os||(B=new os(A.message,{cause:A})),t!=null&&t.throwOnError)throw B;return[L,{},B]}})(),R=((g=(v=a.options).loaderDeps)==null?void 0:g.call(v,{search:S}))??"",I=R?JSON.stringify(R):"",{usedParams:T,interpolatedPath:_}=Ge({path:a.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),P=Ge({path:a.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+I,m=this.getMatch(P),f=this.state.matches.find(L=>L.routeId===a.id),E=f?"stay":"enter";let F;if(m)F={...m,cause:E,params:f?pt(f.params,i):i,_strictParams:T,search:pt(f?f.search:m.search,S),_strictSearch:b};else{const L=a.options.loader||a.options.beforeLoad||a.lazyFn||Un(a)?"pending":"success";F={id:P,index:p,routeId:a.id,params:f?pt(f.params,i):i,_strictParams:T,pathname:Dt([this.basepath,_]),updatedAt:Date.now(),search:f?pt(f.search,S):S,_strictSearch:b,searchError:void 0,status:L,isFetching:!1,error:void 0,paramsError:d[p],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:E,loaderDeps:f?pt(f.loaderDeps,R):R,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:a.options.staticData||{},loadPromise:le(),fullPath:a.fullPath}}t!=null&&t.preload||(F.globalNotFound=c===a.id),F.searchError=M;const C=l(y);F.context={...C,...F.__routeContext,...F.__beforeLoadContext},h.push(F)}),h.forEach((a,p)=>{var v,g,y,S,b,M,R,I;const T=this.looseRoutesById[a.routeId];if(!this.getMatch(a.id)&&(t==null?void 0:t._buildLocation)!==!0){const P=h[p-1],m=l(P),f={deps:a.loaderDeps,params:a.params,context:m,location:e,navigate:E=>this.navigate({...E,_fromLocation:e}),buildLocation:this.buildLocation,cause:a.cause,abortController:a.abortController,preload:!!a.preload,matches:h};a.__routeContext=((g=(v=T.options).context)==null?void 0:g.call(v,f))??{},a.context={...m,...a.__routeContext,...a.__beforeLoadContext}}if(a.status==="success"){a.headers=(S=(y=T.options).headers)==null?void 0:S.call(y,{loaderData:a.loaderData});const P={matches:h,match:a,params:a.params,loaderData:a.loaderData},m=(M=(b=T.options).head)==null?void 0:M.call(b,P);a.links=m==null?void 0:m.links,a.headScripts=m==null?void 0:m.scripts,a.meta=m==null?void 0:m.meta,a.scripts=(I=(R=T.options).scripts)==null?void 0:I.call(R,P)}}),h}}class os extends Error{}class Bn extends Error{}function Nn(s){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:s,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function gs(s,e){if(s==null)return{};if("~standard"in s){const t=s["~standard"].validate(e);if(t instanceof Promise)throw new os("Async validation not supported");if(t.issues)throw new os(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in s?s.parse(e):typeof s=="function"?s(e):{}}const Qr=["component","errorComponent","pendingComponent","notFoundComponent"];function Un(s){var e;for(const t of Qr)if((e=s.options[t])!=null&&e.preload)return!0;return!1}const qn="Error preloading route! ☝️";class Vr{constructor(e){if(this.init=t=>{var r,n;this.originalIndex=t.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);if(this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),o)this._path=bt;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let c=o?bt:i==null?void 0:i.path;c&&c!=="/"&&(c=Hs(c));const d=(i==null?void 0:i.id)||c;let h=o?bt:Dt([this.parentRoute.id===bt?"":this.parentRoute.id,d]);c===bt&&(c="/"),h!==bt&&(h=Dt(["/",h]));const l=h===bt?"/":Dt([this.parentRoute.fullPath,c]);this._path=c,this._id=h,this._fullPath=l,this._to=l,this._ssr=(i==null?void 0:i.ssr)??t.defaultSsr??!0},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class Qn extends Vr{constructor(e){super(e)}}function zs(s){const e=s.errorComponent??ls;return D.jsx(Vn,{getResetKey:s.getResetKey,onCatch:s.onCatch,children:({error:t,reset:r})=>t?x.createElement(e,{error:t,reset:r}):s.children})}class Vn extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ls({error:s}){const[e,t]=x.useState(!1);return D.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[D.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),D.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),D.jsx("div",{style:{height:".25rem"}}),e?D.jsx("div",{children:D.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:s.message?D.jsx("code",{children:s.message}):null})}):null]})}var Ss={exports:{}},bs={},_s={exports:{}},ws={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dr;function Kn(){if(dr)return ws;dr=1;var s=Ar();function e(a,p){return a===p&&(a!==0||1/a===1/p)||a!==a&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=s.useState,n=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function c(a,p){var v=p(),g=r({inst:{value:v,getSnapshot:p}}),y=g[0].inst,S=g[1];return i(function(){y.value=v,y.getSnapshot=p,d(y)&&S({inst:y})},[a,v,p]),n(function(){return d(y)&&S({inst:y}),a(function(){d(y)&&S({inst:y})})},[a]),o(v),v}function d(a){var p=a.getSnapshot;a=a.value;try{var v=p();return!t(a,v)}catch{return!0}}function h(a,p){return p()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return ws.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:l,ws}var fr;function $n(){return fr||(fr=1,_s.exports=Kn()),_s.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr;function Hn(){if(pr)return bs;pr=1;var s=Ar(),e=$n();function t(h,l){return h===l&&(h!==0||1/h===1/l)||h!==h&&l!==l}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=s.useRef,o=s.useEffect,c=s.useMemo,d=s.useDebugValue;return bs.useSyncExternalStoreWithSelector=function(h,l,a,p,v){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=c(function(){function b(_){if(!M){if(M=!0,R=_,_=p(_),v!==void 0&&y.hasValue){var P=y.value;if(v(P,_))return I=P}return I=_}if(P=I,r(R,_))return P;var m=p(_);return v!==void 0&&v(P,m)?(R=_,P):(R=_,I=m)}var M=!1,R,I,T=a===void 0?null:a;return[function(){return b(l())},T===null?void 0:function(){return b(T())}]},[l,a,p,v]);var S=n(h,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=S},[S]),d(S),S},bs}var mr;function zn(){return mr||(mr=1,Ss.exports=Hn()),Ss.exports}var Gn=zn();function Wn(s,e=t=>t){return Gn.useSyncExternalStoreWithSelector(s.subscribe,()=>s.state,()=>s.state,e,Jn)}function Jn(s,e){if(Object.is(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;if(s instanceof Map&&e instanceof Map){if(s.size!==e.size)return!1;for(const[r,n]of s)if(!e.has(r)||!Object.is(n,e.get(r)))return!1;return!0}if(s instanceof Set&&e instanceof Set){if(s.size!==e.size)return!1;for(const r of s)if(!e.has(r))return!1;return!0}const t=Object.keys(s);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(s[t[r]],e[t[r]]))return!1;return!0}const Ps=x.createContext(null);function Kr(){return typeof document>"u"?Ps:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ps,Ps)}function ft(s){const e=x.useContext(Kr());return s==null||s.warn,e}function rt(s){const e=ft({warn:(s==null?void 0:s.router)===void 0}),t=(s==null?void 0:s.router)||e,r=x.useRef(void 0);return Wn(t.__store,n=>{if(s!=null&&s.select){if(s.structuralSharing??t.options.defaultStructuralSharing){const i=pt(r.current,s.select(n));return r.current=i,i}return s.select(n)}return n})}const hs=x.createContext(void 0),Xn=x.createContext(void 0);function Mt(s){const e=x.useContext(s.from?Xn:hs);return rt({select:r=>{const n=r.matches.find(i=>s.from?s.from===i.routeId:i.id===e);if(It(!((s.shouldThrow??!0)&&!n),`Could not find ${s.from?`an active match from "${s.from}"`:"a nearest match!"}`),n!==void 0)return s.select?s.select(n):n},structuralSharing:s.structuralSharing})}function Gs(s){return Mt({from:s.from,strict:s.strict,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.loaderData):e.loaderData})}function Ws(s){const{select:e,...t}=s;return Mt({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Js(s){return Mt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.params):e.params})}function Xs(s){return Mt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.search):e.search})}function Ys(s){const{navigate:e}=ft();return x.useCallback(t=>e({from:s==null?void 0:s.from,...t}),[s==null?void 0:s.from,e])}function so(s){const e=ft(),t=x.useRef(null);return x.useEffect(()=>{t.current!==s&&(e.navigate({...s}),t.current=s)},[e,s]),null}class Yn extends Vr{constructor(e){super(e),this.useMatch=t=>Mt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Mt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Ws({...t,from:this.id}),this.useLoaderData=t=>Gs({...t,from:this.id}),this.useNavigate=()=>Ys({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function Zn(s){return new Yn(s)}class ti extends Qn{constructor(e){super(e),this.useMatch=t=>Mt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Mt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Ws({...t,from:this.id}),this.useLoaderData=t=>Gs({...t,from:this.id}),this.useNavigate=()=>Ys({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function ro(s){return new ti(s)}function no(s){return new ei(s,{silent:!0}).createRoute}class ei{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const n=Zn(r);return n.isRoot=!1,n},this.silent=t==null?void 0:t.silent}}class si{constructor(e){this.useMatch=t=>Mt({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Mt({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>Ws({...t,from:this.options.id}),this.useLoaderData=t=>Gs({...t,from:this.options.id}),this.useNavigate=()=>{const t=ft();return Ys({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function io(s){return e=>new si({id:s,...e})}function ri(s){const e=rt({select:t=>`not-found-${t.location.pathname}-${t.status}`});return D.jsx(zs,{getResetKey:()=>e,onCatch:(t,r)=>{var n;if(vt(t))(n=s.onCatch)==null||n.call(s,t,r);else throw t},errorComponent:({error:t})=>{var r;if(vt(t))return(r=s.fallback)==null?void 0:r.call(s,t);throw t},children:s.children})}function ni(){return D.jsx("p",{children:"Not Found"})}function Ye(s){return D.jsx(D.Fragment,{children:s.children})}function $r(s,e,t){return e.options.notFoundComponent?D.jsx(e.options.notFoundComponent,{data:t}):s.options.defaultNotFoundComponent?D.jsx(s.options.defaultNotFoundComponent,{data:t}):D.jsx(ni,{})}var Rs,vr;function ii(){if(vr)return Rs;vr=1;const s={},e=s.hasOwnProperty,t=(m,f)=>{for(const E in m)e.call(m,E)&&f(E,m[E])},r=(m,f)=>(f&&t(f,(E,F)=>{m[E]=F}),m),n=(m,f)=>{const E=m.length;let F=-1;for(;++F<E;)f(m[F])},i=m=>"\\u"+("0000"+m).slice(-4),o=(m,f)=>{let E=m.toString(16);return f?E:E.toUpperCase()},c=s.toString,d=Array.isArray,h=m=>typeof Buffer=="function"&&Buffer.isBuffer(m),l=m=>c.call(m)=="[object Object]",a=m=>typeof m=="string"||c.call(m)=="[object String]",p=m=>typeof m=="number"||c.call(m)=="[object Number]",v=m=>typeof m=="bigint",g=m=>typeof m=="function",y=m=>c.call(m)=="[object Map]",S=m=>c.call(m)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},M=/[\\\b\f\n\r\t]/,R=/[0-9]/,I=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,_=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,P=(m,f)=>{const E=()=>{Q=B,++f.indentLevel,B=f.indent.repeat(f.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},C=f&&f.json;C&&(F.quotes="double",F.wrap=!0),f=r(F,f),f.quotes!="single"&&f.quotes!="double"&&f.quotes!="backtick"&&(f.quotes="single");const L=f.quotes=="double"?'"':f.quotes=="backtick"?"`":"'",q=f.compact,A=f.lowercaseHex;let B=f.indent.repeat(f.indentLevel),Q="";const ot=f.__inline1__,nt=f.__inline2__,Y=q?"":`
`;let V,ut=!0;const $=f.numbers=="binary",H=f.numbers=="octal",G=f.numbers=="decimal",W=f.numbers=="hexadecimal";if(C&&m&&g(m.toJSON)&&(m=m.toJSON()),!a(m)){if(y(m))return m.size==0?"new Map()":(q||(f.__inline1__=!0,f.__inline2__=!1),"new Map("+P(Array.from(m),f)+")");if(S(m))return m.size==0?"new Set()":"new Set("+P(Array.from(m),f)+")";if(h(m))return m.length==0?"Buffer.from([])":"Buffer.from("+P(Array.from(m),f)+")";if(d(m))return V=[],f.wrap=!0,ot&&(f.__inline1__=!1,f.__inline2__=!0),nt||E(),n(m,N=>{ut=!1,nt&&(f.__inline2__=!1),V.push((q||nt?"":B)+P(N,f))}),ut?"[]":nt?"["+V.join(", ")+"]":"["+Y+V.join(","+Y)+Y+(q?"":Q)+"]";if(p(m)||v(m)){if(C)return JSON.stringify(Number(m));let N;if(G)N=String(m);else if(W){let J=m.toString(16);A||(J=J.toUpperCase()),N="0x"+J}else $?N="0b"+m.toString(2):H&&(N="0o"+m.toString(8));return v(m)?N+"n":N}else return v(m)?C?JSON.stringify(Number(m)):m+"n":l(m)?(V=[],f.wrap=!0,E(),t(m,(N,J)=>{ut=!1,V.push((q?"":B)+P(N,f)+":"+(q?"":" ")+P(J,f))}),ut?"{}":"{"+Y+V.join(","+Y)+Y+(q?"":Q)+"}"):C?JSON.stringify(m)||"null":String(m)}const Z=f.escapeEverything?T:_;return V=m.replace(Z,(N,J,Ht,Et,zt,ce)=>{if(J){if(f.minimal)return J;const et=J.charCodeAt(0),lt=J.charCodeAt(1);if(f.es6){const st=(et-55296)*1024+lt-56320+65536;return"\\u{"+o(st,A)+"}"}return i(o(et,A))+i(o(lt,A))}if(Ht)return i(o(Ht.charCodeAt(0),A));if(N=="\0"&&!C&&!R.test(ce.charAt(zt+1)))return"\\0";if(Et)return Et==L||f.escapeEverything?"\\"+Et:Et;if(M.test(N))return b[N];if(f.minimal&&!I.test(N))return N;const wt=o(N.charCodeAt(0),A);return C||wt.length>2?i(wt):"\\x"+("00"+wt).slice(-2)}),L=="`"&&(V=V.replace(/\$\{/g,"\\${")),f.isScriptContext&&(V=V.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,C?"\\u003C!--":"\\x3C!--")),f.wrap&&(V=L+V+L),V};return P.version="3.0.2",Rs=P,Rs}ii();function oi({children:s,log:e}){return typeof document<"u"?null:D.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[s,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function ai(){const s=ft(),t=(s.options.getScrollRestorationKey||Fs)(s.latestLocation),r=t!==Fs(s.latestLocation)?t:null;return!s.isScrollRestoring||!s.isServer?null:D.jsx(oi,{children:`(${qr.toString()})(${JSON.stringify(ns)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const Hr=x.memo(function({matchId:e}){var t,r;const n=ft(),i=rt({select:b=>{var M;return(M=b.matches.find(R=>R.id===e))==null?void 0:M.routeId}});It(i);const o=n.routesById[i],c=o.options.pendingComponent??n.options.defaultPendingComponent,d=c?D.jsx(c,{}):null,h=o.options.errorComponent??n.options.defaultErrorComponent,l=o.options.onCatch??n.options.defaultOnCatch,a=o.isRoot?o.options.notFoundComponent??((t=n.options.notFoundRoute)==null?void 0:t.options.component):o.options.notFoundComponent,p=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??c??((r=o.options.errorComponent)==null?void 0:r.preload))?x.Suspense:Ye,v=h?zs:Ye,g=a?ri:Ye,y=rt({select:b=>b.loadedAt}),S=rt({select:b=>{var M;const R=b.matches.findIndex(I=>I.id===e);return(M=b.matches[R-1])==null?void 0:M.routeId}});return D.jsxs(D.Fragment,{children:[D.jsx(hs.Provider,{value:e,children:D.jsx(p,{fallback:d,children:D.jsx(v,{getResetKey:()=>y,errorComponent:h||ls,onCatch:(b,M)=>{if(vt(b))throw b;l==null||l(b,M)},children:D.jsx(g,{fallback:b=>{if(!a||b.routeId&&b.routeId!==i||!b.routeId&&!o.isRoot)throw b;return x.createElement(a,b)},children:D.jsx(ui,{matchId:e})})})})}),S===bt&&n.options.scrollRestoration?D.jsxs(D.Fragment,{children:[D.jsx(ci,{}),D.jsx(ai,{})]}):null]})});function ci(){const s=ft(),e=x.useRef(void 0);return D.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==s.latestLocation.href)&&(s.emit({type:"onRendered",...ve(s.state)}),e.current=s.latestLocation)}},s.latestLocation.state.key)}const ui=x.memo(function({matchId:e}){var t,r,n;const i=ft(),{match:o,key:c,routeId:d}=rt({select:p=>{const v=p.matches.findIndex(R=>R.id===e),g=p.matches[v],y=g.routeId,S=i.routesById[y].options.remountDeps??i.options.defaultRemountDeps,b=S==null?void 0:S({routeId:y,loaderDeps:g.loaderDeps,params:g._strictParams,search:g._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:y,match:Ls(g,["id","status","error"])}},structuralSharing:!0}),h=i.routesById[d],l=x.useMemo(()=>{const p=h.options.component??i.options.defaultComponent;return p?D.jsx(p,{},c):D.jsx(li,{})},[c,h.options.component,i.options.defaultComponent]),a=(h.options.errorComponent??i.options.defaultErrorComponent)||ls;if(o.status==="notFound")return It(vt(o.error)),$r(i,h,o.error);if(o.status==="redirected")throw It(Wt(o.error)),(t=i.getMatch(o.id))==null?void 0:t.loadPromise;if(o.status==="error"){if(i.isServer)return D.jsx(a,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const p=h.options.pendingMinMs??i.options.defaultPendingMinMs;if(p&&!((r=i.getMatch(o.id))!=null&&r.minPendingPromise)&&!i.isServer){const v=le();Promise.resolve().then(()=>{i.updateMatch(o.id,g=>({...g,minPendingPromise:v}))}),setTimeout(()=>{v.resolve(),i.updateMatch(o.id,g=>({...g,minPendingPromise:void 0}))},p)}throw(n=i.getMatch(o.id))==null?void 0:n.loadPromise}return l}),li=x.memo(function(){const e=ft(),t=x.useContext(hs),r=rt({select:h=>{var l;return(l=h.matches.find(a=>a.id===t))==null?void 0:l.routeId}}),n=e.routesById[r],i=rt({select:h=>{const a=h.matches.find(p=>p.id===t);return It(a),a.globalNotFound}}),o=rt({select:h=>{var l;const a=h.matches,p=a.findIndex(v=>v.id===t);return(l=a[p+1])==null?void 0:l.id}});if(i)return $r(e,n,void 0);if(!o)return null;const c=D.jsx(Hr,{matchId:o}),d=e.options.defaultPendingComponent?D.jsx(e.options.defaultPendingComponent,{}):null;return t===bt?D.jsx(x.Suspense,{fallback:d,children:c}):c});var zr=dn();const oo=hn(zr),ke=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Cs(s){const e=x.useRef({value:s,prev:null}),t=e.current.value;return s!==t&&(e.current={value:s,prev:t}),e.current.prev}function hi(s,e,t={},r={}){const n=x.useRef(typeof IntersectionObserver=="function"),i=x.useRef(null);return x.useEffect(()=>{if(!(!s.current||!n.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{e(o)},t),i.current.observe(s.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[e,t,r.disabled,s]),i.current}function di(s){const e=x.useRef(null);return x.useImperativeHandle(s,()=>e.current,[]),e}function fi(){const s=ft(),e=x.useRef({router:s,mounted:!1}),t=rt({select:({isLoading:a})=>a}),[r,n]=x.useState(!1),i=rt({select:a=>a.matches.some(p=>p.status==="pending"),structuralSharing:!0}),o=Cs(t),c=t||r||i,d=Cs(c),h=t||i,l=Cs(h);return s.isServer||(s.startTransition=a=>{n(!0),x.startTransition(()=>{a(),n(!1)})}),x.useEffect(()=>{const a=s.history.subscribe(s.load),p=s.buildLocation({to:s.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Xt(s.latestLocation.href)!==Xt(p.href)&&s.commitLocation({...p,replace:!0}),()=>{a()}},[s,s.history]),ke(()=>{if(typeof window<"u"&&s.clientSsr||e.current.router===s&&e.current.mounted)return;e.current={router:s,mounted:!0},(async()=>{try{await s.load()}catch(p){console.error(p)}})()},[s]),ke(()=>{o&&!t&&s.emit({type:"onLoad",...ve(s.state)})},[o,s,t]),ke(()=>{l&&!h&&s.emit({type:"onBeforeRouteMount",...ve(s.state)})},[h,l,s]),ke(()=>{d&&!c&&(s.emit({type:"onResolved",...ve(s.state)}),s.__store.setState(a=>({...a,status:"idle",resolvedLocation:a.location})),Fn(s))},[c,d,s]),null}function pi(){const s=ft(),e=s.options.defaultPendingComponent?D.jsx(s.options.defaultPendingComponent,{}):null,t=s.isServer||typeof document<"u"&&s.clientSsr?Ye:x.Suspense,r=D.jsxs(t,{fallback:e,children:[D.jsx(fi,{}),D.jsx(mi,{})]});return s.options.InnerWrap?D.jsx(s.options.InnerWrap,{children:r}):r}function mi(){const s=rt({select:t=>{var r;return(r=t.matches[0])==null?void 0:r.id}}),e=rt({select:t=>t.loadedAt});return D.jsx(hs.Provider,{value:s,children:D.jsx(zs,{getResetKey:()=>e,errorComponent:ls,onCatch:t=>{t.message||t.toString()},children:s?D.jsx(Hr,{matchId:s}):null})})}function ao(){const s=ft();return rt({select:e=>{var t;return[e.location.href,(t=e.resolvedLocation)==null?void 0:t.href,e.status]},structuralSharing:!0}),x.useCallback(e=>{const{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i,...o}=e;return s.matchRoute(o,{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i})},[s])}function vi(s){return rt({select:e=>{const t=e.matches;return s!=null&&s.select?s.select(t):t},structuralSharing:s==null?void 0:s.structuralSharing})}function yi(s,e){const t=ft(),[r,n]=x.useState(!1),i=x.useRef(!1),o=di(e),{activeProps:c=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:h,to:l,preload:a,preloadDelay:p,hashScrollIntoView:v,replace:g,startTransition:y,resetScroll:S,viewTransition:b,children:M,target:R,disabled:I,style:T,className:_,onClick:P,onFocus:m,onMouseEnter:f,onMouseLeave:E,onTouchStart:F,ignoreBlocker:C,...L}=s,{params:q,search:A,hash:B,state:Q,mask:ot,reloadDocument:nt,...Y}=L,V=x.useMemo(()=>{try{return new URL(`${l}`),"external"}catch{}return"internal"},[l]),ut=rt({select:K=>K.location.search,structuralSharing:!0}),$=vi({select:K=>{var z;return s.from??((z=K[K.length-1])==null?void 0:z.fullPath)}}),H=x.useMemo(()=>({...s,from:$}),[s,$]),G=x.useMemo(()=>t.buildLocation(H),[t,H,ut]),W=x.useMemo(()=>H.reloadDocument?!1:a??t.options.defaultPreload,[t.options.defaultPreload,a,H.reloadDocument]),Z=p??t.options.defaultPreloadDelay??0,N=rt({select:K=>{if(h!=null&&h.exact){if(!Pn(K.location.pathname,G.pathname,t.basepath))return!1}else{const z=ss(K.location.pathname,t.basepath).split("/");if(!ss(G.pathname,t.basepath).split("/").every((un,ln)=>un===z[ln]))return!1}return((h==null?void 0:h.includeSearch)??!0)&&!me(K.location.search,G.search,{partial:!(h!=null&&h.exact),ignoreUndefined:!(h!=null&&h.explicitUndefined)})?!1:h!=null&&h.includeHash?K.location.hash===G.hash:!0}}),J=x.useCallback(()=>{t.preloadRoute(H).catch(K=>{console.warn(K),console.warn(qn)})},[H,t]),Ht=x.useCallback(K=>{K!=null&&K.isIntersecting&&J()},[J]);if(hi(o,Ht,{rootMargin:"100px"},{disabled:!!I||W!=="viewport"}),ke(()=>{i.current||!I&&W==="render"&&(J(),i.current=!0)},[I,J,W]),V==="external")return{...Y,ref:o,type:V,href:l,...M&&{children:M},...R&&{target:R},...I&&{disabled:I},...T&&{style:T},..._&&{className:_},...P&&{onClick:P},...m&&{onFocus:m},...f&&{onMouseEnter:f},...E&&{onMouseLeave:E},...F&&{onTouchStart:F}};const Et=K=>{if(!I&&!Si(K)&&!K.defaultPrevented&&(!R||R==="_self")&&K.button===0){K.preventDefault(),zr.flushSync(()=>{n(!0)});const z=t.subscribe("onResolved",()=>{z(),n(!1)});return t.navigate({...H,replace:g,resetScroll:S,hashScrollIntoView:v,startTransition:y,viewTransition:b,ignoreBlocker:C})}},zt=K=>{I||W&&J()},ce=zt,wt=K=>{if(I)return;const z=K.target||{};if(W){if(z.preloadTimeout)return;z.preloadTimeout=setTimeout(()=>{z.preloadTimeout=null,J()},Z)}},et=K=>{if(I)return;const z=K.target||{};z.preloadTimeout&&(clearTimeout(z.preloadTimeout),z.preloadTimeout=null)},lt=K=>z=>{var Gt;(Gt=z.persist)==null||Gt.call(z),K.filter(Boolean).forEach(rr=>{z.defaultPrevented||rr(z)})},st=N?Jt(c,{})??{}:{},ue=N?{}:Jt(d,{}),Ke=[_,st.className,ue.className].filter(Boolean).join(" "),$e={...T,...st.style,...ue.style};return{...Y,...st,...ue,href:I?void 0:G.maskedLocation?t.history.createHref(G.maskedLocation.href):t.history.createHref(G.href),ref:o,onClick:lt([P,Et]),onFocus:lt([m,zt]),onMouseEnter:lt([f,wt]),onMouseLeave:lt([E,et]),onTouchStart:lt([F,ce]),disabled:!!I,target:R,...Object.keys($e).length&&{style:$e},...Ke&&{className:Ke},...I&&{role:"link","aria-disabled":!0},...N&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function co(s){return x.forwardRef(function(t,r){return D.jsx(gi,{...t,_asChild:s,ref:r})})}const gi=x.forwardRef((s,e)=>{const{_asChild:t,...r}=s,{type:n,ref:i,...o}=yi(r,e),c=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof t>"u"&&delete o.disabled,x.createElement(t||"a",{...o,ref:i},c)});function Si(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const uo=s=>new bi(s);class bi extends jn{constructor(e){super(e)}}function _i({router:s,children:e,...t}){s.update({...s.options,...t,context:{...s.options.context,...t.context}});const r=Kr(),n=D.jsx(r.Provider,{value:s,children:e});return s.options.Wrap?D.jsx(s.options.Wrap,{children:n}):n}function lo({router:s,...e}){return D.jsx(_i,{router:s,...e,children:D.jsx(pi,{})})}var Ie=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oe=typeof window>"u"||"Deno"in globalThis;function yt(){}function wi(s,e){return typeof s=="function"?s(e):s}function Os(s){return typeof s=="number"&&s>=0&&s!==1/0}function Gr(s,e){return Math.max(s+(e||0)-Date.now(),0)}function ye(s,e){return typeof s=="function"?s(e):s}function _t(s,e){return typeof s=="function"?s(e):s}function yr(s,e){const{type:t="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:c}=s;if(o){if(r){if(e.queryHash!==Zs(o,e.options))return!1}else if(!Ne(e.queryKey,o))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||i&&!i(e))}function gr(s,e){const{exact:t,status:r,predicate:n,mutationKey:i}=s;if(i){if(!e.options.mutationKey)return!1;if(t){if(ae(e.options.mutationKey)!==ae(i))return!1}else if(!Ne(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Zs(s,e){return((e==null?void 0:e.queryKeyHashFn)||ae)(s)}function ae(s){return JSON.stringify(s,(e,t)=>Is(t)?Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}):t)}function Ne(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ne(s[t],e[t])):!1}function Wr(s,e){if(s===e)return s;const t=Sr(s)&&Sr(e);if(t||Is(s)&&Is(e)){const r=t?s:Object.keys(s),n=r.length,i=t?e:Object.keys(e),o=i.length,c=t?[]:{};let d=0;for(let h=0;h<o;h++){const l=t?h:i[h];(!t&&r.includes(l)||t)&&s[l]===void 0&&e[l]===void 0?(c[l]=void 0,d++):(c[l]=Wr(s[l],e[l]),c[l]===s[l]&&s[l]!==void 0&&d++)}return n===o&&d===n?s:c}return e}function as(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function Sr(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Is(s){if(!br(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!br(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function br(s){return Object.prototype.toString.call(s)==="[object Object]"}function Pi(s){return new Promise(e=>{setTimeout(e,s)})}function Ds(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Wr(s,e):e}function Ri(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function Ci(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var tr=Symbol();function Jr(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===tr?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Yt,At,ge,xr,xi=(xr=class extends Ie{constructor(){super();O(this,Yt);O(this,At);O(this,ge);w(this,ge,e=>{if(!oe&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,At)||this.setEventListener(u(this,ge))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,At))==null||e.call(this),w(this,At,void 0))}setEventListener(e){var t;w(this,ge,e),(t=u(this,At))==null||t.call(this),w(this,At,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,Yt)!==e&&(w(this,Yt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,Yt)=="boolean"?u(this,Yt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yt=new WeakMap,At=new WeakMap,ge=new WeakMap,xr),er=new xi,Se,jt,be,Mr,Mi=(Mr=class extends Ie{constructor(){super();O(this,Se,!0);O(this,jt);O(this,be);w(this,be,e=>{if(!oe&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,jt)||this.setEventListener(u(this,be))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,jt))==null||e.call(this),w(this,jt,void 0))}setEventListener(e){var t;w(this,be,e),(t=u(this,jt))==null||t.call(this),w(this,jt,e(this.setOnline.bind(this)))}setOnline(e){u(this,Se)!==e&&(w(this,Se,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,Se)}},Se=new WeakMap,jt=new WeakMap,be=new WeakMap,Mr),cs=new Mi;function Ts(){let s,e;const t=new Promise((n,i)=>{s=n,e=i});t.status="pending",t.catch(()=>{});function r(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{r({status:"fulfilled",value:n}),s(n)},t.reject=n=>{r({status:"rejected",reason:n}),e(n)},t}function Ei(s){return Math.min(1e3*2**s,3e4)}function Xr(s){return(s??"online")==="online"?cs.isOnline():!0}var Yr=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function xs(s){return s instanceof Yr}function Zr(s){let e=!1,t=0,r=!1,n;const i=Ts(),o=y=>{var S;r||(p(new Yr(y)),(S=s.abort)==null||S.call(s))},c=()=>{e=!0},d=()=>{e=!1},h=()=>er.isFocused()&&(s.networkMode==="always"||cs.isOnline())&&s.canRun(),l=()=>Xr(s.networkMode)&&s.canRun(),a=y=>{var S;r||(r=!0,(S=s.onSuccess)==null||S.call(s,y),n==null||n(),i.resolve(y))},p=y=>{var S;r||(r=!0,(S=s.onError)==null||S.call(s,y),n==null||n(),i.reject(y))},v=()=>new Promise(y=>{var S;n=b=>{(r||h())&&y(b)},(S=s.onPause)==null||S.call(s)}).then(()=>{var y;n=void 0,r||(y=s.onContinue)==null||y.call(s)}),g=()=>{if(r)return;let y;const S=t===0?s.initialPromise:void 0;try{y=S??s.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(a).catch(b=>{var _;if(r)return;const M=s.retry??(oe?0:3),R=s.retryDelay??Ei,I=typeof R=="function"?R(t,b):R,T=M===!0||typeof M=="number"&&t<M||typeof M=="function"&&M(t,b);if(e||!T){p(b);return}t++,(_=s.onFail)==null||_.call(s,t,b),Pi(I).then(()=>h()?void 0:v()).then(()=>{e?p(b):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:c,continueRetry:d,canStart:l,start:()=>(l()?g():v().then(g),i)}}var Li=s=>setTimeout(s,0);function Fi(){let s=[],e=0,t=c=>{c()},r=c=>{c()},n=Li;const i=c=>{e?s.push(c):n(()=>{t(c)})},o=()=>{const c=s;s=[],c.length&&n(()=>{r(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var tt=Fi(),Zt,Er,tn=(Er=class{constructor(){O(this,Zt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Os(this.gcTime)&&w(this,Zt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(oe?1/0:5*60*1e3))}clearGcTimeout(){u(this,Zt)&&(clearTimeout(u(this,Zt)),w(this,Zt,void 0))}},Zt=new WeakMap,Er),_e,we,mt,te,it,Ue,ee,gt,Lt,Lr,Oi=(Lr=class extends tn{constructor(e){super();O(this,gt);O(this,_e);O(this,we);O(this,mt);O(this,te);O(this,it);O(this,Ue);O(this,ee);w(this,ee,!1),w(this,Ue,e.defaultOptions),this.setOptions(e.options),this.observers=[],w(this,te,e.client),w(this,mt,u(this,te).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,w(this,_e,Ii(this.options)),this.state=e.state??u(this,_e),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,it))==null?void 0:e.promise}setOptions(e){this.options={...u(this,Ue),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,mt).remove(this)}setData(e,t){const r=Ds(this.state.data,e,this.options);return k(this,gt,Lt).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){k(this,gt,Lt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,n;const t=(r=u(this,it))==null?void 0:r.promise;return(n=u(this,it))==null||n.cancel(e),t?t.then(yt).catch(yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,_e))}isActive(){return this.observers.some(e=>_t(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Gr(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,mt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,it)&&(u(this,ee)?u(this,it).cancel({revert:!0}):u(this,it).cancelRetry()),this.scheduleGc()),u(this,mt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,gt,Lt).call(this,{type:"invalidate"})}fetch(e,t){var d,h,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,it))return u(this,it).continueRetry(),u(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(p=>p.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,n=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(w(this,ee,!0),r.signal)})},i=()=>{const a=Jr(this.options,t),p={client:u(this,te),queryKey:this.queryKey,meta:this.meta};return n(p),w(this,ee,!1),this.options.persister?this.options.persister(a,p,this):a(p)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,te),state:this.state,fetchFn:i};n(o),(d=this.options.behavior)==null||d.onFetch(o,this),w(this,we,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&k(this,gt,Lt).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta});const c=a=>{var p,v,g,y;xs(a)&&a.silent||k(this,gt,Lt).call(this,{type:"error",error:a}),xs(a)||((v=(p=u(this,mt).config).onError)==null||v.call(p,a,this),(y=(g=u(this,mt).config).onSettled)==null||y.call(g,this.state.data,a,this)),this.scheduleGc()};return w(this,it,Zr({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:a=>{var p,v,g,y;if(a===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(S){c(S);return}(v=(p=u(this,mt).config).onSuccess)==null||v.call(p,a,this),(y=(g=u(this,mt).config).onSettled)==null||y.call(g,a,this.state.error,this),this.scheduleGc()},onError:c,onFail:(a,p)=>{k(this,gt,Lt).call(this,{type:"failed",failureCount:a,error:p})},onPause:()=>{k(this,gt,Lt).call(this,{type:"pause"})},onContinue:()=>{k(this,gt,Lt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),u(this,it).start()}},_e=new WeakMap,we=new WeakMap,mt=new WeakMap,te=new WeakMap,it=new WeakMap,Ue=new WeakMap,ee=new WeakMap,gt=new WeakSet,Lt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...en(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return xs(n)&&n.revert&&u(this,we)?{...u(this,we),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,mt).notify({query:this,type:"updated",action:e})})},Lr);function en(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xr(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ii(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Pt,Fr,Di=(Fr=class extends Ie{constructor(e={}){super();O(this,Pt);this.config=e,w(this,Pt,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??Zs(n,t);let o=this.get(i);return o||(o=new Oi({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){u(this,Pt).has(e.queryHash)||(u(this,Pt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,Pt).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,Pt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,Pt).get(e)}getAll(){return[...u(this,Pt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>yr(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>yr(e,r)):t}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pt=new WeakMap,Fr),Rt,at,se,Ct,kt,Or,Ti=(Or=class extends tn{constructor(e){super();O(this,Ct);O(this,Rt);O(this,at);O(this,se);this.mutationId=e.mutationId,w(this,at,e.mutationCache),w(this,Rt,[]),this.state=e.state||sn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Rt).includes(e)||(u(this,Rt).push(e),this.clearGcTimeout(),u(this,at).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){w(this,Rt,u(this,Rt).filter(t=>t!==e)),this.scheduleGc(),u(this,at).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():u(this,at).remove(this))}continue(){var e;return((e=u(this,se))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,i,o,c,d,h,l,a,p,v,g,y,S,b,M,R,I,T,_,P;w(this,se,Zr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(m,f)=>{k(this,Ct,kt).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{k(this,Ct,kt).call(this,{type:"pause"})},onContinue:()=>{k(this,Ct,kt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,at).canRun(this)}));const t=this.state.status==="pending",r=!u(this,se).canStart();try{if(!t){k(this,Ct,kt).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(n=u(this,at).config).onMutate)==null?void 0:i.call(n,e,this));const f=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));f!==this.state.context&&k(this,Ct,kt).call(this,{type:"pending",context:f,variables:e,isPaused:r})}const m=await u(this,se).start();return await((h=(d=u(this,at).config).onSuccess)==null?void 0:h.call(d,m,e,this.state.context,this)),await((a=(l=this.options).onSuccess)==null?void 0:a.call(l,m,e,this.state.context)),await((v=(p=u(this,at).config).onSettled)==null?void 0:v.call(p,m,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,m,null,e,this.state.context)),k(this,Ct,kt).call(this,{type:"success",data:m}),m}catch(m){try{throw await((b=(S=u(this,at).config).onError)==null?void 0:b.call(S,m,e,this.state.context,this)),await((R=(M=this.options).onError)==null?void 0:R.call(M,m,e,this.state.context)),await((T=(I=u(this,at).config).onSettled)==null?void 0:T.call(I,void 0,m,this.state.variables,this.state.context,this)),await((P=(_=this.options).onSettled)==null?void 0:P.call(_,void 0,m,e,this.state.context)),m}finally{k(this,Ct,kt).call(this,{type:"error",error:m})}}finally{u(this,at).runNext(this)}}},Rt=new WeakMap,at=new WeakMap,se=new WeakMap,Ct=new WeakSet,kt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),tt.batch(()=>{u(this,Rt).forEach(r=>{r.onMutationUpdate(e)}),u(this,at).notify({mutation:this,type:"updated",action:e})})},Or);function sn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ft,St,qe,Ir,ki=(Ir=class extends Ie{constructor(e={}){super();O(this,Ft);O(this,St);O(this,qe);this.config=e,w(this,Ft,new Set),w(this,St,new Map),w(this,qe,0)}build(e,t,r){const n=new Ti({mutationCache:this,mutationId:++He(this,qe)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){u(this,Ft).add(e);const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t);r?r.push(e):u(this,St).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,Ft).delete(e)){const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&u(this,St).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const t=Je(e);if(typeof t=="string"){const n=(r=u(this,St).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{u(this,Ft).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,Ft).clear(),u(this,St).clear()})}getAll(){return Array.from(u(this,Ft))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gr(t,r))}findAll(e={}){return this.getAll().filter(t=>gr(e,t))}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return tt.batch(()=>Promise.all(e.map(t=>t.continue().catch(yt))))}},Ft=new WeakMap,St=new WeakMap,qe=new WeakMap,Ir);function Je(s){var e;return(e=s.options.scope)==null?void 0:e.id}function _r(s){return{onFetch:(e,t)=>{var l,a,p,v,g;const r=e.options,n=(p=(a=(l=e.fetchOptions)==null?void 0:l.meta)==null?void 0:a.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let y=!1;const S=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=Jr(e.options,e.fetchOptions),M=async(R,I,T)=>{if(y)return Promise.reject();if(I==null&&R.pages.length)return Promise.resolve(R);const _={client:e.client,queryKey:e.queryKey,pageParam:I,direction:T?"backward":"forward",meta:e.options.meta};S(_);const P=await b(_),{maxPages:m}=e.options,f=T?Ci:Ri;return{pages:f(R.pages,P,m),pageParams:f(R.pageParams,I,m)}};if(n&&i.length){const R=n==="backward",I=R?Ai:wr,T={pages:i,pageParams:o},_=I(r,T);c=await M(T,_,R)}else{const R=s??i.length;do{const I=d===0?o[0]??r.initialPageParam:wr(r,c);if(d>0&&I==null)break;c=await M(c,I),d++}while(d<R)}return c};e.options.persister?e.fetchFn=()=>{var y,S;return(S=(y=e.options).persister)==null?void 0:S.call(y,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function wr(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function Ai(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var X,Bt,Nt,Pe,Re,Ut,Ce,xe,Dr,ho=(Dr=class{constructor(s={}){O(this,X);O(this,Bt);O(this,Nt);O(this,Pe);O(this,Re);O(this,Ut);O(this,Ce);O(this,xe);w(this,X,s.queryCache||new Di),w(this,Bt,s.mutationCache||new ki),w(this,Nt,s.defaultOptions||{}),w(this,Pe,new Map),w(this,Re,new Map),w(this,Ut,0)}mount(){He(this,Ut)._++,u(this,Ut)===1&&(w(this,Ce,er.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,X).onFocus())})),w(this,xe,cs.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,X).onOnline())})))}unmount(){var s,e;He(this,Ut)._--,u(this,Ut)===0&&((s=u(this,Ce))==null||s.call(this),w(this,Ce,void 0),(e=u(this,xe))==null||e.call(this),w(this,xe,void 0))}isFetching(s){return u(this,X).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return u(this,Bt).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,X).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=u(this,X).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(ye(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return u(this,X).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),n=u(this,X).get(r.queryHash),i=n==null?void 0:n.state.data,o=wi(e,i);if(o!==void 0)return u(this,X).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return tt.batch(()=>u(this,X).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,X).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=u(this,X);tt.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=u(this,X);return tt.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=tt.batch(()=>u(this,X).findAll(s).map(n=>n.cancel(t)));return Promise.all(r).then(yt).catch(yt)}invalidateQueries(s,e={}){return tt.batch(()=>(u(this,X).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=tt.batch(()=>u(this,X).findAll(s).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(yt)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yt)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=u(this,X).build(this,e);return t.isStaleByTime(ye(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(yt).catch(yt)}fetchInfiniteQuery(s){return s.behavior=_r(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(yt).catch(yt)}ensureInfiniteQueryData(s){return s.behavior=_r(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return cs.isOnline()?u(this,Bt).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,X)}getMutationCache(){return u(this,Bt)}getDefaultOptions(){return u(this,Nt)}setDefaultOptions(s){w(this,Nt,s)}setQueryDefaults(s,e){u(this,Pe).set(ae(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...u(this,Pe).values()],t={};return e.forEach(r=>{Ne(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){u(this,Re).set(ae(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...u(this,Re).values()],t={};return e.forEach(r=>{Ne(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...u(this,Nt).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Zs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tr&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...u(this,Nt).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){u(this,X).clear(),u(this,Bt).clear()}},X=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Ut=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Dr),ht,j,Qe,ct,re,Me,qt,xt,Ve,Ee,Le,ne,ie,Qt,Fe,U,Ae,ks,As,js,Bs,Ns,Us,qs,rn,Tr,ji=(Tr=class extends Ie{constructor(e,t){super();O(this,U);O(this,ht);O(this,j);O(this,Qe);O(this,ct);O(this,re);O(this,Me);O(this,qt);O(this,xt);O(this,Ve);O(this,Ee);O(this,Le);O(this,ne);O(this,ie);O(this,Qt);O(this,Fe,new Set);this.options=t,w(this,ht,e),w(this,xt,null),w(this,qt,Ts()),this.options.experimental_prefetchInRender||u(this,qt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,j).addObserver(this),Pr(u(this,j),this.options)?k(this,U,Ae).call(this):this.updateResult(),k(this,U,Bs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qs(u(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qs(u(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,U,Ns).call(this),k(this,U,Us).call(this),u(this,j).removeObserver(this)}setOptions(e){const t=this.options,r=u(this,j);if(this.options=u(this,ht).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _t(this.options.enabled,u(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,U,qs).call(this),u(this,j).setOptions(this.options),t._defaulted&&!as(this.options,t)&&u(this,ht).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,j),observer:this});const n=this.hasListeners();n&&Rr(u(this,j),r,this.options,t)&&k(this,U,Ae).call(this),this.updateResult(),n&&(u(this,j)!==r||_t(this.options.enabled,u(this,j))!==_t(t.enabled,u(this,j))||ye(this.options.staleTime,u(this,j))!==ye(t.staleTime,u(this,j)))&&k(this,U,ks).call(this);const i=k(this,U,As).call(this);n&&(u(this,j)!==r||_t(this.options.enabled,u(this,j))!==_t(t.enabled,u(this,j))||i!==u(this,Qt))&&k(this,U,js).call(this,i)}getOptimisticResult(e){const t=u(this,ht).getQueryCache().build(u(this,ht),e),r=this.createResult(t,e);return Ni(this,r)&&(w(this,ct,r),w(this,Me,this.options),w(this,re,u(this,j).state)),r}getCurrentResult(){return u(this,ct)}trackResult(e,t){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t==null||t(n),e[n])})}),r}trackProp(e){u(this,Fe).add(e)}getCurrentQuery(){return u(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=u(this,ht).defaultQueryOptions(e),r=u(this,ht).getQueryCache().build(u(this,ht),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return k(this,U,Ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,ct)))}createResult(e,t){var m;const r=u(this,j),n=this.options,i=u(this,ct),o=u(this,re),c=u(this,Me),h=e!==r?e.state:u(this,Qe),{state:l}=e;let a={...l},p=!1,v;if(t._optimisticResults){const f=this.hasListeners(),E=!f&&Pr(e,t),F=f&&Rr(e,r,t,n);(E||F)&&(a={...a,...en(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:S}=a;if(t.select&&a.data!==void 0)if(i&&a.data===(o==null?void 0:o.data)&&t.select===u(this,Ve))v=u(this,Ee);else try{w(this,Ve,t.select),v=t.select(a.data),v=Ds(i==null?void 0:i.data,v,t),w(this,Ee,v),w(this,xt,null)}catch(f){w(this,xt,f)}else v=a.data;if(t.placeholderData!==void 0&&v===void 0&&S==="pending"){let f;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))f=i.data;else if(f=typeof t.placeholderData=="function"?t.placeholderData((m=u(this,Le))==null?void 0:m.state.data,u(this,Le)):t.placeholderData,t.select&&f!==void 0)try{f=t.select(f),w(this,xt,null)}catch(E){w(this,xt,E)}f!==void 0&&(S="success",v=Ds(i==null?void 0:i.data,f,t),p=!0)}u(this,xt)&&(g=u(this,xt),v=u(this,Ee),y=Date.now(),S="error");const b=a.fetchStatus==="fetching",M=S==="pending",R=S==="error",I=M&&b,T=v!==void 0,P={status:S,fetchStatus:a.fetchStatus,isPending:M,isSuccess:S==="success",isError:R,isInitialLoading:I,isLoading:I,data:v,dataUpdatedAt:a.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>h.dataUpdateCount||a.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!M,isLoadingError:R&&!T,isPaused:a.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:R&&T,isStale:sr(e,t),refetch:this.refetch,promise:u(this,qt)};if(this.options.experimental_prefetchInRender){const f=C=>{P.status==="error"?C.reject(P.error):P.data!==void 0&&C.resolve(P.data)},E=()=>{const C=w(this,qt,P.promise=Ts());f(C)},F=u(this,qt);switch(F.status){case"pending":e.queryHash===r.queryHash&&f(F);break;case"fulfilled":(P.status==="error"||P.data!==F.value)&&E();break;case"rejected":(P.status!=="error"||P.error!==F.reason)&&E();break}}return P}updateResult(){const e=u(this,ct),t=this.createResult(u(this,j),this.options);if(w(this,re,u(this,j).state),w(this,Me,this.options),u(this,re).data!==void 0&&w(this,Le,u(this,j)),as(t,e))return;w(this,ct,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!u(this,Fe).size)return!0;const o=new Set(i??u(this,Fe));return this.options.throwOnError&&o.add("error"),Object.keys(u(this,ct)).some(c=>{const d=c;return u(this,ct)[d]!==e[d]&&o.has(d)})};k(this,U,rn).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,U,Bs).call(this)}},ht=new WeakMap,j=new WeakMap,Qe=new WeakMap,ct=new WeakMap,re=new WeakMap,Me=new WeakMap,qt=new WeakMap,xt=new WeakMap,Ve=new WeakMap,Ee=new WeakMap,Le=new WeakMap,ne=new WeakMap,ie=new WeakMap,Qt=new WeakMap,Fe=new WeakMap,U=new WeakSet,Ae=function(e){k(this,U,qs).call(this);let t=u(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(yt)),t},ks=function(){k(this,U,Ns).call(this);const e=ye(this.options.staleTime,u(this,j));if(oe||u(this,ct).isStale||!Os(e))return;const r=Gr(u(this,ct).dataUpdatedAt,e)+1;w(this,ne,setTimeout(()=>{u(this,ct).isStale||this.updateResult()},r))},As=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,j)):this.options.refetchInterval)??!1},js=function(e){k(this,U,Us).call(this),w(this,Qt,e),!(oe||_t(this.options.enabled,u(this,j))===!1||!Os(u(this,Qt))||u(this,Qt)===0)&&w(this,ie,setInterval(()=>{(this.options.refetchIntervalInBackground||er.isFocused())&&k(this,U,Ae).call(this)},u(this,Qt)))},Bs=function(){k(this,U,ks).call(this),k(this,U,js).call(this,k(this,U,As).call(this))},Ns=function(){u(this,ne)&&(clearTimeout(u(this,ne)),w(this,ne,void 0))},Us=function(){u(this,ie)&&(clearInterval(u(this,ie)),w(this,ie,void 0))},qs=function(){const e=u(this,ht).getQueryCache().build(u(this,ht),this.options);if(e===u(this,j))return;const t=u(this,j);w(this,j,e),w(this,Qe,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},rn=function(e){tt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(u(this,ct))}),u(this,ht).getQueryCache().notify({query:u(this,j),type:"observerResultsUpdated"})})},Tr);function Bi(s,e){return _t(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Pr(s,e){return Bi(s,e)||s.state.data!==void 0&&Qs(s,e,e.refetchOnMount)}function Qs(s,e,t){if(_t(e.enabled,s)!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&sr(s,e)}return!1}function Rr(s,e,t,r){return(s!==e||_t(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&sr(s,t)}function sr(s,e){return _t(e.enabled,s)!==!1&&s.isStaleByTime(ye(e.staleTime,s))}function Ni(s,e){return!as(s.getCurrentResult(),e)}var Vt,Kt,dt,Ot,Tt,Ze,Vs,kr,Ui=(kr=class extends Ie{constructor(e,t){super();O(this,Tt);O(this,Vt);O(this,Kt);O(this,dt);O(this,Ot);w(this,Vt,e),this.setOptions(t),this.bindMethods(),k(this,Tt,Ze).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const t=this.options;this.options=u(this,Vt).defaultMutationOptions(e),as(this.options,t)||u(this,Vt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,dt),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&ae(t.mutationKey)!==ae(this.options.mutationKey)?this.reset():((r=u(this,dt))==null?void 0:r.state.status)==="pending"&&u(this,dt).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=u(this,dt))==null||e.removeObserver(this)}onMutationUpdate(e){k(this,Tt,Ze).call(this),k(this,Tt,Vs).call(this,e)}getCurrentResult(){return u(this,Kt)}reset(){var e;(e=u(this,dt))==null||e.removeObserver(this),w(this,dt,void 0),k(this,Tt,Ze).call(this),k(this,Tt,Vs).call(this)}mutate(e,t){var r;return w(this,Ot,t),(r=u(this,dt))==null||r.removeObserver(this),w(this,dt,u(this,Vt).getMutationCache().build(u(this,Vt),this.options)),u(this,dt).addObserver(this),u(this,dt).execute(e)}},Vt=new WeakMap,Kt=new WeakMap,dt=new WeakMap,Ot=new WeakMap,Tt=new WeakSet,Ze=function(){var t;const e=((t=u(this,dt))==null?void 0:t.state)??sn();w(this,Kt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Vs=function(e){tt.batch(()=>{var t,r,n,i,o,c,d,h;if(u(this,Ot)&&this.hasListeners()){const l=u(this,Kt).variables,a=u(this,Kt).context;(e==null?void 0:e.type)==="success"?((r=(t=u(this,Ot)).onSuccess)==null||r.call(t,e.data,l,a),(i=(n=u(this,Ot)).onSettled)==null||i.call(n,e.data,null,l,a)):(e==null?void 0:e.type)==="error"&&((c=(o=u(this,Ot)).onError)==null||c.call(o,e.error,l,a),(h=(d=u(this,Ot)).onSettled)==null||h.call(d,void 0,e.error,l,a))}this.listeners.forEach(l=>{l(u(this,Kt))})})},kr),nn=x.createContext(void 0),on=s=>{const e=x.useContext(nn);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fo=({client:s,children:e})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),D.jsx(nn.Provider,{value:s,children:e})),an=x.createContext(!1),qi=()=>x.useContext(an);an.Provider;function Qi(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Vi=x.createContext(Qi()),Ki=()=>x.useContext(Vi);function cn(s,e){return typeof s=="function"?s(...e):!!s}function Ks(){}var $i=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},Hi=s=>{x.useEffect(()=>{s.clearReset()},[s])},zi=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:n})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(n&&s.data===void 0||cn(t,[s.error,r])),Gi=s=>{const e=s.staleTime;s.suspense&&(s.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},Wi=(s,e)=>s.isLoading&&s.isFetching&&!e,Ji=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,Cr=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Xi(s,e,t){var a,p,v,g,y;const r=on(),n=qi(),i=Ki(),o=r.defaultQueryOptions(s);(p=(a=r.getDefaultOptions().queries)==null?void 0:a._experimental_beforeQuery)==null||p.call(a,o),o._optimisticResults=n?"isRestoring":"optimistic",Gi(o),$i(o,i),Hi(i);const c=!r.getQueryCache().get(o.queryHash),[d]=x.useState(()=>new e(r,o)),h=d.getOptimisticResult(o),l=!n&&s.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const b=l?d.subscribe(tt.batchCalls(S)):Ks;return d.updateResult(),b},[d,l]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(o)},[o,d]),Ji(o,h))throw Cr(o,d,i);if(zi({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((g=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,h),o.experimental_prefetchInRender&&!oe&&Wi(h,n)){const S=c?Cr(o,d,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;S==null||S.catch(Ks).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function po(s,e){return Xi(s,ji)}function mo(s,e){const t=on(),[r]=x.useState(()=>new Ui(t,s));x.useEffect(()=>{r.setOptions(s)},[r,s]);const n=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(tt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,c)=>{r.mutate(o,c).catch(Ks)},[r]);if(n.error&&cn(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}export{so as N,li as O,ho as Q,oo as R,mo as a,po as b,co as c,ro as d,fo as e,no as f,ao as g,eo as h,Ys as i,D as j,uo as k,lo as l,io as m,Xs as n,Js as o,zr as r,on as u};
