var zt=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var u=(t,e,s)=>(zt(t,e,"read from private field"),s?s.call(t):e.get(t)),F=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},g=(t,e,s,r)=>(zt(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var _t=(t,e,s,r)=>({set _(i){g(t,e,i,s)},get _(){return u(t,e,r)}}),V=(t,e,s)=>(zt(t,e,"access private method"),s);import{c as Er,a as rr,j as b,B as Ve,T as _r,I as Pr,b as Es,d as jt,S as Vr,C as He,e as Tr,P as jr,f as kr,g as Mr,h as _s,i as ve,k as Ir,l as Lr,m as qr,n as Qr}from"./mui-DBQlXqj8.js";import{c as Ur,a as ue,r as ie}from"./react-C75nn7xY.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Yt={},Ps=Ur;Yt.createRoot=Ps.createRoot,Yt.hydrateRoot=Ps.hydrateRoot;const Br=Er({palette:{primary:{main:"#ea2b06"},secondary:{main:"#525252"},background:{default:"#e0e0e0"}}}),Nr=rr(b.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Kr=rr(b.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var At=t=>t.type==="checkbox",ze=t=>t instanceof Date,te=t=>t==null;const ir=t=>typeof t=="object";var H=t=>!te(t)&&!Array.isArray(t)&&ir(t)&&!ze(t),Hr=t=>H(t)&&t.target?At(t.target)?t.target.checked:t.target.value:t,zr=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Gr=(t,e)=>t.has(zr(e)),Wr=t=>{const e=t.constructor&&t.constructor.prototype;return H(e)&&e.hasOwnProperty("isPrototypeOf")},hs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ce(t){let e;const s=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(hs&&(t instanceof Blob||t instanceof FileList))&&(s||H(t)))if(e=s?[]:{},!s&&!Wr(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ce(t[r]));else return t;return e}var Rt=t=>Array.isArray(t)?t.filter(Boolean):[],B=t=>t===void 0,m=(t,e,s)=>{if(!e||!H(t))return s;const r=Rt(e.split(/[,[\].]+?/)).reduce((i,a)=>te(i)?i:i[a],t);return B(r)||r===t?B(t[e])?s:t[e]:r},Ce=t=>typeof t=="boolean";const Vs={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ue.createContext(null);var $r=(t,e,s,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const c=a;return e._proxyFormState[c]!==pe.all&&(e._proxyFormState[c]=!r||pe.all),t[c]}});return i},oe=t=>H(t)&&!Object.keys(t).length,Jr=(t,e,s,r)=>{s(t);const{name:i,...a}=t;return oe(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(c=>e[c]===pe.all)},Gt=t=>Array.isArray(t)?t:[t];function Xr(t){const e=ue.useRef(t);e.current=t,ue.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}var we=t=>typeof t=="string",Yr=(t,e,s,r,i)=>we(t)?(r&&e.watch.add(t),m(s,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),m(s,a))):(r&&(e.watchAll=!0),s),ds=t=>/^\w*$/.test(t),nr=t=>Rt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),q=(t,e,s)=>{let r=-1;const i=ds(e)?[e]:nr(e),a=i.length,c=a-1;for(;++r<a;){const h=i[r];let O=s;if(r!==c){const D=t[h];O=H(D)||Array.isArray(D)?D:isNaN(+i[r+1])?{}:[]}t[h]=O,t=t[h]}return t},Zr=(t,e,s,r,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:i||!0}}:{},Ts=t=>({isOnSubmit:!t||t===pe.onSubmit,isOnBlur:t===pe.onBlur,isOnChange:t===pe.onChange,isOnAll:t===pe.all,isOnTouch:t===pe.onTouched}),js=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const dt=(t,e,s,r)=>{for(const i of s||Object.keys(t)){const a=m(t,i);if(a){const{_f:c,...h}=a;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!r)break;if(c.ref&&e(c.ref,c.name)&&!r)break;dt(h,e)}else H(h)&&dt(h,e)}}};var ei=(t,e,s)=>{const r=Rt(m(t,s));return q(r,"root",e[s]),q(t,s,r),t},fs=t=>t.type==="file",Te=t=>typeof t=="function",kt=t=>{if(!hs)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Tt=t=>we(t),ys=t=>t.type==="radio",Mt=t=>t instanceof RegExp;const ks={value:!1,isValid:!1},Ms={value:!0,isValid:!0};var ar=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!B(t[0].attributes.value)?B(t[0].value)||t[0].value===""?Ms:{value:t[0].value,isValid:!0}:Ms:ks}return ks};const Is={isValid:!1,value:null};var ur=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Is):Is;function Ls(t,e,s="validate"){if(Tt(t)||Array.isArray(t)&&t.every(Tt)||Ce(t)&&!t)return{type:s,message:Tt(t)?t:"",ref:e}}var Ke=t=>H(t)&&!Mt(t)?t:{value:t,message:""},qs=async(t,e,s,r,i)=>{const{ref:a,refs:c,required:h,maxLength:O,minLength:D,min:S,max:p,pattern:x,validate:C,name:T,valueAsNumber:U,mount:j,disabled:R}=t._f,v=m(e,T);if(!j||R)return{};const E=c?c[0]:a,I=_=>{r&&E.reportValidity&&(E.setCustomValidity(Ce(_)?"":_||""),E.reportValidity())},P={},W=ys(a),X=At(a),A=W||X,z=(U||fs(a))&&B(a.value)&&B(v)||kt(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,se=Zr.bind(null,T,s,P),Et=(_,k,N,J=Fe.maxLength,fe=Fe.minLength)=>{const le=_?k:N;P[T]={type:_?J:fe,message:le,ref:a,...se(_?J:fe,le)}};if(i?!Array.isArray(v)||!v.length:h&&(!A&&(z||te(v))||Ce(v)&&!v||X&&!ar(c).isValid||W&&!ur(c).isValid)){const{value:_,message:k}=Tt(h)?{value:!!h,message:h}:Ke(h);if(_&&(P[T]={type:Fe.required,message:k,ref:E,...se(Fe.required,k)},!s))return I(k),P}if(!z&&(!te(S)||!te(p))){let _,k;const N=Ke(p),J=Ke(S);if(!te(v)&&!isNaN(v)){const fe=a.valueAsNumber||v&&+v;te(N.value)||(_=fe>N.value),te(J.value)||(k=fe<J.value)}else{const fe=a.valueAsDate||new Date(v),le=lt=>new Date(new Date().toDateString()+" "+lt),ut=a.type=="time",ot=a.type=="week";we(N.value)&&v&&(_=ut?le(v)>le(N.value):ot?v>N.value:fe>new Date(N.value)),we(J.value)&&v&&(k=ut?le(v)<le(J.value):ot?v<J.value:fe<new Date(J.value))}if((_||k)&&(Et(!!_,N.message,J.message,Fe.max,Fe.min),!s))return I(P[T].message),P}if((O||D)&&!z&&(we(v)||i&&Array.isArray(v))){const _=Ke(O),k=Ke(D),N=!te(_.value)&&v.length>+_.value,J=!te(k.value)&&v.length<+k.value;if((N||J)&&(Et(N,_.message,k.message),!s))return I(P[T].message),P}if(x&&!z&&we(v)){const{value:_,message:k}=Ke(x);if(Mt(_)&&!v.match(_)&&(P[T]={type:Fe.pattern,message:k,ref:a,...se(Fe.pattern,k)},!s))return I(k),P}if(C){if(Te(C)){const _=await C(v,e),k=Ls(_,E);if(k&&(P[T]={...k,...se(Fe.validate,k.message)},!s))return I(k.message),P}else if(H(C)){let _={};for(const k in C){if(!oe(_)&&!s)break;const N=Ls(await C[k](v,e),E,k);N&&(_={...N,...se(k,N.message)},I(N.message),s&&(P[T]=_))}if(!oe(_)&&(P[T]={ref:E,..._},!s))return P}}return I(!0),P};function ti(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=B(t)?r++:t[e[r++]];return t}function si(t){for(const e in t)if(t.hasOwnProperty(e)&&!B(t[e]))return!1;return!0}function K(t,e){const s=Array.isArray(e)?e:ds(e)?[e]:nr(e),r=s.length===1?t:ti(t,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(H(r)&&oe(r)||Array.isArray(r)&&si(r))&&K(t,s.slice(0,-1)),t}var Wt=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},It=t=>te(t)||!ir(t);function je(t,e){if(It(t)||It(e))return t===e;if(ze(t)&&ze(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const c=e[i];if(ze(a)&&ze(c)||H(a)&&H(c)||Array.isArray(a)&&Array.isArray(c)?!je(a,c):a!==c)return!1}}return!0}var or=t=>t.type==="select-multiple",ri=t=>ys(t)||At(t),$t=t=>kt(t)&&t.isConnected,lr=t=>{for(const e in t)if(Te(t[e]))return!0;return!1};function Lt(t,e={}){const s=Array.isArray(t);if(H(t)||s)for(const r in t)Array.isArray(t[r])||H(t[r])&&!lr(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Lt(t[r],e[r])):te(t[r])||(e[r]=!0);return e}function cr(t,e,s){const r=Array.isArray(t);if(H(t)||r)for(const i in t)Array.isArray(t[i])||H(t[i])&&!lr(t[i])?B(e)||It(s[i])?s[i]=Array.isArray(t[i])?Lt(t[i],[]):{...Lt(t[i])}:cr(t[i],te(e)?{}:e[i],s[i]):s[i]=!je(t[i],e[i]);return s}var Pt=(t,e)=>cr(t,e,Lt(e)),hr=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>B(t)?t:e?t===""?NaN:t&&+t:s&&we(t)?new Date(t):r?r(t):t;function Jt(t){const e=t.ref;if(!(t.refs?t.refs.every(s=>s.disabled):e.disabled))return fs(e)?e.files:ys(e)?ur(t.refs).value:or(e)?[...e.selectedOptions].map(({value:s})=>s):At(e)?ar(t.refs).value:hr(B(e.value)?t.ref.value:e.value,t)}var ii=(t,e,s,r)=>{const i={};for(const a of t){const c=m(e,a);c&&q(i,a,c._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:r}},ct=t=>B(t)?t:Mt(t)?t.source:H(t)?Mt(t.value)?t.value.source:t.value:t,ni=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Qs(t,e,s){const r=m(t,s);if(r||ds(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),c=m(e,a),h=m(t,a);if(c&&!Array.isArray(c)&&s!==a)return{name:s};if(h&&h.type)return{name:a,error:h};i.pop()}return{name:s}}var ai=(t,e,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?r.isOnBlur:i.isOnBlur)?!t:(s?r.isOnChange:i.isOnChange)?t:!0,ui=(t,e)=>!Rt(m(t,e)).length&&K(t,e);const oi={mode:pe.onSubmit,reValidateMode:pe.onChange,shouldFocusError:!0};function li(t={}){let e={...oi,...t},s={submitCount:0,isDirty:!1,isLoading:Te(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=H(e.defaultValues)||H(e.values)?ce(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ce(i),c={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},O,D=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Wt(),array:Wt(),state:Wt()},x=Ts(e.mode),C=Ts(e.reValidateMode),T=e.criteriaMode===pe.all,U=n=>o=>{clearTimeout(D),D=setTimeout(n,o)},j=async n=>{if(S.isValid||n){const o=e.resolver?oe((await A()).errors):await se(r,!0);o!==s.isValid&&p.state.next({isValid:o})}},R=(n,o)=>{(S.isValidating||S.validatingFields)&&((n||Array.from(h.mount)).forEach(l=>{l&&(o?q(s.validatingFields,l,o):K(s.validatingFields,l))}),p.state.next({validatingFields:s.validatingFields,isValidating:!oe(s.validatingFields)}))},v=(n,o=[],l,y,f=!0,d=!0)=>{if(y&&l){if(c.action=!0,d&&Array.isArray(m(r,n))){const w=l(m(r,n),y.argA,y.argB);f&&q(r,n,w)}if(d&&Array.isArray(m(s.errors,n))){const w=l(m(s.errors,n),y.argA,y.argB);f&&q(s.errors,n,w),ui(s.errors,n)}if(S.touchedFields&&d&&Array.isArray(m(s.touchedFields,n))){const w=l(m(s.touchedFields,n),y.argA,y.argB);f&&q(s.touchedFields,n,w)}S.dirtyFields&&(s.dirtyFields=Pt(i,a)),p.state.next({name:n,isDirty:_(n,o),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else q(a,n,o)},E=(n,o)=>{q(s.errors,n,o),p.state.next({errors:s.errors})},I=n=>{s.errors=n,p.state.next({errors:s.errors,isValid:!1})},P=(n,o,l,y)=>{const f=m(r,n);if(f){const d=m(a,n,B(l)?m(i,n):l);B(d)||y&&y.defaultChecked||o?q(a,n,o?d:Jt(f._f)):J(n,d),c.mount&&j()}},W=(n,o,l,y,f)=>{let d=!1,w=!1;const M={name:n},G=!!(m(r,n)&&m(r,n)._f.disabled);if(!l||y){S.isDirty&&(w=s.isDirty,s.isDirty=M.isDirty=_(),d=w!==M.isDirty);const ne=G||je(m(i,n),o);w=!!(!G&&m(s.dirtyFields,n)),ne||G?K(s.dirtyFields,n):q(s.dirtyFields,n,!0),M.dirtyFields=s.dirtyFields,d=d||S.dirtyFields&&w!==!ne}if(l){const ne=m(s.touchedFields,n);ne||(q(s.touchedFields,n,l),M.touchedFields=s.touchedFields,d=d||S.touchedFields&&ne!==l)}return d&&f&&p.state.next(M),d?M:{}},X=(n,o,l,y)=>{const f=m(s.errors,n),d=S.isValid&&Ce(o)&&s.isValid!==o;if(t.delayError&&l?(O=U(()=>E(n,l)),O(t.delayError)):(clearTimeout(D),O=null,l?q(s.errors,n,l):K(s.errors,n)),(l?!je(f,l):f)||!oe(y)||d){const w={...y,...d&&Ce(o)?{isValid:o}:{},errors:s.errors,name:n};s={...s,...w},p.state.next(w)}},A=async n=>{R(n,!0);const o=await e.resolver(a,e.context,ii(n||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return R(n),o},z=async n=>{const{errors:o}=await A(n);if(n)for(const l of n){const y=m(o,l);y?q(s.errors,l,y):K(s.errors,l)}else s.errors=o;return o},se=async(n,o,l={valid:!0})=>{for(const y in n){const f=n[y];if(f){const{_f:d,...w}=f;if(d){const M=h.array.has(d.name);R([y],!0);const G=await qs(f,a,T,e.shouldUseNativeValidation&&!o,M);if(R([y]),G[d.name]&&(l.valid=!1,o))break;!o&&(m(G,d.name)?M?ei(s.errors,G,d.name):q(s.errors,d.name,G[d.name]):K(s.errors,d.name))}w&&await se(w,o,l)}}return l.valid},Et=()=>{for(const n of h.unMount){const o=m(r,n);o&&(o._f.refs?o._f.refs.every(l=>!$t(l)):!$t(o._f.ref))&&Bt(n)}h.unMount=new Set},_=(n,o)=>(n&&o&&q(a,n,o),!je(bs(),i)),k=(n,o,l)=>Yr(n,h,{...c.mount?a:B(o)?i:we(n)?{[n]:o}:o},l,o),N=n=>Rt(m(c.mount?a:i,n,t.shouldUnregister?m(i,n,[]):[])),J=(n,o,l={})=>{const y=m(r,n);let f=o;if(y){const d=y._f;d&&(!d.disabled&&q(a,n,hr(o,d)),f=kt(d.ref)&&te(o)?"":o,or(d.ref)?[...d.ref.options].forEach(w=>w.selected=f.includes(w.value)):d.refs?At(d.ref)?d.refs.length>1?d.refs.forEach(w=>(!w.defaultChecked||!w.disabled)&&(w.checked=Array.isArray(f)?!!f.find(M=>M===w.value):f===w.value)):d.refs[0]&&(d.refs[0].checked=!!f):d.refs.forEach(w=>w.checked=w.value===f):fs(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||p.values.next({name:n,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&W(n,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&lt(n)},fe=(n,o,l)=>{for(const y in o){const f=o[y],d=`${n}.${y}`,w=m(r,d);(h.array.has(n)||!It(f)||w&&!w._f)&&!ze(f)?fe(d,f,l):J(d,f,l)}},le=(n,o,l={})=>{const y=m(r,n),f=h.array.has(n),d=ce(o);q(a,n,d),f?(p.array.next({name:n,values:{...a}}),(S.isDirty||S.dirtyFields)&&l.shouldDirty&&p.state.next({name:n,dirtyFields:Pt(i,a),isDirty:_(n,d)})):y&&!y._f&&!te(d)?fe(n,d,l):J(n,d,l),js(n,h)&&p.state.next({...s}),p.values.next({name:c.mount?n:void 0,values:{...a}})},ut=async n=>{c.mount=!0;const o=n.target;let l=o.name,y=!0;const f=m(r,l),d=()=>o.type?Jt(f._f):Hr(n),w=M=>{y=Number.isNaN(M)||M===m(a,l,M)};if(f){let M,G;const ne=d(),Ne=n.type===Vs.BLUR||n.type===Vs.FOCUS_OUT,Ar=!ni(f._f)&&!e.resolver&&!m(s.errors,l)&&!f._f.deps||ai(Ne,m(s.touchedFields,l),s.isSubmitted,C,x),Kt=js(l,h,Ne);q(a,l,ne),Ne?(f._f.onBlur&&f._f.onBlur(n),O&&O(0)):f._f.onChange&&f._f.onChange(n);const Ht=W(l,ne,Ne,!1),Rr=!oe(Ht)||Kt;if(!Ne&&p.values.next({name:l,type:n.type,values:{...a}}),Ar)return S.isValid&&j(),Rr&&p.state.next({name:l,...Kt?{}:Ht});if(!Ne&&Kt&&p.state.next({...s}),e.resolver){const{errors:Rs}=await A([l]);if(w(ne),y){const Dr=Qs(s.errors,r,l),Ds=Qs(Rs,r,Dr.name||l);M=Ds.error,l=Ds.name,G=oe(Rs)}}else R([l],!0),M=(await qs(f,a,T,e.shouldUseNativeValidation))[l],R([l]),w(ne),y&&(M?G=!1:S.isValid&&(G=await se(r,!0)));y&&(f._f.deps&&lt(f._f.deps),X(l,G,M,Ht))}},ot=(n,o)=>{if(m(s.errors,o)&&n.focus)return n.focus(),1},lt=async(n,o={})=>{let l,y;const f=Gt(n);if(e.resolver){const d=await z(B(n)?n:f);l=oe(d),y=n?!f.some(w=>m(d,w)):l}else n?(y=(await Promise.all(f.map(async d=>{const w=m(r,d);return await se(w&&w._f?{[d]:w}:w)}))).every(Boolean),!(!y&&!s.isValid)&&j()):y=l=await se(r);return p.state.next({...!we(n)||S.isValid&&l!==s.isValid?{}:{name:n},...e.resolver||!n?{isValid:l}:{},errors:s.errors}),o.shouldFocus&&!y&&dt(r,ot,n?f:h.mount),y},bs=n=>{const o={...c.mount?a:i};return B(n)?o:we(n)?m(o,n):n.map(l=>m(o,l))},xs=(n,o)=>({invalid:!!m((o||s).errors,n),isDirty:!!m((o||s).dirtyFields,n),isTouched:!!m((o||s).touchedFields,n),isValidating:!!m((o||s).validatingFields,n),error:m((o||s).errors,n)}),Fr=n=>{n&&Gt(n).forEach(o=>K(s.errors,o)),p.state.next({errors:n?s.errors:{}})},ws=(n,o,l)=>{const y=(m(r,n,{_f:{}})._f||{}).ref;q(s.errors,n,{...o,ref:y}),p.state.next({name:n,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Sr=(n,o)=>Te(n)?p.values.subscribe({next:l=>n(k(void 0,o),l)}):k(n,o,!0),Bt=(n,o={})=>{for(const l of n?Gt(n):h.mount)h.mount.delete(l),h.array.delete(l),o.keepValue||(K(r,l),K(a,l)),!o.keepError&&K(s.errors,l),!o.keepDirty&&K(s.dirtyFields,l),!o.keepTouched&&K(s.touchedFields,l),!o.keepIsValidating&&K(s.validatingFields,l),!e.shouldUnregister&&!o.keepDefaultValue&&K(i,l);p.values.next({values:{...a}}),p.state.next({...s,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&j()},Fs=({disabled:n,name:o,field:l,fields:y,value:f})=>{if(Ce(n)){const d=n?void 0:B(f)?Jt(l?l._f:m(y,o)._f):f;q(a,o,d),W(o,d,!1,!1,!0)}},Nt=(n,o={})=>{let l=m(r,n);const y=Ce(o.disabled);return q(r,n,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:n}},name:n,mount:!0,...o}}),h.mount.add(n),l?Fs({field:l,disabled:o.disabled,name:n,value:o.value}):P(n,!0,o.value),{...y?{disabled:o.disabled}:{},...e.progressive?{required:!!o.required,min:ct(o.min),max:ct(o.max),minLength:ct(o.minLength),maxLength:ct(o.maxLength),pattern:ct(o.pattern)}:{},name:n,onChange:ut,onBlur:ut,ref:f=>{if(f){Nt(n,o),l=m(r,n);const d=B(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,w=ri(d),M=l._f.refs||[];if(w?M.find(G=>G===d):d===l._f.ref)return;q(r,n,{_f:{...l._f,...w?{refs:[...M.filter($t),d,...Array.isArray(m(i,n))?[{}]:[]],ref:{type:d.type,name:n}}:{ref:d}}}),P(n,!1,void 0,d)}else l=m(r,n,{}),l._f&&(l._f.mount=!1),(e.shouldUnregister||o.shouldUnregister)&&!(Gr(h.array,n)&&c.action)&&h.unMount.add(n)}}},Ss=()=>e.shouldFocusError&&dt(r,ot,h.mount),Cr=n=>{Ce(n)&&(p.state.next({disabled:n}),dt(r,(o,l)=>{let y=n;const f=m(r,l);f&&Ce(f._f.disabled)&&(y||(y=f._f.disabled)),o.disabled=y},0,!1))},Cs=(n,o)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=ce(a);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:d,values:w}=await A();s.errors=d,f=w}else await se(r);if(K(s.errors,"root"),oe(s.errors)){p.state.next({errors:{}});try{await n(f,l)}catch(d){y=d}}else o&&await o({...s.errors},l),Ss(),setTimeout(Ss);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oe(s.errors)&&!y,submitCount:s.submitCount+1,errors:s.errors}),y)throw y},Or=(n,o={})=>{m(r,n)&&(B(o.defaultValue)?le(n,ce(m(i,n))):(le(n,o.defaultValue),q(i,n,ce(o.defaultValue))),o.keepTouched||K(s.touchedFields,n),o.keepDirty||(K(s.dirtyFields,n),s.isDirty=o.defaultValue?_(n,ce(m(i,n))):_()),o.keepError||(K(s.errors,n),S.isValid&&j()),p.state.next({...s}))},Os=(n,o={})=>{const l=n?ce(n):i,y=ce(l),f=oe(n),d=f?i:y;if(o.keepDefaultValues||(i=l),!o.keepValues){if(o.keepDirtyValues)for(const w of h.mount)m(s.dirtyFields,w)?q(d,w,m(a,w)):le(w,m(d,w));else{if(hs&&B(n))for(const w of h.mount){const M=m(r,w);if(M&&M._f){const G=Array.isArray(M._f.refs)?M._f.refs[0]:M._f.ref;if(kt(G)){const ne=G.closest("form");if(ne){ne.reset();break}}}}r={}}a=t.shouldUnregister?o.keepDefaultValues?ce(i):{}:ce(d),p.array.next({values:{...d}}),p.values.next({values:{...d}})}h={mount:o.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!S.isValid||!!o.keepIsValid||!!o.keepDirtyValues,c.watch=!!t.shouldUnregister,p.state.next({submitCount:o.keepSubmitCount?s.submitCount:0,isDirty:f?!1:o.keepDirty?s.isDirty:!!(o.keepDefaultValues&&!je(n,i)),isSubmitted:o.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:f?[]:o.keepDirtyValues?o.keepDefaultValues&&a?Pt(i,a):s.dirtyFields:o.keepDefaultValues&&n?Pt(i,n):{},touchedFields:o.keepTouched?s.touchedFields:{},errors:o.keepErrors?s.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},As=(n,o)=>Os(Te(n)?n(a):n,o);return{control:{register:Nt,unregister:Bt,getFieldState:xs,handleSubmit:Cs,setError:ws,_executeSchema:A,_getWatch:k,_getDirty:_,_updateValid:j,_removeUnmounted:Et,_updateFieldArray:v,_updateDisabledField:Fs,_getFieldArray:N,_reset:Os,_resetDefaultValues:()=>Te(e.defaultValues)&&e.defaultValues().then(n=>{As(n,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:n=>{s={...s,...n}},_disableForm:Cr,_subjects:p,_proxyFormState:S,_setErrors:I,get _fields(){return r},get _formValues(){return a},get _state(){return c},set _state(n){c=n},get _defaultValues(){return i},get _names(){return h},set _names(n){h=n},get _formState(){return s},set _formState(n){s=n},get _options(){return e},set _options(n){e={...e,...n}}},trigger:lt,register:Nt,handleSubmit:Cs,watch:Sr,setValue:le,getValues:bs,reset:As,resetField:Or,clearErrors:Fr,unregister:Bt,setError:ws,setFocus:(n,o={})=>{const l=m(r,n),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),o.shouldSelect&&f.select())}},getFieldState:xs}}function ci(t={}){const e=ue.useRef(),s=ue.useRef(),[r,i]=ue.useState({isDirty:!1,isValidating:!1,isLoading:Te(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Te(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...li(t),formState:r});const a=e.current.control;return a._options=t,Xr({subject:a._subjects.state,next:c=>{Jr(c,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),ue.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ue.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==r.isDirty&&a._subjects.state.next({isDirty:c})}},[a,r.isDirty]),ue.useEffect(()=>{t.values&&!je(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,i(c=>({...c}))):a._resetDefaultValues()},[t.values,a]),ue.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),ue.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ue.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=$r(r,a),e.current}const hi=({onSubmit:t})=>{const{register:e,handleSubmit:s,watch:r,resetField:i}=ci(),a=()=>{i("input",{defaultValue:""}),s(t)()};return b.jsx(Ve,{sx:{p:1,pt:2,display:"flex",justifyContent:"center"},children:b.jsx(_r,{sx:{"& .MuiInputBase-root":{overflow:"hidden"}},component:"form",label:"Search",variant:"outlined",fullWidth:!0,size:"small",...e("input"),onSubmit:c=>void s(t)(c),InputProps:{endAdornment:b.jsxs(Pr,{position:"end",sx:{marginRight:-2},children:[b.jsx(Es,{onClick:a,size:"small",sx:{visibility:r("input")?"visible":"hidden","& svg":{width:"20px",height:"20px"}},children:b.jsx(Nr,{})}),b.jsx(Ve,{sx:{backgroundColor:"primary.main"},children:b.jsx(Es,{sx:{color:"primary.contrastText"},type:"submit",children:b.jsx(Kr,{})})})]})}})})};function qt(t,e){if(t===null)return t;const s=t.split(new RegExp(`(${e})`,"gi"));return b.jsx("span",{children:s.map((r,i)=>r.toLowerCase()===e.toLowerCase()?b.jsx(jt,{component:"span",sx:{color:"primary.main",fontWeight:"bold"},children:r},i):b.jsx(jt,{component:"span",children:r},i))})}const di=({p:t,search:e})=>b.jsxs(Ve,{sx:{backgroundColor:"white",borderRadius:2,p:1,display:"grid",rowGap:"12px",columnGap:"4px",gridTemplateColumns:"auto auto",gridTemplateRows:"auto auto",gridTemplateAreas:` 
          "name name"
          "sku pricevendor"
        `},children:[b.jsx(Ve,{sx:{gridArea:"name",textAlign:"left"},children:qt(t.name,e)}),b.jsx(Ve,{sx:{gridArea:"sku"},children:b.jsx(He,{label:qt(t.sku,e),size:"small"})}),b.jsxs(Ve,{sx:{gridArea:"pricevendor",display:"flex",justifyContent:"end",gap:"12px"},children:[b.jsx(He,{label:t.price,color:"success",size:"small",variant:"outlined"}),t.vendor!=="base"?b.jsx(He,{label:t.vendor,color:"secondary",size:"small",variant:"outlined"}):b.jsx(He,{label:t.vendor,color:"primary",size:"small"}),b.jsx(He,{label:t.stock,color:"primary",size:"small",variant:"outlined",sx:{borderRadius:0}})]})]}),fi=({list:t,search:e})=>b.jsx(Vr,{direction:"column",spacing:1,children:t.map(s=>b.jsx(di,{p:s,search:e},s.sku+s.vendor))}),yi=({list:t,search:e})=>b.jsx(Tr,{component:jr,children:b.jsxs(kr,{size:"small",children:[b.jsx(Mr,{children:b.jsxs(_s,{children:[b.jsx(ve,{children:"Артикул"}),b.jsx(ve,{align:"right",children:"Ціна"}),b.jsx(ve,{children:"Назва"}),b.jsx(ve,{align:"right",children:"Продавець"}),b.jsx(ve,{align:"right",children:"Кількість"})]})}),b.jsx(Ir,{children:t.map(s=>b.jsxs(_s,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[b.jsx(ve,{sx:{whiteSpace:"nowrap"},children:qt(s.sku,e)}),b.jsx(ve,{align:"right",children:s.price}),b.jsx(ve,{children:qt(s.name,e)}),b.jsx(ve,{align:"right",children:s.vendor==="base"?b.jsx(He,{label:s.vendor,color:"primary",size:"small"}):s.vendor}),b.jsx(ve,{align:"right",children:s.stock})]},s.sku+s.vendor))})]})});var Dt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},at=typeof window>"u"||"Deno"in globalThis;function de(){}function pi(t,e){return typeof t=="function"?t(e):t}function Zt(t){return typeof t=="number"&&t>=0&&t!==1/0}function dr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Us(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==ps(c,e.options))return!1}else if(!yt(e.queryKey,c))return!1}if(s!=="all"){const O=e.isActive();if(s==="active"&&!O||s==="inactive"&&O)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function Bs(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(ft(e.options.mutationKey)!==ft(a))return!1}else if(!yt(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ps(t,e){return((e==null?void 0:e.queryKeyHashFn)||ft)(t)}function ft(t){return JSON.stringify(t,(e,s)=>ts(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function yt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!yt(t[s],e[s])):!1}function fr(t,e){if(t===e)return t;const s=Ns(t)&&Ns(e);if(s||ts(t)&&ts(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),c=a.length,h=s?[]:{};let O=0;for(let D=0;D<c;D++){const S=s?D:a[D];(!s&&r.includes(S)||s)&&t[S]===void 0&&e[S]===void 0?(h[S]=void 0,O++):(h[S]=fr(t[S],e[S]),h[S]===t[S]&&t[S]!==void 0&&O++)}return i===c&&O===i?t:h}return e}function es(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ns(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ts(t){if(!Ks(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Ks(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ks(t){return Object.prototype.toString.call(t)==="[object Object]"}function vi(t){return new Promise(e=>{setTimeout(e,t)})}function ss(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?fr(t,e):e}function gi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function mi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var vs=Symbol(),ke,Ae,Ge,Ws,bi=(Ws=class extends Dt{constructor(){super();F(this,ke,void 0);F(this,Ae,void 0);F(this,Ge,void 0);g(this,Ge,e=>{if(!at&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){u(this,Ae)||this.setEventListener(u(this,Ge))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Ae))==null||e.call(this),g(this,Ae,void 0))}setEventListener(e){var s;g(this,Ge,e),(s=u(this,Ae))==null||s.call(this),g(this,Ae,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,ke)!==e&&(g(this,ke,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof u(this,ke)=="boolean"?u(this,ke):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ke=new WeakMap,Ae=new WeakMap,Ge=new WeakMap,Ws),gs=new bi,We,Re,$e,$s,xi=($s=class extends Dt{constructor(){super();F(this,We,!0);F(this,Re,void 0);F(this,$e,void 0);g(this,$e,e=>{if(!at&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,Re)||this.setEventListener(u(this,$e))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Re))==null||e.call(this),g(this,Re,void 0))}setEventListener(e){var s;g(this,$e,e),(s=u(this,Re))==null||s.call(this),g(this,Re,e(this.setOnline.bind(this)))}setOnline(e){u(this,We)!==e&&(g(this,We,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,We)}},We=new WeakMap,Re=new WeakMap,$e=new WeakMap,$s),Qt=new xi;function wi(t){return Math.min(1e3*2**t,3e4)}function yr(t){return(t??"online")==="online"?Qt.isOnline():!0}var pr=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xt(t){return t instanceof pr}function vr(t){let e=!1,s=0,r=!1,i,a,c;const h=new Promise((R,v)=>{a=R,c=v}),O=R=>{var v;r||(T(new pr(R)),(v=t.abort)==null||v.call(t))},D=()=>{e=!0},S=()=>{e=!1},p=()=>gs.isFocused()&&(t.networkMode==="always"||Qt.isOnline())&&t.canRun(),x=()=>yr(t.networkMode)&&t.canRun(),C=R=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,R),i==null||i(),a(R))},T=R=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,R),i==null||i(),c(R))},U=()=>new Promise(R=>{var v;i=E=>{(r||p())&&R(E)},(v=t.onPause)==null||v.call(t)}).then(()=>{var R;i=void 0,r||(R=t.onContinue)==null||R.call(t)}),j=()=>{if(r)return;let R;try{R=t.fn()}catch(v){R=Promise.reject(v)}Promise.resolve(R).then(C).catch(v=>{var X;if(r)return;const E=t.retry??(at?0:3),I=t.retryDelay??wi,P=typeof I=="function"?I(s,v):I,W=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,v);if(e||!W){T(v);return}s++,(X=t.onFail)==null||X.call(t,s,v),vi(P).then(()=>p()?void 0:U()).then(()=>{e?T(v):j()})})};return{promise:h,cancel:O,continue:()=>(i==null||i(),h),cancelRetry:D,continueRetry:S,canStart:x,start:()=>(x()?j():U().then(j),h)}}function Fi(){let t=[],e=0,s=x=>{x()},r=x=>{x()},i=x=>setTimeout(x,0);const a=x=>{i=x},c=x=>{let C;e++;try{C=x()}finally{e--,e||D()}return C},h=x=>{e?t.push(x):i(()=>{s(x)})},O=x=>(...C)=>{h(()=>{x(...C)})},D=()=>{const x=t;t=[],x.length&&i(()=>{r(()=>{x.forEach(C=>{s(C)})})})};return{batch:c,batchCalls:O,schedule:h,setNotifyFunction:x=>{s=x},setBatchNotifyFunction:x=>{r=x},setScheduler:a}}var $=Fi(),Me,Js,gr=(Js=class{constructor(){F(this,Me,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zt(this.gcTime)&&g(this,Me,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(at?1/0:5*60*1e3))}clearGcTimeout(){u(this,Me)&&(clearTimeout(u(this,Me)),g(this,Me,void 0))}},Me=new WeakMap,Js),Je,Xe,he,Y,pt,Ie,ye,Se,Xs,Si=(Xs=class extends gr{constructor(e){super();F(this,ye);F(this,Je,void 0);F(this,Xe,void 0);F(this,he,void 0);F(this,Y,void 0);F(this,pt,void 0);F(this,Ie,void 0);g(this,Ie,!1),g(this,pt,e.defaultOptions),this.setOptions(e.options),this.observers=[],g(this,he,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,g(this,Je,e.state||Ci(this.options)),this.state=u(this,Je),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...u(this,pt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,he).remove(this)}setData(e,s){const r=ss(this.state.data,e,this.options);return V(this,ye,Se).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){V(this,ye,Se).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=u(this,Y))==null?void 0:r.promise;return(i=u(this,Y))==null||i.cancel(e),s?s.then(de).catch(de):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Je))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!dr(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=u(this,Y))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=u(this,Y))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,he).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(u(this,Y)&&(u(this,Ie)?u(this,Y).cancel({revert:!0}):u(this,Y).cancelRetry()),this.scheduleGc()),u(this,he).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,ye,Se).call(this,{type:"invalidate"})}fetch(e,s){var D,S,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(u(this,Y))return u(this,Y).continueRetry(),u(this,Y).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(g(this,Ie,!0),r.signal)})};a(i);const c=()=>!this.options.queryFn||this.options.queryFn===vs?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(g(this,Ie,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),h={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};a(h),(D=this.options.behavior)==null||D.onFetch(h,this),g(this,Xe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=h.fetchOptions)==null?void 0:S.meta))&&V(this,ye,Se).call(this,{type:"fetch",meta:(p=h.fetchOptions)==null?void 0:p.meta});const O=x=>{var C,T,U,j;Xt(x)&&x.silent||V(this,ye,Se).call(this,{type:"error",error:x}),Xt(x)||((T=(C=u(this,he).config).onError)==null||T.call(C,x,this),(j=(U=u(this,he).config).onSettled)==null||j.call(U,this.state.data,x,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return g(this,Y,vr({fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var C,T,U,j;if(x===void 0){O(new Error(`${this.queryHash} data is undefined`));return}this.setData(x),(T=(C=u(this,he).config).onSuccess)==null||T.call(C,x,this),(j=(U=u(this,he).config).onSettled)==null||j.call(U,x,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:O,onFail:(x,C)=>{V(this,ye,Se).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{V(this,ye,Se).call(this,{type:"pause"})},onContinue:()=>{V(this,ye,Se).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),u(this,Y).start()}},Je=new WeakMap,Xe=new WeakMap,he=new WeakMap,Y=new WeakMap,pt=new WeakMap,Ie=new WeakMap,ye=new WeakSet,Se=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mr(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Xt(i)&&i.revert&&u(this,Xe)?{...u(this,Xe),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),$.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,he).notify({query:this,type:"updated",action:e})})},Xs);function mr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yr(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ci(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ge,Ys,Oi=(Ys=class extends Dt{constructor(e={}){super();F(this,ge,void 0);this.config=e,g(this,ge,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??ps(i,s);let c=this.get(a);return c||(c=new Si({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){u(this,ge).has(e.queryHash)||(u(this,ge).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=u(this,ge).get(e.queryHash);s&&(e.destroy(),s===e&&u(this,ge).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,ge).get(e)}getAll(){return[...u(this,ge).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Us(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Us(e,r)):s}notify(e){$.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){$.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ge=new WeakMap,Ys),me,Z,Le,be,Oe,Zs,Ai=(Zs=class extends gr{constructor(e){super();F(this,be);F(this,me,void 0);F(this,Z,void 0);F(this,Le,void 0);this.mutationId=e.mutationId,g(this,Z,e.mutationCache),g(this,me,[]),this.state=e.state||Ri(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,me).includes(e)||(u(this,me).push(e),this.clearGcTimeout(),u(this,Z).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){g(this,me,u(this,me).filter(s=>s!==e)),this.scheduleGc(),u(this,Z).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,me).length||(this.state.status==="pending"?this.scheduleGc():u(this,Z).remove(this))}continue(){var e;return((e=u(this,Le))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,c,h,O,D,S,p,x,C,T,U,j,R,v,E,I,P,W,X;g(this,Le,vr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,z)=>{V(this,be,Oe).call(this,{type:"failed",failureCount:A,error:z})},onPause:()=>{V(this,be,Oe).call(this,{type:"pause"})},onContinue:()=>{V(this,be,Oe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,Z).canRun(this)}));const s=this.state.status==="pending",r=!u(this,Le).canStart();try{if(!s){V(this,be,Oe).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=u(this,Z).config).onMutate)==null?void 0:a.call(i,e,this));const z=await((h=(c=this.options).onMutate)==null?void 0:h.call(c,e));z!==this.state.context&&V(this,be,Oe).call(this,{type:"pending",context:z,variables:e,isPaused:r})}const A=await u(this,Le).start();return await((D=(O=u(this,Z).config).onSuccess)==null?void 0:D.call(O,A,e,this.state.context,this)),await((p=(S=this.options).onSuccess)==null?void 0:p.call(S,A,e,this.state.context)),await((C=(x=u(this,Z).config).onSettled)==null?void 0:C.call(x,A,null,this.state.variables,this.state.context,this)),await((U=(T=this.options).onSettled)==null?void 0:U.call(T,A,null,e,this.state.context)),V(this,be,Oe).call(this,{type:"success",data:A}),A}catch(A){try{throw await((R=(j=u(this,Z).config).onError)==null?void 0:R.call(j,A,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,A,e,this.state.context)),await((P=(I=u(this,Z).config).onSettled)==null?void 0:P.call(I,void 0,A,this.state.variables,this.state.context,this)),await((X=(W=this.options).onSettled)==null?void 0:X.call(W,void 0,A,e,this.state.context)),A}finally{V(this,be,Oe).call(this,{type:"error",error:A})}}finally{u(this,Z).runNext(this)}}},me=new WeakMap,Z=new WeakMap,Le=new WeakMap,be=new WeakSet,Oe=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),$.batch(()=>{u(this,me).forEach(r=>{r.onMutationUpdate(e)}),u(this,Z).notify({mutation:this,type:"updated",action:e})})},Zs);function Ri(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ae,vt,er,Di=(er=class extends Dt{constructor(e={}){super();F(this,ae,void 0);F(this,vt,void 0);this.config=e,g(this,ae,new Map),g(this,vt,Date.now())}build(e,s,r){const i=new Ai({mutationCache:this,mutationId:++_t(this,vt)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=Vt(e),r=u(this,ae).get(s)??[];r.push(e),u(this,ae).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Vt(e);if(u(this,ae).has(s)){const i=(r=u(this,ae).get(s))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?u(this,ae).delete(s):u(this,ae).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=u(this,ae).get(Vt(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=u(this,ae).get(Vt(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){$.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...u(this,ae).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Bs(s,r))}findAll(e={}){return this.getAll().filter(s=>Bs(e,s))}notify(e){$.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return $.batch(()=>Promise.all(e.map(s=>s.continue().catch(de))))}},ae=new WeakMap,vt=new WeakMap,er);function Vt(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ei(t){return{onFetch:(e,s)=>{const r=async()=>{var T,U,j,R,v;const i=e.options,a=(j=(U=(T=e.fetchOptions)==null?void 0:T.meta)==null?void 0:U.fetchMore)==null?void 0:j.direction,c=((R=e.state.data)==null?void 0:R.pages)||[],h=((v=e.state.data)==null?void 0:v.pageParams)||[],O={pages:[],pageParams:[]};let D=!1;const S=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},p=e.options.queryFn&&e.options.queryFn!==vs?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),x=async(E,I,P)=>{if(D)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const W={queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};S(W);const X=await p(W),{maxPages:A}=e.options,z=P?mi:gi;return{pages:z(E.pages,X,A),pageParams:z(E.pageParams,I,A)}};let C;if(a&&c.length){const E=a==="backward",I=E?_i:Hs,P={pages:c,pageParams:h},W=I(i,P);C=await x(P,W,E)}else{C=await x(O,h[0]??i.initialPageParam);const E=t??c.length;for(let I=1;I<E;I++){const P=Hs(i,C);C=await x(C,P)}}return C};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function Hs(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function _i(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var Q,De,Ee,Ye,Ze,_e,et,tt,tr,Pi=(tr=class{constructor(t={}){F(this,Q,void 0);F(this,De,void 0);F(this,Ee,void 0);F(this,Ye,void 0);F(this,Ze,void 0);F(this,_e,void 0);F(this,et,void 0);F(this,tt,void 0);g(this,Q,t.queryCache||new Oi),g(this,De,t.mutationCache||new Di),g(this,Ee,t.defaultOptions||{}),g(this,Ye,new Map),g(this,Ze,new Map),g(this,_e,0)}mount(){_t(this,_e)._++,u(this,_e)===1&&(g(this,et,gs.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,Q).onFocus())})),g(this,tt,Qt.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,Q).onOnline())})))}unmount(){var t,e;_t(this,_e)._--,u(this,_e)===0&&((t=u(this,et))==null||t.call(this),g(this,et,void 0),(e=u(this,tt))==null||e.call(this),g(this,tt,void 0))}isFetching(t){return u(this,Q).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return u(this,De).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=u(this,Q).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=u(this,Q).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(s.staleTime)&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return u(this,Q).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=u(this,Q).get(r.queryHash),a=i==null?void 0:i.state.data,c=pi(e,a);if(c!==void 0)return u(this,Q).build(this,r).setData(c,{...s,manual:!0})}setQueriesData(t,e,s){return $.batch(()=>u(this,Q).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=u(this,Q).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=u(this,Q);$.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=u(this,Q),r={type:"active",...t};return $.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=$.batch(()=>u(this,Q).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(de).catch(de)}invalidateQueries(t={},e={}){return $.batch(()=>{if(u(this,Q).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=$.batch(()=>u(this,Q).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(de)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(de)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=u(this,Q).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(de).catch(de)}fetchInfiniteQuery(t){return t.behavior=Ei(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(de).catch(de)}resumePausedMutations(){return Qt.isOnline()?u(this,De).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,Q)}getMutationCache(){return u(this,De)}getDefaultOptions(){return u(this,Ee)}setDefaultOptions(t){g(this,Ee,t)}setQueryDefaults(t,e){u(this,Ye).set(ft(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...u(this,Ye).values()];let s={};return e.forEach(r=>{yt(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){u(this,Ze).set(ft(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...u(this,Ze).values()];let s={};return e.forEach(r=>{yt(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...u(this,Ee).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ps(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vs&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...u(this,Ee).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){u(this,Q).clear(),u(this,De).clear()}},Q=new WeakMap,De=new WeakMap,Ee=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,tr),re,L,gt,ee,qe,st,xe,mt,rt,it,Qe,Ue,Pe,nt,Be,ht,bt,rs,xt,is,wt,ns,Ft,as,St,us,Ct,os,Ot,ls,Ut,br,sr,Vi=(sr=class extends Dt{constructor(e,s){super();F(this,Be);F(this,bt);F(this,xt);F(this,wt);F(this,Ft);F(this,St);F(this,Ct);F(this,Ot);F(this,Ut);F(this,re,void 0);F(this,L,void 0);F(this,gt,void 0);F(this,ee,void 0);F(this,qe,void 0);F(this,st,void 0);F(this,xe,void 0);F(this,mt,void 0);F(this,rt,void 0);F(this,it,void 0);F(this,Qe,void 0);F(this,Ue,void 0);F(this,Pe,void 0);F(this,nt,new Set);this.options=s,g(this,re,e),g(this,xe,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,L).addObserver(this),zs(u(this,L),this.options)?V(this,Be,ht).call(this):this.updateResult(),V(this,Ft,as).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cs(u(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cs(u(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,V(this,St,us).call(this),V(this,Ct,os).call(this),u(this,L).removeObserver(this)}setOptions(e,s){const r=this.options,i=u(this,L);if(this.options=u(this,re).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");V(this,Ot,ls).call(this),u(this,L).setOptions(this.options),r._defaulted&&!es(this.options,r)&&u(this,re).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,L),observer:this});const a=this.hasListeners();a&&Gs(u(this,L),i,this.options,r)&&V(this,Be,ht).call(this),this.updateResult(s),a&&(u(this,L)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&V(this,bt,rs).call(this);const c=V(this,xt,is).call(this);a&&(u(this,L)!==i||this.options.enabled!==r.enabled||c!==u(this,Pe))&&V(this,wt,ns).call(this,c)}getOptimisticResult(e){const s=u(this,re).getQueryCache().build(u(this,re),e),r=this.createResult(s,e);return ji(this,r)&&(g(this,ee,r),g(this,st,this.options),g(this,qe,u(this,L).state)),r}getCurrentResult(){return u(this,ee)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){u(this,nt).add(e)}getCurrentQuery(){return u(this,L)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=u(this,re).defaultQueryOptions(e),r=u(this,re).getQueryCache().build(u(this,re),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return V(this,Be,ht).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,ee)))}createResult(e,s){var X;const r=u(this,L),i=this.options,a=u(this,ee),c=u(this,qe),h=u(this,st),D=e!==r?e.state:u(this,gt),{state:S}=e;let p={...S},x=!1,C;if(s._optimisticResults){const A=this.hasListeners(),z=!A&&zs(e,s),se=A&&Gs(e,r,s,i);(z||se)&&(p={...p,...mr(S.data,e.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:T,errorUpdatedAt:U,status:j}=p;if(s.select&&p.data!==void 0)if(a&&p.data===(c==null?void 0:c.data)&&s.select===u(this,mt))C=u(this,rt);else try{g(this,mt,s.select),C=s.select(p.data),C=ss(a==null?void 0:a.data,C,s),g(this,rt,C),g(this,xe,null)}catch(A){g(this,xe,A)}else C=p.data;if(s.placeholderData!==void 0&&C===void 0&&j==="pending"){let A;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))A=a.data;else if(A=typeof s.placeholderData=="function"?s.placeholderData((X=u(this,it))==null?void 0:X.state.data,u(this,it)):s.placeholderData,s.select&&A!==void 0)try{A=s.select(A),g(this,xe,null)}catch(z){g(this,xe,z)}A!==void 0&&(j="success",C=ss(a==null?void 0:a.data,A,s),x=!0)}u(this,xe)&&(T=u(this,xe),C=u(this,rt),U=Date.now(),j="error");const R=p.fetchStatus==="fetching",v=j==="pending",E=j==="error",I=v&&R,P=C!==void 0;return{status:j,fetchStatus:p.fetchStatus,isPending:v,isSuccess:j==="success",isError:E,isInitialLoading:I,isLoading:I,data:C,dataUpdatedAt:p.dataUpdatedAt,error:T,errorUpdatedAt:U,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>D.dataUpdateCount||p.errorUpdateCount>D.errorUpdateCount,isFetching:R,isRefetching:R&&!v,isLoadingError:E&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:E&&P,isStale:ms(e,s),refetch:this.refetch}}updateResult(e){const s=u(this,ee),r=this.createResult(u(this,L),this.options);if(g(this,qe,u(this,L).state),g(this,st,this.options),u(this,qe).data!==void 0&&g(this,it,u(this,L)),es(r,s))return;g(this,ee,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,h=typeof c=="function"?c():c;if(h==="all"||!h&&!u(this,nt).size)return!0;const O=new Set(h??u(this,nt));return this.options.throwOnError&&O.add("error"),Object.keys(u(this,ee)).some(D=>{const S=D;return u(this,ee)[S]!==s[S]&&O.has(S)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),V(this,Ut,br).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&V(this,Ft,as).call(this)}},re=new WeakMap,L=new WeakMap,gt=new WeakMap,ee=new WeakMap,qe=new WeakMap,st=new WeakMap,xe=new WeakMap,mt=new WeakMap,rt=new WeakMap,it=new WeakMap,Qe=new WeakMap,Ue=new WeakMap,Pe=new WeakMap,nt=new WeakMap,Be=new WeakSet,ht=function(e){V(this,Ot,ls).call(this);let s=u(this,L).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(de)),s},bt=new WeakSet,rs=function(){if(V(this,St,us).call(this),at||u(this,ee).isStale||!Zt(this.options.staleTime))return;const s=dr(u(this,ee).dataUpdatedAt,this.options.staleTime)+1;g(this,Qe,setTimeout(()=>{u(this,ee).isStale||this.updateResult()},s))},xt=new WeakSet,is=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,L)):this.options.refetchInterval)??!1},wt=new WeakSet,ns=function(e){V(this,Ct,os).call(this),g(this,Pe,e),!(at||this.options.enabled===!1||!Zt(u(this,Pe))||u(this,Pe)===0)&&g(this,Ue,setInterval(()=>{(this.options.refetchIntervalInBackground||gs.isFocused())&&V(this,Be,ht).call(this)},u(this,Pe)))},Ft=new WeakSet,as=function(){V(this,bt,rs).call(this),V(this,wt,ns).call(this,V(this,xt,is).call(this))},St=new WeakSet,us=function(){u(this,Qe)&&(clearTimeout(u(this,Qe)),g(this,Qe,void 0))},Ct=new WeakSet,os=function(){u(this,Ue)&&(clearInterval(u(this,Ue)),g(this,Ue,void 0))},Ot=new WeakSet,ls=function(){const e=u(this,re).getQueryCache().build(u(this,re),this.options);if(e===u(this,L))return;const s=u(this,L);g(this,L,e),g(this,gt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ut=new WeakSet,br=function(e){$.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(u(this,ee))}),u(this,re).getQueryCache().notify({query:u(this,L),type:"observerResultsUpdated"})})},sr);function Ti(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zs(t,e){return Ti(t,e)||t.state.data!==void 0&&cs(t,e,e.refetchOnMount)}function cs(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&ms(t,e)}return!1}function Gs(t,e,s,r){return(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&ms(t,s)}function ms(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function ji(t,e){return!es(t.getCurrentResult(),e)}var xr=ie.createContext(void 0),ki=t=>{const e=ie.useContext(xr);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Mi=({client:t,children:e})=>(ie.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(xr.Provider,{value:t,children:e})),wr=ie.createContext(!1),Ii=()=>ie.useContext(wr);wr.Provider;function Li(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qi=ie.createContext(Li()),Qi=()=>ie.useContext(qi);function Ui(t,e){return typeof t=="function"?t(...e):!!t}var Bi=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Ni=t=>{ie.useEffect(()=>{t.clearReset()},[t])},Ki=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Ui(s,[t.error,r]),Hi=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},zi=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Gi=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Wi(t,e,s){const r=ki(),i=Ii(),a=Qi(),c=r.defaultQueryOptions(t);c._optimisticResults=i?"isRestoring":"optimistic",Hi(c),Bi(c,a),Ni(a);const[h]=ie.useState(()=>new e(r,c)),O=h.getOptimisticResult(c);if(ie.useSyncExternalStore(ie.useCallback(D=>{const S=i?()=>{}:h.subscribe($.batchCalls(D));return h.updateResult(),S},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),ie.useEffect(()=>{h.setOptions(c,{listeners:!1})},[c,h]),zi(c,O))throw Gi(c,h,a);if(Ki({result:O,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw O.error;return c.notifyOnChangeProps?O:h.trackResult(O)}function $i(t,e){return Wi(t,Vi)}const Ji="1NJsdP-CUztIwlj1cnBkDj4pgqqaBuxPm",Xi=(t,e)=>t.sku.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase()),Yi=t=>{const e=t.replace("/*O_o*/","").replace(`
`,"").replace("google.visualization.Query.setResponse(","").replace(/\);$/,""),s=JSON.parse(e).table,r=s.cols.map(i=>i.label);return s.rows.map(i=>{const a={};return i.c.forEach((c,h)=>{a[r[h]]=c.v}),a})},Zi=async()=>{const t=`https://docs.google.com/spreadsheets/d/${Ji}/gviz/tq?tqx=out:json&tq&gid=0`,s=await(await fetch(t)).text();return Yi(s)},en=t=>{const{data:e=[]}=$i({staleTime:18e5,queryKey:["lets-bike-base"],queryFn:Zi});return t.length<3?[]:e==null?void 0:e.filter(s=>Xi(s,t))},tn=({search:t})=>{const[e,s]=ie.useState(!0),r=en(t),i=e?fi:yi;return r.length===0?b.jsx(jt,{variant:"h4",gutterBottom:!0,textAlign:"center",sx:{mt:4},children:"?"}):b.jsxs(b.Fragment,{children:[b.jsxs(Ve,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs(jt,{component:"div",color:"secondary",variant:"body2",children:["Total: ",r.length]}),b.jsx(Lr,{value:e,onChange:(a,c)=>s(!c)})]}),b.jsx(i,{list:r,search:t})]})},sn=()=>{const[t,e]=ie.useState("");return b.jsxs(Ve,{sx:{p:1,pt:0},children:[b.jsx(hi,{onSubmit:({input:s})=>e(s)}),b.jsx(tn,{search:t})]})};var rn=function(){return null};const nn=new Pi;function an(){return b.jsx(qr,{theme:Br,children:b.jsxs(Mi,{client:nn,children:[b.jsx(rn,{initialIsOpen:!1}),b.jsx(Qr,{}),b.jsx(sn,{})]})})}Yt.createRoot(document.getElementById("root")).render(b.jsx(ue.StrictMode,{children:b.jsx(an,{})}));
