var nr=s=>{throw TypeError(s)};var ls=(s,e,t)=>e.has(s)||nr("Cannot "+t);var u=(s,e,t)=>(ls(s,e,"read from private field"),t?t.call(s):e.get(s)),O=(s,e,t)=>e.has(s)?nr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),P=(s,e,t,r)=>(ls(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),T=(s,e,t)=>(ls(s,e,"access private method"),t);var Ve=(s,e,t,r)=>({set _(n){P(s,e,n,t)},get _(){return u(s,e,r)}});import{r as x,R as jr}from"./reactColor-CG_Kj7OU.js";import{r as Br,g as dn,a as fn}from"./react-Csw2ODfV.js";var hs={exports:{}},Ie={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir;function pn(){if(ir)return Ie;ir=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var a in n)a!=="key"&&(i[a]=n[a])}else i=n;return n=i.ref,{$$typeof:s,type:r,key:o,ref:n!==void 0?n:null,props:i}}return Ie.Fragment=e,Ie.jsx=t,Ie.jsxs=t,Ie}var or;function mn(){return or||(or=1,hs.exports=pn()),hs.exports}var I=mn(),vn="Invariant failed";function Ft(s,e){if(!s)throw new Error(vn)}const de=new WeakMap,Ge=new WeakMap,Xe={current:[]};let ds=!1,Ae=0;const De=new Set,Ke=new Map;function Nr(s){const e=Array.from(s).sort((t,r)=>t instanceof fe&&t.options.deps.includes(r)?1:r instanceof fe&&r.options.deps.includes(t)?-1:0);for(const t of e){if(Xe.current.includes(t))continue;Xe.current.push(t),t.recompute();const r=Ge.get(t);if(r)for(const n of r){const i=de.get(n);i&&Nr(i)}}}function yn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function gn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function Ur(s){if(Ae>0&&!Ke.has(s)&&Ke.set(s,s.prevState),De.add(s),!(Ae>0)&&!ds)try{for(ds=!0;De.size>0;){const e=Array.from(De);De.clear();for(const t of e){const r=Ke.get(t)??t.prevState;t.prevState=r,yn(t)}for(const t of e){const r=de.get(t);r&&(Xe.current.push(t),Nr(r))}for(const t of e){const r=de.get(t);if(r)for(const n of r)gn(n)}}}finally{ds=!1,Xe.current=[],Ke.clear()}}function ue(s){Ae++;try{s()}finally{if(Ae--,Ae===0){const e=Array.from(De)[0];e&&Ur(e)}}}class Cs{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var n,i,o;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),Ur(this)},this.prevState=e,this.state=e,this.options=t}}class fe{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const n of this.options.deps)t.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:i,prevVal:o}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof fe&&i.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let i=0;i<n.length;i++)if(n[i]!==r[i]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,n;this.listeners.add(t);const i=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,t,this);return()=>{this.listeners.delete(t),i==null||i()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof fe)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Cs){let r=de.get(t);r||(r=new Set,de.set(t,r)),r.add(this);let n=Ge.get(this);n||(n=new Set,Ge.set(this,n)),n.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof fe)this.unregisterFromGraph(t.options.deps);else if(t instanceof Cs){const r=de.get(t);r&&r.delete(this);const n=Ge.get(this);n&&n.delete(t)}}}const Kt="__TSR_index",ar="popstate",cr="beforeunload";function qr(s){let e=s.getLocation();const t=new Set,r=o=>{e=s.getLocation(),t.forEach(a=>a({location:e,action:o}))},n=o=>{s.notifyOnIndexChange??!0?r(o):e=s.getLocation()},i=async({task:o,navigateOpts:a,...h})=>{var d,l;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const f=((d=s.getBlockers)==null?void 0:d.call(s))??[],m=h.type==="PUSH"||h.type==="REPLACE";if(typeof document<"u"&&f.length&&m)for(const g of f){const y=je(h.path,h.state);if(await g.blockerFn({currentLocation:e,nextLocation:y,action:h.type})){(l=s.onBlocked)==null||l.call(s);return}}o()};return{get location(){return e},get length(){return s.getLength()},subscribers:t,subscribe:o=>(t.add(o),()=>{t.delete(o)}),push:(o,a,h)=>{const d=e.state[Kt];a=xs(d+1,a),i({task:()=>{s.pushState(o,a),r({type:"PUSH"})},navigateOpts:h,type:"PUSH",path:o,state:a})},replace:(o,a,h)=>{const d=e.state[Kt];a=xs(d,a),i({task:()=>{s.replaceState(o,a),r({type:"REPLACE"})},navigateOpts:h,type:"REPLACE",path:o,state:a})},go:(o,a)=>{i({task:()=>{s.go(o),n({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{i({task:()=>{s.back((o==null?void 0:o.ignoreBlocker)??!1),n({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{s.forward((o==null?void 0:o.ignoreBlocker)??!1),n({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Kt]!==0,createHref:o=>s.createHref(o),block:o=>{var a;if(!s.setBlockers)return()=>{};const h=((a=s.getBlockers)==null?void 0:a.call(s))??[];return s.setBlockers([...h,o]),()=>{var d,l;const c=((d=s.getBlockers)==null?void 0:d.call(s))??[];(l=s.setBlockers)==null||l.call(s,c.filter(f=>f!==o))}},flush:()=>{var o;return(o=s.flush)==null?void 0:o.call(s)},destroy:()=>{var o;return(o=s.destroy)==null?void 0:o.call(s)},notify:r}}function xs(s,e){return e||(e={}),{...e,key:Qs(),[Kt]:s}}function Sn(s){var e;const t=typeof document<"u"?window:void 0,r=t.history.pushState,n=t.history.replaceState;let i=[];const o=()=>i,a=p=>i=p,h=p=>p,d=()=>je(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);(e=t.history.state)!=null&&e.key||t.history.replaceState({[Kt]:0,key:Qs()},"");let l=d(),c,f=!1,m=!1,g=!1,y=!1;const S=()=>l;let b,L;const C=()=>{b&&(v._ignoreSubscribers=!0,(b.isPush?t.history.pushState:t.history.replaceState)(b.state,"",b.href),v._ignoreSubscribers=!1,b=void 0,L=void 0,c=void 0)},D=(p,_,F)=>{const R=h(_);L||(c=l),l=je(_,F),b={href:R,state:F,isPush:(b==null?void 0:b.isPush)||p==="push"},L||(L=Promise.resolve().then(()=>C()))},k=p=>{l=d(),v.notify({type:p})},w=async()=>{if(m){m=!1;return}const p=d(),_=p.state[Kt]-l.state[Kt],F=_===1,R=_===-1,M=!F&&!R||f;f=!1;const Q=M?"GO":R?"BACK":"FORWARD",A=M?{type:"GO",index:_}:{type:R?"BACK":"FORWARD"};if(g)g=!1;else{const B=o();if(typeof document<"u"&&B.length){for(const V of B)if(await V.blockerFn({currentLocation:l,nextLocation:p,action:Q})){m=!0,t.history.go(1),v.notify(A);return}}}l=d(),v.notify(A)},E=p=>{if(y){y=!1;return}let _=!1;const F=o();if(typeof document<"u"&&F.length)for(const R of F){const M=R.enableBeforeUnload??!0;if(M===!0){_=!0;break}if(typeof M=="function"&&M()===!0){_=!0;break}}if(_)return p.preventDefault(),p.returnValue=""},v=qr({getLocation:S,getLength:()=>t.history.length,pushState:(p,_)=>D("push",p,_),replaceState:(p,_)=>D("replace",p,_),back:p=>(p&&(g=!0),y=!0,t.history.back()),forward:p=>{p&&(g=!0),y=!0,t.history.forward()},go:p=>{f=!0,t.history.go(p)},createHref:p=>h(p),flush:C,destroy:()=>{t.history.pushState=r,t.history.replaceState=n,t.removeEventListener(cr,E,{capture:!0}),t.removeEventListener(ar,w)},onBlocked:()=>{c&&l!==c&&(l=c)},getBlockers:o,setBlockers:a,notifyOnIndexChange:!1});return t.addEventListener(cr,E,{capture:!0}),t.addEventListener(ar,w),t.history.pushState=function(...p){const _=r.apply(t.history,p);return v._ignoreSubscribers||k("PUSH"),_},t.history.replaceState=function(...p){const _=n.apply(t.history,p);return v._ignoreSubscribers||k("REPLACE"),_},v}function bn(s={initialEntries:["/"]}){const e=s.initialEntries;let t=s.initialIndex?Math.min(Math.max(s.initialIndex,0),e.length-1):e.length-1;const r=e.map((i,o)=>xs(o,void 0));return qr({getLocation:()=>je(e[t],r[t]),getLength:()=>e.length,pushState:(i,o)=>{t<e.length-1&&(e.splice(t+1),r.splice(t+1)),r.push(o),e.push(i),t=Math.max(e.length-1,0)},replaceState:(i,o)=>{r[t]=o,e[t]=i},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,e.length-1)},go:i=>{t=Math.min(Math.max(t+i,0),e.length-1)},createHref:i=>i})}function je(s,e){const t=s.indexOf("#"),r=s.indexOf("?");return{href:s,pathname:s.substring(0,t>0?r>0?Math.min(t,r):t:r>0?r:s.length),hash:t>-1?s.substring(t):"",search:r>-1?s.slice(r,t===-1?void 0:t):"",state:e||{[Kt]:0,key:Qs()}}}function Qs(){return(Math.random()+1).toString(36).substring(7)}function he(s){return s[s.length-1]}function wn(s){return typeof s=="function"}function Gt(s,e){return wn(s)?s(e):s}function Ms(s,e){return e.reduce((t,r)=>(t[r]=s[r],t),{})}function mt(s,e){if(s===e)return s;const t=e,r=lr(s)&&lr(t);if(r||Ye(s)&&Ye(t)){const n=r?s:Object.keys(s),i=n.length,o=r?t:Object.keys(t),a=o.length,h=r?[]:{};let d=0;for(let l=0;l<a;l++){const c=r?l:o[l];(!r&&n.includes(c)||r)&&s[c]===void 0&&t[c]===void 0?(h[c]=void 0,d++):(h[c]=mt(s[c],t[c]),h[c]===s[c]&&s[c]!==void 0&&d++)}return i===a&&d===i?s:h}return t}function Ye(s){if(!ur(s))return!1;const e=s.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!ur(t)||!t.hasOwnProperty("isPrototypeOf"))}function ur(s){return Object.prototype.toString.call(s)==="[object Object]"}function lr(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function hr(s,e){let t=Object.keys(s);return e&&(t=t.filter(r=>s[r]!==void 0)),t}function pe(s,e,t){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(Ye(s)&&Ye(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0,n=hr(s,r),i=hr(e,r);return!(t!=null&&t.partial)&&n.length!==i.length?!1:i.every(o=>pe(s[o],e[o],t))}return Array.isArray(s)&&Array.isArray(e)?s.length!==e.length?!1:!s.some((r,n)=>!pe(r,e[n],t)):!1}function le(s){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),s==null||s(n)},r.reject=n=>{r.status="rejected",t(n)},r}function _n(s){return/%[0-9A-Fa-f]{2}/.test(s)}function Ot(s){return os(s.filter(e=>e!==void 0).join("/"))}function os(s){return s.replace(/\/{2,}/g,"/")}function Vs(s){return s==="/"?s:s.replace(/^\/{1,}/,"")}function Wt(s){return s==="/"?s:s.replace(/\/{1,}$/,"")}function Pn(s){return Wt(Vs(s))}function Ze(s,e){return s!=null&&s.endsWith("/")&&s!=="/"&&s!==`${e}/`?s.slice(0,-1):s}function Rn(s,e,t){return Ze(s,t)===Ze(e,t)}function Cn({basepath:s,base:e,to:t,trailingSlash:r="never",caseSensitive:n}){var i,o;e=ts(s,e,n),t=ts(s,t,n);let a=Ee(e);const h=Ee(t);a.length>1&&((i=he(a))==null?void 0:i.value)==="/"&&a.pop(),h.forEach((l,c)=>{l.value==="/"?c?c===h.length-1&&a.push(l):a=[l]:l.value===".."?a.pop():l.value==="."||a.push(l)}),a.length>1&&(((o=he(a))==null?void 0:o.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const d=Ot([s,...a.map(l=>l.value)]);return os(d)}function Ee(s){if(!s)return[];s=os(s);const e=[];if(s.slice(0,1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),!s)return e;const t=s.split("/").filter(Boolean);return e.push(...t.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(n=>decodeURI(n)).join("%25"):decodeURI(r)})),s.slice(-1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),e}function $e({path:s,params:e,leaveWildcards:t,leaveParams:r,decodeCharMap:n}){const i=Ee(s);function o(l){const c=e[l],f=typeof c=="string";return["*","_splat"].includes(l)?f?encodeURI(c):c:f?xn(c,n):c}let a=!1;const h={},d=Ot(i.map(l=>{if(l.type==="wildcard"){h._splat=e._splat;const c=o("_splat");return t?`${l.value}${c??""}`:c}if(l.type==="param"){const c=l.value.substring(1);if(!a&&!(c in e)&&(a=!0),h[c]=e[c],r){const f=o(l.value);return`${l.value}${f??""}`}return o(c)??"undefined"}return l.value}));return{usedParams:h,interpolatedPath:d,isMissingParams:a}}function xn(s,e){let t=encodeURIComponent(s);if(e)for(const[r,n]of e)t=t.replaceAll(r,n);return t}function He(s,e,t){const r=Mn(s,e,t);if(!(t.to&&!r))return r??{}}function ts(s,e,t=!1){const r=t?s:s.toLowerCase(),n=t?e:e.toLowerCase();switch(!0){case r==="/":return e;case n===r:return"";case e.length<s.length:return e;case n[r.length]!=="/":return e;case n.startsWith(r):return e.slice(s.length);default:return e}}function Mn(s,e,t){if(s!=="/"&&!e.startsWith(s))return;e=ts(s,e,t.caseSensitive);const r=ts(s,`${t.to??"$"}`,t.caseSensitive),n=Ee(e),i=Ee(r);e.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let h=0;h<Math.max(n.length,i.length);h++){const d=n[h],l=i[h],c=h>=n.length-1,f=h>=i.length-1;if(l){if(l.type==="wildcard"){const m=decodeURI(Ot(n.slice(h).map(g=>g.value)));return o["*"]=m,o._splat=m,!0}if(l.type==="pathname"){if(l.value==="/"&&!(d!=null&&d.value))return!0;if(d){if(t.caseSensitive){if(l.value!==d.value)return!1}else if(l.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(l.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[l.value.substring(1)]=decodeURIComponent(d.value))}}if(!c&&f)return o["**"]=Ot(n.slice(h+1).map(m=>m.value)),!!t.fuzzy&&(l==null?void 0:l.value)!=="/"}return!0})()?o:void 0}function yt(s){return!!(s!=null&&s.isNotFound)}function Ln(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const es="tsr-scroll-restoration-v1_3",En=(s,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{s(...r),t=null},e))}};function Fn(){const s=Ln();if(!s)return;const e=s.getItem(es);let t=e?JSON.parse(e):{};return{state:t,set:r=>(t=Gt(r,t)||t,s.setItem(es,JSON.stringify(t)))}}const fs=Fn(),Ls=s=>s.state.key||s.href;function On(s){const e=[];let t;for(;t=s.parentNode;)e.unshift(`${s.tagName}:nth-child(${[].indexOf.call(t.children,s)+1})`),s=t;return`${e.join(" > ")}`.toLowerCase()}let ss=!1;function Qr(s,e,t,r,n){var i;let o;try{o=JSON.parse(sessionStorage.getItem(s)||"{}")}catch(d){console.error(d);return}const a=e||((i=window.history.state)==null?void 0:i.key),h=o[a];ss=!0,(()=>{if(r&&h){for(const l in h){const c=h[l];if(l==="window")window.scrollTo({top:c.scrollY,left:c.scrollX,behavior:t});else if(l){const f=document.querySelector(l);f&&(f.scrollLeft=c.scrollX,f.scrollTop=c.scrollY)}}return}const d=window.location.hash.split("#")[1];if(d){const l=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(l){const c=document.getElementById(d);c&&c.scrollIntoView(l)}return}["window",...(n==null?void 0:n.filter(l=>l!=="window"))??[]].forEach(l=>{const c=l==="window"?window:document.querySelector(l);c&&c.scrollTo({top:0,left:0,behavior:t})})})(),ss=!1}function In(s,e){if(fs===void 0||((s.options.scrollRestoration??!1)&&(s.isScrollRestoring=!0),typeof document>"u"||s.isScrollRestorationSetup))return;s.isScrollRestorationSetup=!0,ss=!1;const r=s.options.getScrollRestorationKey||Ls;window.history.scrollRestoration="manual";const n=i=>{if(ss||!s.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const h=i.target.getAttribute("data-scroll-restoration-id");h?o=`[data-scroll-restoration-id="${h}"]`:o=On(i.target)}const a=r(s.state.location);fs.set(h=>{const d=h[a]=h[a]||{},l=d[o]=d[o]||{};if(o==="window")l.scrollX=window.scrollX||0,l.scrollY=window.scrollY||0;else if(o){const c=document.querySelector(o);c&&(l.scrollX=c.scrollLeft||0,l.scrollY=c.scrollTop||0)}return h})};typeof document<"u"&&document.addEventListener("scroll",En(n,100),!0),s.subscribe("onRendered",i=>{const o=r(i.toLocation);if(!s.resetNextScroll){s.resetNextScroll=!0;return}Qr(es,o,s.options.scrollRestorationBehavior||void 0,s.isScrollRestoring||void 0,s.options.scrollToTopSelectors||void 0),s.isScrollRestoring&&fs.set(a=>(a[o]=a[o]||{},a))})}function Dn(s){if(typeof document<"u"&&document.querySelector){const e=s.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&s.state.location.hash!==""){const t=document.getElementById(s.state.location.hash);t&&t.scrollIntoView(e)}}}function Tn(s,e){const t=Object.entries(s).flatMap(([n,i])=>Array.isArray(i)?i.map(o=>[n,String(o)]):[[n,String(i)]]);return""+new URLSearchParams(t).toString()}function ps(s){if(!s)return"";const e=_n(s)?decodeURIComponent(s):decodeURIComponent(encodeURIComponent(s));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function kn(s,e){const t=s;return[...new URLSearchParams(t).entries()].reduce((i,[o,a])=>{const h=i[o];return h==null?i[o]=ps(a):i[o]=Array.isArray(h)?[...h,ps(a)]:[h,ps(a)],i},{})}const An=Bn(JSON.parse),jn=Nn(JSON.stringify,JSON.parse);function Bn(s){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const t=kn(e);for(const r in t){const n=t[r];if(typeof n=="string")try{t[r]=s(n)}catch{}}return t}}function Nn(s,e){function t(r){if(typeof r=="object"&&r!==null)try{return s(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),s(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=t(o)});const n=Tn(r).toString();return n?`?${n}`:""}}const bt="__root__";function so(s){if(s.isRedirect=!0,s.statusCode=s.statusCode||s.code||307,s.headers=s.headers||{},!s.reloadDocument){s.reloadDocument=!1;try{new URL(`${s.href}`),s.reloadDocument=!0}catch{}}if(s.throw)throw s;return s}function zt(s){return!!(s!=null&&s.isRedirect)}function ms(s){return!!(s!=null&&s.isRedirect)&&s.href}function ne(s){const e=s.resolvedLocation,t=s.location,r=(e==null?void 0:e.pathname)!==t.pathname,n=(e==null?void 0:e.href)!==t.href,i=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:n,hashChanged:i}}class Un{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var r;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||t.basepath&&t.basepath!==n.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${Pn(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?bn({initialEntries:[this.basepath||"/"]}):Sn()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Cs(Qn(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),In(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const r=o=>{o.forEach((a,h)=>{a.init({originalIndex:h,defaultSsr:this.options.defaultSsr});const d=this.routesById[a.id];if(Ft(!d,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const c=Wt(a.fullPath);(!this.routesByPath[c]||a.fullPath.endsWith("/"))&&(this.routesByPath[c]=a)}const l=a.children;l!=null&&l.length&&r(l)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((o,a)=>{var h;if(o.isRoot||!o.path)return;const d=Vs(o.fullPath),l=Ee(d);for(;l.length>1&&((h=l[0])==null?void 0:h.value)==="/";)l.shift();const c=l.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);n.push({child:o,trimmed:d,parsed:l,index:a,scores:c})}),this.flatRoutes=n.sort((o,a)=>{const h=Math.min(o.scores.length,a.scores.length);for(let d=0;d<h;d++)if(o.scores[d]!==a.scores[d])return a.scores[d]-o.scores[d];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let d=0;d<h;d++)if(o.parsed[d].value!==a.parsed[d].value)return o.parsed[d].value>a.parsed[d].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(t,r)=>{const n={eventType:t,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const n=({pathname:h,search:d,hash:l,state:c})=>{const f=this.options.parseSearch(d),m=this.options.stringifySearch(f);return{pathname:h,searchStr:m,search:mt(t==null?void 0:t.search,f),hash:l.split("#").reverse()[0]??"",href:`${h}${m}${l}`,state:mt(t==null?void 0:t.state,c)}},i=n(r??this.history.location),{__tempLocation:o,__tempKey:a}=i.state;if(o&&(!a||a===this.tempLocationKey)){const h=n(o);return h.state.key=i.state.key,delete h.state.__tempLocation,{...h,maskedLocation:i}}return i},this.resolvePathWithBase=(t,r)=>Cn({basepath:this.basepath,base:t,to:os(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,r,n)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},n):this.matchRoutesInternal(t,r),this.getMatchedRoutes=(t,r)=>{let n={};const i=Wt(t.pathname),o=l=>He(this.basepath,i,{to:l.fullPath,caseSensitive:l.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?n=o(a):a=this.flatRoutes.find(l=>{const c=o(l);return c?(n=c,!0):!1});let h=a||this.routesById[bt];const d=[h];for(;h.parentRoute;)h=h.parentRoute,d.unshift(h);return{matchedRoutes:d,routeParams:n,foundRoute:a}},this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=t=>{const r=(i={},o)=>{var a,h,d,l,c,f,m;const g=i._fromLocation?this.matchRoutes(i._fromLocation,{_buildLocation:!0}):this.state.matches,y=i.from!=null?g.find(R=>He(this.basepath,Wt(R.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,S=(y==null?void 0:y.pathname)||this.latestLocation.pathname;Ft(i.from==null||y!=null,"Could not find match for from: "+i.from);const b=(a=this.state.pendingMatches)!=null&&a.length?(h=he(this.state.pendingMatches))==null?void 0:h.search:((d=he(g))==null?void 0:d.search)||this.latestLocation.search,L=o==null?void 0:o.matchedRoutes.filter(R=>g.find(M=>M.routeId===R.id));let C;if(i.to){const R=(y==null?void 0:y.fullPath)||((l=he(g))==null?void 0:l.fullPath)||this.latestLocation.pathname;C=this.resolvePathWithBase(R,`${i.to}`)}else{const R=this.routesById[(c=L==null?void 0:L.find(M=>{const Q=$e({path:M.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Ot([this.basepath,Q])===S}))==null?void 0:c.id];C=this.resolvePathWithBase(S,(R==null?void 0:R.to)??S)}const D={...(f=he(g))==null?void 0:f.params};let k=(i.params??!0)===!0?D:{...D,...Gt(i.params,D)};Object.keys(k).length>0&&(o==null||o.matchedRoutes.map(R=>{var M;return((M=R.options.params)==null?void 0:M.stringify)??R.options.stringifyParams}).filter(Boolean).forEach(R=>{k={...k,...R(k)}})),C=$e({path:C,params:k??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let w=b;if(t._includeValidateSearch&&((m=this.options.search)!=null&&m.strict)){let R={};o==null||o.matchedRoutes.forEach(M=>{try{M.options.validateSearch&&(R={...R,...vs(M.options.validateSearch,{...R,...w})??{}})}catch{}}),w=R}w=(R=>{const M=(o==null?void 0:o.matchedRoutes.reduce((B,V)=>{var ot;const rt=[];if("search"in V.options)(ot=V.options.search)!=null&&ot.middlewares&&rt.push(...V.options.search.middlewares);else if(V.options.preSearchFilters||V.options.postSearchFilters){const X=({search:K,next:at})=>{let ct=K;"preSearchFilters"in V.options&&V.options.preSearchFilters&&(ct=V.options.preSearchFilters.reduce(($,z)=>z($),K));const N=at(ct);return"postSearchFilters"in V.options&&V.options.postSearchFilters?V.options.postSearchFilters.reduce(($,z)=>z($),N):N};rt.push(X)}if(t._includeValidateSearch&&V.options.validateSearch){const X=({search:K,next:at})=>{const ct=at(K);try{return{...ct,...vs(V.options.validateSearch,ct)??{}}}catch{return ct}};rt.push(X)}return B.concat(rt)},[]))??[],Q=({search:B})=>i.search?i.search===!0?B:Gt(i.search,B):{};M.push(Q);const A=(B,V)=>{if(B>=M.length)return V;const ot=M[B];return ot({search:V,next:X=>A(B+1,X)})};return A(0,R)})(w),w=mt(b,w);const v=this.options.stringifySearch(w),p=i.hash===!0?this.latestLocation.hash:i.hash?Gt(i.hash,this.latestLocation.hash):void 0,_=p?`#${p}`:"";let F=i.state===!0?this.latestLocation.state:i.state?Gt(i.state,this.latestLocation.state):{};return F=mt(this.latestLocation.state,F),{pathname:C,search:w,searchStr:v,state:F,hash:p??"",href:`${C}${v}${_}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var a;const h=r(i);let d=o?r(o):void 0;if(!d){let f={};const m=(a=this.options.routeMasks)==null?void 0:a.find(g=>{const y=He(this.basepath,h.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1});return y?(f=y,!0):!1});if(m){const{from:g,...y}=m;o={...Ms(t,["from"]),...y,params:f},d=r(o)}}const l=this.getMatchedRoutes(h,i),c=r(i,l);if(d){const f=this.getMatchedRoutes(d,o),m=r(o,f);c.maskedLocation=m}return c};return t.mask?n(t,{...Ms(t,["from"]),...t.mask}):n(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:r,...n})=>{const i=()=>{const h=["key","__TSR_index","__hashScrollIntoViewOptions"];h.forEach(l=>{n.state[l]=this.latestLocation.state[l]});const d=pe(n.state,this.latestLocation.state);return h.forEach(l=>{delete n.state[l]}),d},o=this.latestLocation.href===n.href,a=this.commitLocationPromise;if(this.commitLocationPromise=le(()=>{a==null||a.resolve()}),o&&i())this.load();else{let{maskedLocation:h,hashScrollIntoView:d,...l}=n;h&&(l={...h,state:{...h.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[n.replace?"replace":"push"](l.href,l.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:o,href:a,...h}={})=>{if(a){const l=this.history.location.state.__TSR_index,c=je(a,{__TSR_index:t?l:l+1});h.to=c.pathname,h.search=this.options.parseSearch(c.search),h.hash=c.hash.slice(1)}const d=this.buildLocation({...h,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:i,replace:t,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:o})},this.navigate=({to:t,reloadDocument:r,href:n,...i})=>{if(r){if(!n){const o=this.buildLocation({to:t,...i});n=this.history.createHref(o.href)}i.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...i,href:n,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,i;for(i=new Promise(o=>{this.startTransition(async()=>{var a;try{const h=this.latestLocation,d=this.state.resolvedLocation;this.cancelMatches();let l;ue(()=>{l=this.matchRoutes(h),this.__store.setState(c=>({...c,status:"pending",isLoading:!0,location:h,pendingMatches:l,cachedMatches:c.cachedMatches.filter(f=>!l.find(m=>m.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...ne({resolvedLocation:d,location:h})}),this.emit({type:"onBeforeLoad",...ne({resolvedLocation:d,location:h})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:l,location:h,onReady:async()=>{this.startViewTransition(async()=>{let c,f,m;ue(()=>{this.__store.setState(g=>{const y=g.matches,S=g.pendingMatches||g.matches;return c=y.filter(b=>!S.find(L=>L.id===b.id)),f=S.filter(b=>!y.find(L=>L.id===b.id)),m=y.filter(b=>S.find(L=>L.id===b.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...c.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[c,"onLeave"],[f,"onEnter"],[m,"onStay"]].forEach(([g,y])=>{g.forEach(S=>{var b,L;(L=(b=this.looseRoutesById[S.routeId].options)[y])==null||L.call(b,S)})})})}})}catch(h){ms(h)?(r=h,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):yt(h)&&(n=h),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(l=>l.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,o=this.state.resolvedLocation,a=typeof r.types=="function"?r.types(ne({resolvedLocation:o,location:i})):r.types;n={update:t,types:a}}else n=t;document.startViewTransition(n)}else t()},this.updateMatch=(t,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(l=>l.id===t),a=this.state.matches.find(l=>l.id===t),h=this.state.cachedMatches.find(l=>l.id===t),d=o?"pendingMatches":a?"matches":h?"cachedMatches":"";return d&&this.__store.setState(l=>{var c;return{...l,[d]:(c=l[d])==null?void 0:c.map(f=>f.id===t?i=r(f):f)}}),i},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===t),this.loadMatches=async({location:t,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch,sync:a})=>{let h,d=!1;const l=async()=>{d||(d=!0,await(i==null?void 0:i()))},c=m=>!!(n&&!this.state.matches.find(g=>g.id===m)),f=(m,g)=>{var y,S,b,L;if(ms(g)&&!g.reloadDocument)throw g;if(zt(g)||yt(g)){if(o(m.id,C=>({...C,status:zt(g)?"redirected":yt(g)?"notFound":"error",isFetching:!1,error:g,beforeLoadPromise:void 0,loaderPromise:void 0})),g.routeId||(g.routeId=m.routeId),(y=m.beforeLoadPromise)==null||y.resolve(),(S=m.loaderPromise)==null||S.resolve(),(b=m.loadPromise)==null||b.resolve(),zt(g))throw d=!0,g=this.resolveRedirect({...g,_fromLocation:t}),g;if(yt(g))throw this._handleNotFound(r,g,{updateMatch:o}),(L=this.serverSsr)==null||L.onMatchSettled({router:this,match:this.getMatch(m.id)}),g}};try{await new Promise((m,g)=>{(async()=>{var y,S,b,L;try{const C=(w,E,v)=>{var p,_;const{id:F,routeId:R}=r[w],M=this.looseRoutesById[R];if(E instanceof Promise)throw E;E.routerCode=v,h=h??w,f(this.getMatch(F),E);try{(_=(p=M.options).onError)==null||_.call(p,E)}catch(Q){E=Q,f(this.getMatch(F),E)}o(F,Q=>{var A,B;return(A=Q.beforeLoadPromise)==null||A.resolve(),(B=Q.loadPromise)==null||B.resolve(),{...Q,error:E,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[w,{id:E,routeId:v}]of r.entries()){const p=this.getMatch(E),_=(y=r[w-1])==null?void 0:y.id,F=this.looseRoutesById[v],R=F.options.pendingMs??this.options.defaultPendingMs,M=!!(i&&!this.isServer&&!c(E)&&(F.options.loader||F.options.beforeLoad||dr(F))&&typeof R=="number"&&R!==1/0&&(F.options.pendingComponent??((S=this.options)==null?void 0:S.defaultPendingComponent)));let Q=!0;if((p.beforeLoadPromise||p.loaderPromise)&&(M&&setTimeout(()=>{try{l()}catch{}},R),await p.beforeLoadPromise,Q=this.getMatch(E).status!=="success"),Q){try{o(E,W=>{const U=W.loadPromise;return{...W,loadPromise:le(()=>{U==null||U.resolve()}),beforeLoadPromise:le()}});const A=new AbortController;let B;M&&(B=setTimeout(()=>{try{l()}catch{}},R));const{paramsError:V,searchError:ot}=this.getMatch(E);V&&C(w,V,"PARSE_PARAMS"),ot&&C(w,ot,"VALIDATE_SEARCH");const rt=()=>_?this.getMatch(_).context:this.options.context??{};o(E,W=>({...W,isFetching:"beforeLoad",fetchCount:W.fetchCount+1,abortController:A,pendingTimeout:B,context:{...rt(),...W.__routeContext}}));const{search:X,params:K,context:at,cause:ct}=this.getMatch(E),N=c(E),$={search:X,abortController:A,params:K,preload:N,context:at,location:t,navigate:W=>this.navigate({...W,_fromLocation:t}),buildLocation:this.buildLocation,cause:N?"preload":ct,matches:r},z=await((L=(b=F.options).beforeLoad)==null?void 0:L.call(b,$))??{};(zt(z)||yt(z))&&C(w,z,"BEFORE_LOAD"),o(E,W=>({...W,__beforeLoadContext:z,context:{...rt(),...W.__routeContext,...z},abortController:A}))}catch(A){C(w,A,"BEFORE_LOAD")}o(E,A=>{var B;return(B=A.beforeLoadPromise)==null||B.resolve(),{...A,beforeLoadPromise:void 0,isFetching:!1}})}}const D=r.slice(0,h),k=[];D.forEach(({id:w,routeId:E},v)=>{k.push((async()=>{const{loaderPromise:p}=this.getMatch(w);let _=!1,F=!1;if(p){await p;const R=this.getMatch(w);R.error&&f(R,R.error)}else{const R=k[v-1],M=this.looseRoutesById[E],Q=()=>{const{params:N,loaderDeps:$,abortController:z,context:W,cause:U}=this.getMatch(w),H=c(w);return{params:N,deps:$,preload:!!H,parentMatchPromise:R,abortController:z,context:W,location:t,navigate:J=>this.navigate({...J,_fromLocation:t}),cause:H?"preload":U,route:M}},A=Date.now()-this.getMatch(w).updatedAt,B=c(w),V=B?M.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:M.options.staleTime??this.options.defaultStaleTime??0,ot=M.options.shouldReload,rt=typeof ot=="function"?ot(Q()):ot;o(w,N=>({...N,loaderPromise:le(),preload:!!B&&!this.state.matches.find($=>$.id===w)}));const X=()=>{var N,$,z,W,U,H;const J=this.getMatch(w);if(!J)return;const et={matches:r,match:J,params:J.params,loaderData:J.loaderData},nt=($=(N=M.options).head)==null?void 0:$.call(N,et),Oe=nt==null?void 0:nt.meta,$t=nt==null?void 0:nt.links,ae=nt==null?void 0:nt.scripts,_t=(W=(z=M.options).scripts)==null?void 0:W.call(z,et),Ht=(H=(U=M.options).headers)==null?void 0:H.call(U,et);o(w,ce=>({...ce,meta:Oe,links:$t,headScripts:ae,headers:Ht,scripts:_t}))},K=async()=>{var N,$,z,W,U;try{const H=async()=>{const J=this.getMatch(w);J.minPendingPromise&&await J.minPendingPromise};try{this.loadRouteChunk(M),o(w,et=>({...et,isFetching:"loader"}));const J=await(($=(N=M.options).loader)==null?void 0:$.call(N,Q()));f(this.getMatch(w),J),await M._lazyPromise,await H(),await M._componentsPromise,ue(()=>{o(w,et=>({...et,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:J})),X()})}catch(J){let et=J;await H(),f(this.getMatch(w),J);try{(W=(z=M.options).onError)==null||W.call(z,J)}catch(nt){et=nt,f(this.getMatch(w),nt)}ue(()=>{o(w,nt=>({...nt,error:et,status:"error",isFetching:!1})),X()})}(U=this.serverSsr)==null||U.onMatchSettled({router:this,match:this.getMatch(w)})}catch(H){ue(()=>{o(w,J=>({...J,loaderPromise:void 0})),X()}),f(this.getMatch(w),H)}},{status:at,invalid:ct}=this.getMatch(w);_=at==="success"&&(ct||(rt??A>V)),B&&M.options.preload===!1||(_&&!a?(F=!0,(async()=>{try{await K();const{loaderPromise:N,loadPromise:$}=this.getMatch(w);N==null||N.resolve(),$==null||$.resolve(),o(w,z=>({...z,loaderPromise:void 0}))}catch(N){ms(N)&&await this.navigate(N)}})()):at!=="success"||_&&a?await K():X())}if(!F){const{loaderPromise:R,loadPromise:M}=this.getMatch(w);R==null||R.resolve(),M==null||M.resolve()}return o(w,R=>({...R,isFetching:F?R.isFetching:!1,loaderPromise:F?R.loaderPromise:void 0,invalid:!1})),this.getMatch(w)})())}),await Promise.all(k),m()}catch(C){g(C)}})()}),await l()}catch(m){if(zt(m)||yt(m))throw yt(m)&&!n&&await l(),m}return r},this.invalidate=t=>{const r=n=>{var i;return((i=t==null?void 0:t.filter)==null?void 0:i.call(t,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var i;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(i=n.pendingMatches)==null?void 0:i.map(r)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const r=t;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(r=>{const{id:n,...i}=r.options;Object.assign(t.options,i)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Vr.map(async r=>{const n=t.options[r];n!=null&&n.preload&&await n.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const r=this.buildLocation(t);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...i,...this.state.cachedMatches.map(a=>a.id)]);ue(()=>{n.forEach(a=>{o.has(a.id)||this.__store.setState(h=>({...h,cachedMatches:[...h.cachedMatches,a]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(a,h)=>{i.has(a)?n=n.map(d=>d.id===a?h(d):d):this.updateMatch(a,h)}}),n}catch(a){if(zt(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});yt(a)||console.error(a);return}},this.matchRoute=(t,r)=>{const n={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},i=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,h=He(this.basepath,a.pathname,{...r,to:i.pathname});return!h||t.params&&!pe(h,t.params,{partial:!0})?!1:h&&((r==null?void 0:r.includeSearch)??!0)?pe(a.search,i.search,{partial:!0})?h:!1:h},this._handleNotFound=(t,r,{updateMatch:n=this.updateMatch}={})=>{var i;const o=this.routesById[r.routeId??""]??this.routeTree,a={};for(const d of t)a[d.routeId]=d;!o.options.notFoundComponent&&((i=this.options)!=null&&i.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),Ft(o.options.notFoundComponent);const h=a[o.id];Ft(h,"Could not find match for route: "+o.id),n(h.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(t,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??jn,parseSearch:e.parseSearch??An}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const{foundRoute:r,matchedRoutes:n,routeParams:i}=this.getMatchedRoutes(e,t==null?void 0:t.dest);let o=!1;(r?r.path!=="/"&&i["**"]:Wt(e.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):o=!0);const a=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let c=n.length-1;c>=0;c--){const f=n[c];if(f.children)return f.id}return bt}})(),h=n.map(c=>{var f;let m;const g=((f=c.options.params)==null?void 0:f.parse)??c.options.parseParams;if(g)try{const y=g(i);Object.assign(i,y)}catch(y){if(m=new qn(y.message,{cause:y}),t!=null&&t.throwOnError)throw m;return m}}),d=[],l=c=>(c==null?void 0:c.id)?c.context??this.options.context??{}:this.options.context??{};return n.forEach((c,f)=>{var m,g;const y=d[f-1],[S,b,L]=(()=>{const M=(y==null?void 0:y.search)??e.search,Q=(y==null?void 0:y._strictSearch)??{};try{const A=vs(c.options.validateSearch,{...M})??{};return[{...M,...A},{...Q,...A},void 0]}catch(A){let B=A;if(A instanceof rs||(B=new rs(A.message,{cause:A})),t!=null&&t.throwOnError)throw B;return[M,{},B]}})(),C=((g=(m=c.options).loaderDeps)==null?void 0:g.call(m,{search:S}))??"",D=C?JSON.stringify(C):"",{usedParams:k,interpolatedPath:w}=$e({path:c.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),E=$e({path:c.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+D,v=this.getMatch(E),p=this.state.matches.find(M=>M.routeId===c.id),_=p?"stay":"enter";let F;if(v)F={...v,cause:_,params:p?mt(p.params,i):i,_strictParams:k,search:mt(p?p.search:v.search,S),_strictSearch:b};else{const M=c.options.loader||c.options.beforeLoad||c.lazyFn||dr(c)?"pending":"success";F={id:E,index:f,routeId:c.id,params:p?mt(p.params,i):i,_strictParams:k,pathname:Ot([this.basepath,w]),updatedAt:Date.now(),search:p?mt(p.search,S):S,_strictSearch:b,searchError:void 0,status:M,isFetching:!1,error:void 0,paramsError:h[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:_,loaderDeps:p?mt(p.loaderDeps,C):C,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:c.options.staticData||{},loadPromise:le(),fullPath:c.fullPath}}t!=null&&t.preload||(F.globalNotFound=a===c.id),F.searchError=L;const R=l(y);F.context={...R,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((c,f)=>{var m,g;const y=this.looseRoutesById[c.routeId];if(!this.getMatch(c.id)&&(t==null?void 0:t._buildLocation)!==!0){const b=d[f-1],L=l(b),C={deps:c.loaderDeps,params:c.params,context:L,location:e,navigate:D=>this.navigate({...D,_fromLocation:e}),buildLocation:this.buildLocation,cause:c.cause,abortController:c.abortController,preload:!!c.preload,matches:d};c.__routeContext=((g=(m=y.options).context)==null?void 0:g.call(m,C))??{},c.context={...L,...c.__routeContext,...c.__beforeLoadContext}}}),d}}class rs extends Error{}class qn extends Error{}function Qn(s){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:s,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function vs(s,e){if(s==null)return{};if("~standard"in s){const t=s["~standard"].validate(e);if(t instanceof Promise)throw new rs("Async validation not supported");if(t.issues)throw new rs(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in s?s.parse(e):typeof s=="function"?s(e):{}}const Vr=["component","errorComponent","pendingComponent","notFoundComponent"];function dr(s){var e;for(const t of Vr)if((e=s.options[t])!=null&&e.preload)return!0;return!1}const Vn="Error preloading route! ☝️";class Kr{constructor(e){if(this.init=t=>{var r,n;this.originalIndex=t.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);if(this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),o)this._path=bt;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=o?bt:i==null?void 0:i.path;a&&a!=="/"&&(a=Vs(a));const h=(i==null?void 0:i.id)||a;let d=o?bt:Ot([this.parentRoute.id===bt?"":this.parentRoute.id,h]);a===bt&&(a="/"),d!==bt&&(d=Ot(["/",d]));const l=d===bt?"/":Ot([this.parentRoute.fullPath,a]);this._path=a,this._id=d,this._fullPath=l,this._to=l,this._ssr=(i==null?void 0:i.ssr)??t.defaultSsr??!0},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class Kn extends Kr{constructor(e){super(e)}}function Ks(s){const e=s.errorComponent??as;return I.jsx($n,{getResetKey:s.getResetKey,onCatch:s.onCatch,children:({error:t,reset:r})=>t?x.createElement(e,{error:t,reset:r}):s.children})}class $n extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function as({error:s}){const[e,t]=x.useState(!1);return I.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[I.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),I.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),I.jsx("div",{style:{height:".25rem"}}),e?I.jsx("div",{children:I.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:s.message?I.jsx("code",{children:s.message}):null})}):null]})}var ys={exports:{}},gs={},Ss={exports:{}},bs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr;function Hn(){if(fr)return bs;fr=1;var s=Br();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var t=typeof Object.is=="function"?Object.is:e,r=s.useState,n=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function a(c,f){var m=f(),g=r({inst:{value:m,getSnapshot:f}}),y=g[0].inst,S=g[1];return i(function(){y.value=m,y.getSnapshot=f,h(y)&&S({inst:y})},[c,m,f]),n(function(){return h(y)&&S({inst:y}),c(function(){h(y)&&S({inst:y})})},[c]),o(m),m}function h(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!t(c,m)}catch{return!0}}function d(c,f){return f()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return bs.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:l,bs}var pr;function zn(){return pr||(pr=1,Ss.exports=Hn()),Ss.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr;function Gn(){if(mr)return gs;mr=1;var s=Br(),e=zn();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=s.useRef,o=s.useEffect,a=s.useMemo,h=s.useDebugValue;return gs.useSyncExternalStoreWithSelector=function(d,l,c,f,m){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=a(function(){function b(w){if(!L){if(L=!0,C=w,w=f(w),m!==void 0&&y.hasValue){var E=y.value;if(m(E,w))return D=E}return D=w}if(E=D,r(C,w))return E;var v=f(w);return m!==void 0&&m(E,v)?(C=w,E):(C=w,D=v)}var L=!1,C,D,k=c===void 0?null:c;return[function(){return b(l())},k===null?void 0:function(){return b(k())}]},[l,c,f,m]);var S=n(d,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=S},[S]),h(S),S},gs}var vr;function Wn(){return vr||(vr=1,ys.exports=Gn()),ys.exports}var Jn=Wn();function Xn(s,e=t=>t){return Jn.useSyncExternalStoreWithSelector(s.subscribe,()=>s.state,()=>s.state,e,Yn)}function Yn(s,e){if(Object.is(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;if(s instanceof Map&&e instanceof Map){if(s.size!==e.size)return!1;for(const[r,n]of s)if(!e.has(r)||!Object.is(n,e.get(r)))return!1;return!0}if(s instanceof Set&&e instanceof Set){if(s.size!==e.size)return!1;for(const r of s)if(!e.has(r))return!1;return!0}const t=Object.keys(s);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(s[t[r]],e[t[r]]))return!1;return!0}const ws=x.createContext(null);function $r(){return typeof document>"u"?ws:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ws,ws)}function pt(s){const e=x.useContext($r());return s==null||s.warn,e}function st(s){const e=pt({warn:(s==null?void 0:s.router)===void 0}),t=(s==null?void 0:s.router)||e,r=x.useRef(void 0);return Xn(t.__store,n=>{if(s!=null&&s.select){if(s.structuralSharing??t.options.defaultStructuralSharing){const i=mt(r.current,s.select(n));return r.current=i,i}return s.select(n)}return n})}const cs=x.createContext(void 0),Zn=x.createContext(void 0);function xt(s){const e=x.useContext(s.from?Zn:cs);return st({select:r=>{const n=r.matches.find(i=>s.from?s.from===i.routeId:i.id===e);if(Ft(!((s.shouldThrow??!0)&&!n),`Could not find ${s.from?`an active match from "${s.from}"`:"a nearest match!"}`),n!==void 0)return s.select?s.select(n):n},structuralSharing:s.structuralSharing})}function $s(s){return xt({from:s.from,strict:s.strict,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.loaderData):e.loaderData})}function Hs(s){const{select:e,...t}=s;return xt({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function zs(s){return xt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.params):e.params})}function Gs(s){return xt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.search):e.search})}function Ws(s){const{navigate:e}=pt();return x.useCallback(t=>e({from:s==null?void 0:s.from,...t}),[s==null?void 0:s.from,e])}function ro(s){const e=pt(),t=x.useRef(null);return x.useEffect(()=>{t.current!==s&&(e.navigate({...s}),t.current=s)},[e,s]),null}var Hr=fn();const no=dn(Hr),Te=typeof window<"u"?x.useLayoutEffect:x.useEffect;function _s(s){const e=x.useRef({value:s,prev:null}),t=e.current.value;return s!==t&&(e.current={value:s,prev:t}),e.current.prev}function ti(s,e,t={},r={}){const n=x.useRef(typeof IntersectionObserver=="function"),i=x.useRef(null);return x.useEffect(()=>{if(!(!s.current||!n.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{e(o)},t),i.current.observe(s.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[e,t,r.disabled,s]),i.current}function ei(s){const e=x.useRef(null);return x.useImperativeHandle(s,()=>e.current,[]),e}function si(){const s=pt(),e=x.useRef({router:s,mounted:!1}),t=st({select:({isLoading:c})=>c}),[r,n]=x.useState(!1),i=st({select:c=>c.matches.some(f=>f.status==="pending"),structuralSharing:!0}),o=_s(t),a=t||r||i,h=_s(a),d=t||i,l=_s(d);return s.isServer||(s.startTransition=c=>{n(!0),x.startTransition(()=>{c(),n(!1)})}),x.useEffect(()=>{const c=s.history.subscribe(s.load),f=s.buildLocation({to:s.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Wt(s.latestLocation.href)!==Wt(f.href)&&s.commitLocation({...f,replace:!0}),()=>{c()}},[s,s.history]),Te(()=>{if(typeof window<"u"&&s.clientSsr||e.current.router===s&&e.current.mounted)return;e.current={router:s,mounted:!0},(async()=>{try{await s.load()}catch(f){console.error(f)}})()},[s]),Te(()=>{o&&!t&&s.emit({type:"onLoad",...ne(s.state)})},[o,s,t]),Te(()=>{l&&!d&&s.emit({type:"onBeforeRouteMount",...ne(s.state)})},[d,l,s]),Te(()=>{h&&!a&&(s.emit({type:"onResolved",...ne(s.state)}),s.__store.setState(c=>({...c,status:"idle",resolvedLocation:c.location})),Dn(s))},[a,h,s]),null}function ri(s){const e=st({select:t=>`not-found-${t.location.pathname}-${t.status}`});return I.jsx(Ks,{getResetKey:()=>e,onCatch:(t,r)=>{var n;if(yt(t))(n=s.onCatch)==null||n.call(s,t,r);else throw t},errorComponent:({error:t})=>{var r;if(yt(t))return(r=s.fallback)==null?void 0:r.call(s,t);throw t},children:s.children})}function ni(){return I.jsx("p",{children:"Not Found"})}function We(s){return I.jsx(I.Fragment,{children:s.children})}function zr(s,e,t){return e.options.notFoundComponent?I.jsx(e.options.notFoundComponent,{data:t}):s.options.defaultNotFoundComponent?I.jsx(s.options.defaultNotFoundComponent,{data:t}):I.jsx(ni,{})}var Ps,yr;function ii(){if(yr)return Ps;yr=1;const s={},e=s.hasOwnProperty,t=(v,p)=>{for(const _ in v)e.call(v,_)&&p(_,v[_])},r=(v,p)=>(p&&t(p,(_,F)=>{v[_]=F}),v),n=(v,p)=>{const _=v.length;let F=-1;for(;++F<_;)p(v[F])},i=v=>"\\u"+("0000"+v).slice(-4),o=(v,p)=>{let _=v.toString(16);return p?_:_.toUpperCase()},a=s.toString,h=Array.isArray,d=v=>typeof Buffer=="function"&&Buffer.isBuffer(v),l=v=>a.call(v)=="[object Object]",c=v=>typeof v=="string"||a.call(v)=="[object String]",f=v=>typeof v=="number"||a.call(v)=="[object Number]",m=v=>typeof v=="bigint",g=v=>typeof v=="function",y=v=>a.call(v)=="[object Map]",S=v=>a.call(v)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},L=/[\\\b\f\n\r\t]/,C=/[0-9]/,D=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,k=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,w=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,E=(v,p)=>{const _=()=>{V=B,++p.indentLevel,B=p.indent.repeat(p.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},R=p&&p.json;R&&(F.quotes="double",F.wrap=!0),p=r(F,p),p.quotes!="single"&&p.quotes!="double"&&p.quotes!="backtick"&&(p.quotes="single");const M=p.quotes=="double"?'"':p.quotes=="backtick"?"`":"'",Q=p.compact,A=p.lowercaseHex;let B=p.indent.repeat(p.indentLevel),V="";const ot=p.__inline1__,rt=p.__inline2__,X=Q?"":`
`;let K,at=!0;const ct=p.numbers=="binary",N=p.numbers=="octal",$=p.numbers=="decimal",z=p.numbers=="hexadecimal";if(R&&v&&g(v.toJSON)&&(v=v.toJSON()),!c(v)){if(y(v))return v.size==0?"new Map()":(Q||(p.__inline1__=!0,p.__inline2__=!1),"new Map("+E(Array.from(v),p)+")");if(S(v))return v.size==0?"new Set()":"new Set("+E(Array.from(v),p)+")";if(d(v))return v.length==0?"Buffer.from([])":"Buffer.from("+E(Array.from(v),p)+")";if(h(v))return K=[],p.wrap=!0,ot&&(p.__inline1__=!1,p.__inline2__=!0),rt||_(),n(v,U=>{at=!1,rt&&(p.__inline2__=!1),K.push((Q||rt?"":B)+E(U,p))}),at?"[]":rt?"["+K.join(", ")+"]":"["+X+K.join(","+X)+X+(Q?"":V)+"]";if(f(v)||m(v)){if(R)return JSON.stringify(Number(v));let U;if($)U=String(v);else if(z){let H=v.toString(16);A||(H=H.toUpperCase()),U="0x"+H}else ct?U="0b"+v.toString(2):N&&(U="0o"+v.toString(8));return m(v)?U+"n":U}else return m(v)?R?JSON.stringify(Number(v)):v+"n":l(v)?(K=[],p.wrap=!0,_(),t(v,(U,H)=>{at=!1,K.push((Q?"":B)+E(U,p)+":"+(Q?"":" ")+E(H,p))}),at?"{}":"{"+X+K.join(","+X)+X+(Q?"":V)+"}"):R?JSON.stringify(v)||"null":String(v)}const W=p.escapeEverything?k:w;return K=v.replace(W,(U,H,J,et,nt,Oe)=>{if(H){if(p.minimal)return H;const ae=H.charCodeAt(0),_t=H.charCodeAt(1);if(p.es6){const Ht=(ae-55296)*1024+_t-56320+65536;return"\\u{"+o(Ht,A)+"}"}return i(o(ae,A))+i(o(_t,A))}if(J)return i(o(J.charCodeAt(0),A));if(U=="\0"&&!R&&!C.test(Oe.charAt(nt+1)))return"\\0";if(et)return et==M||p.escapeEverything?"\\"+et:et;if(L.test(U))return b[U];if(p.minimal&&!D.test(U))return U;const $t=o(U.charCodeAt(0),A);return R||$t.length>2?i($t):"\\x"+("00"+$t).slice(-2)}),M=="`"&&(K=K.replace(/\$\{/g,"\\${")),p.isScriptContext&&(K=K.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,R?"\\u003C!--":"\\x3C!--")),p.wrap&&(K=M+K+M),K};return E.version="3.0.2",Ps=E,Ps}ii();function oi({children:s,log:e}){return typeof document<"u"?null:I.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[s,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function ai(){const s=pt(),t=(s.options.getScrollRestorationKey||Ls)(s.latestLocation),r=t!==Ls(s.latestLocation)?t:null;return!s.isScrollRestoring||!s.isServer?null:I.jsx(oi,{children:`(${Qr.toString()})(${JSON.stringify(es)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const Gr=x.memo(function({matchId:e}){var t,r;const n=pt(),i=st({select:b=>{var L;return(L=b.matches.find(C=>C.id===e))==null?void 0:L.routeId}});Ft(i);const o=n.routesById[i],a=o.options.pendingComponent??n.options.defaultPendingComponent,h=a?I.jsx(a,{}):null,d=o.options.errorComponent??n.options.defaultErrorComponent,l=o.options.onCatch??n.options.defaultOnCatch,c=o.isRoot?o.options.notFoundComponent??((t=n.options.notFoundRoute)==null?void 0:t.options.component):o.options.notFoundComponent,f=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??a??((r=o.options.errorComponent)==null?void 0:r.preload))?x.Suspense:We,m=d?Ks:We,g=c?ri:We,y=st({select:b=>b.loadedAt}),S=st({select:b=>{var L;const C=b.matches.findIndex(D=>D.id===e);return(L=b.matches[C-1])==null?void 0:L.routeId}});return I.jsxs(I.Fragment,{children:[I.jsx(cs.Provider,{value:e,children:I.jsx(f,{fallback:h,children:I.jsx(m,{getResetKey:()=>y,errorComponent:d||as,onCatch:(b,L)=>{if(yt(b))throw b;l==null||l(b,L)},children:I.jsx(g,{fallback:b=>{if(!c||b.routeId&&b.routeId!==i||!b.routeId&&!o.isRoot)throw b;return x.createElement(c,b)},children:I.jsx(ui,{matchId:e})})})})}),S===bt&&n.options.scrollRestoration?I.jsxs(I.Fragment,{children:[I.jsx(ci,{}),I.jsx(ai,{})]}):null]})});function ci(){const s=pt(),e=x.useRef(void 0);return I.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==s.latestLocation.href)&&(s.emit({type:"onRendered",...ne(s.state)}),e.current=s.latestLocation)}},s.latestLocation.state.key)}const ui=x.memo(function({matchId:e}){var t,r,n;const i=pt(),{match:o,key:a,routeId:h}=st({select:f=>{const m=f.matches.findIndex(C=>C.id===e),g=f.matches[m],y=g.routeId,S=i.routesById[y].options.remountDeps??i.options.defaultRemountDeps,b=S==null?void 0:S({routeId:y,loaderDeps:g.loaderDeps,params:g._strictParams,search:g._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:y,match:Ms(g,["id","status","error"])}},structuralSharing:!0}),d=i.routesById[h],l=x.useMemo(()=>{const f=d.options.component??i.options.defaultComponent;return f?I.jsx(f,{},a):I.jsx(li,{})},[a,d.options.component,i.options.defaultComponent]),c=(d.options.errorComponent??i.options.defaultErrorComponent)||as;if(o.status==="notFound")return Ft(yt(o.error)),zr(i,d,o.error);if(o.status==="redirected")throw Ft(zt(o.error)),(t=i.getMatch(o.id))==null?void 0:t.loadPromise;if(o.status==="error"){if(i.isServer)return I.jsx(c,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const f=d.options.pendingMinMs??i.options.defaultPendingMinMs;if(f&&!((r=i.getMatch(o.id))!=null&&r.minPendingPromise)&&!i.isServer){const m=le();Promise.resolve().then(()=>{i.updateMatch(o.id,g=>({...g,minPendingPromise:m}))}),setTimeout(()=>{m.resolve(),i.updateMatch(o.id,g=>({...g,minPendingPromise:void 0}))},f)}throw(n=i.getMatch(o.id))==null?void 0:n.loadPromise}return l}),li=x.memo(function(){const e=pt(),t=x.useContext(cs),r=st({select:d=>{var l;return(l=d.matches.find(c=>c.id===t))==null?void 0:l.routeId}}),n=e.routesById[r],i=st({select:d=>{const c=d.matches.find(f=>f.id===t);return Ft(c),c.globalNotFound}}),o=st({select:d=>{var l;const c=d.matches,f=c.findIndex(m=>m.id===t);return(l=c[f+1])==null?void 0:l.id}});if(i)return zr(e,n,void 0);if(!o)return null;const a=I.jsx(Gr,{matchId:o}),h=e.options.defaultPendingComponent?I.jsx(e.options.defaultPendingComponent,{}):null;return t===bt?I.jsx(x.Suspense,{fallback:h,children:a}):a});function hi(){const s=pt(),e=s.options.defaultPendingComponent?I.jsx(s.options.defaultPendingComponent,{}):null,t=s.isServer||typeof document<"u"&&s.clientSsr?We:x.Suspense,r=I.jsxs(t,{fallback:e,children:[I.jsx(si,{}),I.jsx(di,{})]});return s.options.InnerWrap?I.jsx(s.options.InnerWrap,{children:r}):r}function di(){const s=st({select:t=>{var r;return(r=t.matches[0])==null?void 0:r.id}}),e=st({select:t=>t.loadedAt});return I.jsx(cs.Provider,{value:s,children:I.jsx(Ks,{getResetKey:()=>e,errorComponent:as,onCatch:t=>{t.message||t.toString()},children:s?I.jsx(Gr,{matchId:s}):null})})}function io(){const s=pt();return st({select:e=>{var t;return[e.location.href,(t=e.resolvedLocation)==null?void 0:t.href,e.status]},structuralSharing:!0}),x.useCallback(e=>{const{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i,...o}=e;return s.matchRoute(o,{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i})},[s])}function fi(s){return st({select:e=>{const t=e.matches;return s!=null&&s.select?s.select(t):t},structuralSharing:s==null?void 0:s.structuralSharing})}function pi(s,e){const t=pt(),[r,n]=x.useState(!1),i=x.useRef(!1),o=ei(e),{activeProps:a=()=>({className:"active"}),inactiveProps:h=()=>({}),activeOptions:d,to:l,preload:c,preloadDelay:f,hashScrollIntoView:m,replace:g,startTransition:y,resetScroll:S,viewTransition:b,children:L,target:C,disabled:D,style:k,className:w,onClick:E,onFocus:v,onMouseEnter:p,onMouseLeave:_,onTouchStart:F,ignoreBlocker:R,...M}=s,{params:Q,search:A,hash:B,state:V,mask:ot,reloadDocument:rt,...X}=M,K=x.useMemo(()=>{try{return new URL(`${l}`),"external"}catch{}return"internal"},[l]),at=st({select:G=>G.location.search,structuralSharing:!0}),ct=fi({select:G=>{var Z;return s.from??((Z=G[G.length-1])==null?void 0:Z.fullPath)}}),N=x.useMemo(()=>({...s,from:ct}),[s,ct]),$=x.useMemo(()=>t.buildLocation(N),[t,N,at]),z=x.useMemo(()=>N.reloadDocument?!1:c??t.options.defaultPreload,[t.options.defaultPreload,c,N.reloadDocument]),W=f??t.options.defaultPreloadDelay??0,U=st({select:G=>{if(d!=null&&d.exact){if(!Rn(G.location.pathname,$.pathname,t.basepath))return!1}else{const Z=Ze(G.location.pathname,t.basepath).split("/");if(!Ze($.pathname,t.basepath).split("/").every((ln,hn)=>ln===Z[hn]))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!pe(G.location.search,$.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?G.location.hash===$.hash:!0}}),H=x.useCallback(()=>{t.preloadRoute(N).catch(G=>{console.warn(G),console.warn(Vn)})},[N,t]),J=x.useCallback(G=>{G!=null&&G.isIntersecting&&H()},[H]);if(ti(o,J,{rootMargin:"100px"},{disabled:!!D||z!=="viewport"}),Te(()=>{i.current||!D&&z==="render"&&(H(),i.current=!0)},[D,H,z]),K==="external")return{...X,ref:o,type:K,href:l,...L&&{children:L},...C&&{target:C},...D&&{disabled:D},...k&&{style:k},...w&&{className:w},...E&&{onClick:E},...v&&{onFocus:v},...p&&{onMouseEnter:p},..._&&{onMouseLeave:_},...F&&{onTouchStart:F}};const et=G=>{if(!D&&!mi(G)&&!G.defaultPrevented&&(!C||C==="_self")&&G.button===0){G.preventDefault(),Hr.flushSync(()=>{n(!0)});const Z=t.subscribe("onResolved",()=>{Z(),n(!1)});return t.navigate({...N,replace:g,resetScroll:S,hashScrollIntoView:m,startTransition:y,viewTransition:b,ignoreBlocker:R})}},nt=G=>{D||z&&H()},Oe=nt,$t=G=>{if(D)return;const Z=G.target||{};if(z){if(Z.preloadTimeout)return;Z.preloadTimeout=setTimeout(()=>{Z.preloadTimeout=null,H()},W)}},ae=G=>{if(D)return;const Z=G.target||{};Z.preloadTimeout&&(clearTimeout(Z.preloadTimeout),Z.preloadTimeout=null)},_t=G=>Z=>{var us;(us=Z.persist)==null||us.call(Z),G.filter(Boolean).forEach(rr=>{Z.defaultPrevented||rr(Z)})},Ht=U?Gt(a,{})??{}:{},ce=U?{}:Gt(h,{}),er=[w,Ht.className,ce.className].filter(Boolean).join(" "),sr={...k,...Ht.style,...ce.style};return{...X,...Ht,...ce,href:D?void 0:$.maskedLocation?t.history.createHref($.maskedLocation.href):t.history.createHref($.href),ref:o,onClick:_t([E,et]),onFocus:_t([v,nt]),onMouseEnter:_t([p,$t]),onMouseLeave:_t([_,ae]),onTouchStart:_t([F,Oe]),disabled:!!D,target:C,...Object.keys(sr).length&&{style:sr},...er&&{className:er},...D&&{role:"link","aria-disabled":!0},...U&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function oo(s){return x.forwardRef(function(t,r){return I.jsx(Js,{...t,_asChild:s,ref:r})})}const Js=x.forwardRef((s,e)=>{const{_asChild:t,...r}=s,{type:n,ref:i,...o}=pi(r,e),a=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof t>"u"&&delete o.disabled,x.createElement(t||"a",{...o,ref:i},a)});function mi(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}class vi extends Kr{constructor(e){super(e),this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Gs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>zs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Hs({...t,from:this.id}),this.useLoaderData=t=>$s({...t,from:this.id}),this.useNavigate=()=>Ws({from:this.fullPath}),this.Link=jr.forwardRef((t,r)=>I.jsx(Js,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function yi(s){return new vi(s)}class gi extends Kn{constructor(e){super(e),this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Gs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>zs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Hs({...t,from:this.id}),this.useLoaderData=t=>$s({...t,from:this.id}),this.useNavigate=()=>Ws({from:this.fullPath}),this.Link=jr.forwardRef((t,r)=>I.jsx(Js,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function ao(s){return new gi(s)}function co(s){return new Si(s,{silent:!0}).createRoute}class Si{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const n=yi(r);return n.isRoot=!1,n},this.silent=t==null?void 0:t.silent}}class bi{constructor(e){this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Gs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>zs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>Hs({...t,from:this.options.id}),this.useLoaderData=t=>$s({...t,from:this.options.id}),this.useNavigate=()=>{const t=pt();return Ws({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function uo(s){return e=>new bi({id:s,...e})}const lo=s=>new wi(s);class wi extends Un{constructor(e){super(e)}}function _i({router:s,children:e,...t}){s.update({...s.options,...t,context:{...s.options.context,...t.context}});const r=$r(),n=I.jsx(r.Provider,{value:s,children:e});return s.options.Wrap?I.jsx(s.options.Wrap,{children:n}):n}function ho({router:s,...e}){return I.jsx(_i,{router:s,...e,children:I.jsx(hi,{})})}var Fe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ie=typeof window>"u"||"Deno"in globalThis;function ht(){}function Pi(s,e){return typeof s=="function"?s(e):s}function Es(s){return typeof s=="number"&&s>=0&&s!==1/0}function Wr(s,e){return Math.max(s+(e||0)-Date.now(),0)}function me(s,e){return typeof s=="function"?s(e):s}function wt(s,e){return typeof s=="function"?s(e):s}function gr(s,e){const{type:t="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:a}=s;if(o){if(r){if(e.queryHash!==Xs(o,e.options))return!1}else if(!Be(e.queryKey,o))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function Sr(s,e){const{exact:t,status:r,predicate:n,mutationKey:i}=s;if(i){if(!e.options.mutationKey)return!1;if(t){if(oe(e.options.mutationKey)!==oe(i))return!1}else if(!Be(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Xs(s,e){return((e==null?void 0:e.queryKeyHashFn)||oe)(s)}function oe(s){return JSON.stringify(s,(e,t)=>Fs(t)?Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}):t)}function Be(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Be(s[t],e[t])):!1}function Jr(s,e){if(s===e)return s;const t=br(s)&&br(e);if(t||Fs(s)&&Fs(e)){const r=t?s:Object.keys(s),n=r.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let h=0;for(let d=0;d<o;d++){const l=t?d:i[d];(!t&&r.includes(l)||t)&&s[l]===void 0&&e[l]===void 0?(a[l]=void 0,h++):(a[l]=Jr(s[l],e[l]),a[l]===s[l]&&s[l]!==void 0&&h++)}return n===o&&h===n?s:a}return e}function ns(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function br(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Fs(s){if(!wr(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!wr(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function wr(s){return Object.prototype.toString.call(s)==="[object Object]"}function Ri(s){return new Promise(e=>{setTimeout(e,s)})}function Os(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Jr(s,e):e}function Ci(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function xi(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var Ys=Symbol();function Xr(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===Ys?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Yr(s,e){return typeof s=="function"?s(...e):!!s}var Jt,Tt,ve,Mr,Mi=(Mr=class extends Fe{constructor(){super();O(this,Jt);O(this,Tt);O(this,ve);P(this,ve,e=>{if(!ie&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,Tt)||this.setEventListener(u(this,ve))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Tt))==null||e.call(this),P(this,Tt,void 0))}setEventListener(e){var t;P(this,ve,e),(t=u(this,Tt))==null||t.call(this),P(this,Tt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,Jt)!==e&&(P(this,Jt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,Jt)=="boolean"?u(this,Jt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jt=new WeakMap,Tt=new WeakMap,ve=new WeakMap,Mr),Zs=new Mi,ye,kt,ge,Lr,Li=(Lr=class extends Fe{constructor(){super();O(this,ye,!0);O(this,kt);O(this,ge);P(this,ge,e=>{if(!ie&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,kt)||this.setEventListener(u(this,ge))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,kt))==null||e.call(this),P(this,kt,void 0))}setEventListener(e){var t;P(this,ge,e),(t=u(this,kt))==null||t.call(this),P(this,kt,e(this.setOnline.bind(this)))}setOnline(e){u(this,ye)!==e&&(P(this,ye,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,ye)}},ye=new WeakMap,kt=new WeakMap,ge=new WeakMap,Lr),is=new Li;function Is(){let s,e;const t=new Promise((n,i)=>{s=n,e=i});t.status="pending",t.catch(()=>{});function r(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{r({status:"fulfilled",value:n}),s(n)},t.reject=n=>{r({status:"rejected",reason:n}),e(n)},t}function Ei(s){return Math.min(1e3*2**s,3e4)}function Zr(s){return(s??"online")==="online"?is.isOnline():!0}var tn=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Rs(s){return s instanceof tn}function en(s){let e=!1,t=0,r=!1,n;const i=Is(),o=y=>{var S;r||(f(new tn(y)),(S=s.abort)==null||S.call(s))},a=()=>{e=!0},h=()=>{e=!1},d=()=>Zs.isFocused()&&(s.networkMode==="always"||is.isOnline())&&s.canRun(),l=()=>Zr(s.networkMode)&&s.canRun(),c=y=>{var S;r||(r=!0,(S=s.onSuccess)==null||S.call(s,y),n==null||n(),i.resolve(y))},f=y=>{var S;r||(r=!0,(S=s.onError)==null||S.call(s,y),n==null||n(),i.reject(y))},m=()=>new Promise(y=>{var S;n=b=>{(r||d())&&y(b)},(S=s.onPause)==null||S.call(s)}).then(()=>{var y;n=void 0,r||(y=s.onContinue)==null||y.call(s)}),g=()=>{if(r)return;let y;const S=t===0?s.initialPromise:void 0;try{y=S??s.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(c).catch(b=>{var w;if(r)return;const L=s.retry??(ie?0:3),C=s.retryDelay??Ei,D=typeof C=="function"?C(t,b):C,k=L===!0||typeof L=="number"&&t<L||typeof L=="function"&&L(t,b);if(e||!k){f(b);return}t++,(w=s.onFail)==null||w.call(s,t,b),Ri(D).then(()=>d()?void 0:m()).then(()=>{e?f(b):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:h,canStart:l,start:()=>(l()?g():m().then(g),i)}}var Fi=s=>setTimeout(s,0);function Oi(){let s=[],e=0,t=a=>{a()},r=a=>{a()},n=Fi;const i=a=>{e?s.push(a):n(()=>{t(a)})},o=()=>{const a=s;s=[],a.length&&n(()=>{r(()=>{a.forEach(h=>{t(h)})})})};return{batch:a=>{let h;e++;try{h=a()}finally{e--,e||o()}return h},batchCalls:a=>(...h)=>{i(()=>{a(...h)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{n=a}}}var tt=Oi(),Xt,Er,sn=(Er=class{constructor(){O(this,Xt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Es(this.gcTime)&&P(this,Xt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(ie?1/0:5*60*1e3))}clearGcTimeout(){u(this,Xt)&&(clearTimeout(u(this,Xt)),P(this,Xt,void 0))}},Xt=new WeakMap,Er),Se,be,vt,Yt,it,Ne,Zt,gt,Mt,Fr,Ii=(Fr=class extends sn{constructor(e){super();O(this,gt);O(this,Se);O(this,be);O(this,vt);O(this,Yt);O(this,it);O(this,Ne);O(this,Zt);P(this,Zt,!1),P(this,Ne,e.defaultOptions),this.setOptions(e.options),this.observers=[],P(this,Yt,e.client),P(this,vt,u(this,Yt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,Se,Di(this.options)),this.state=e.state??u(this,Se),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,it))==null?void 0:e.promise}setOptions(e){this.options={...u(this,Ne),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,vt).remove(this)}setData(e,t){const r=Os(this.state.data,e,this.options);return T(this,gt,Mt).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){T(this,gt,Mt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,n;const t=(r=u(this,it))==null?void 0:r.promise;return(n=u(this,it))==null||n.cancel(e),t?t.then(ht).catch(ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Se))}isActive(){return this.observers.some(e=>wt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ys||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Wr(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,vt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,it)&&(u(this,Zt)?u(this,it).cancel({revert:!0}):u(this,it).cancelRetry()),this.scheduleGc()),u(this,vt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,gt,Mt).call(this,{type:"invalidate"})}fetch(e,t){var h,d,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,it))return u(this,it).continueRetry(),u(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(P(this,Zt,!0),r.signal)})},i=()=>{const c=Xr(this.options,t),f={client:u(this,Yt),queryKey:this.queryKey,meta:this.meta};return n(f),P(this,Zt,!1),this.options.persister?this.options.persister(c,f,this):c(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,Yt),state:this.state,fetchFn:i};n(o),(h=this.options.behavior)==null||h.onFetch(o,this),P(this,be,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&T(this,gt,Mt).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta});const a=c=>{var f,m,g,y;Rs(c)&&c.silent||T(this,gt,Mt).call(this,{type:"error",error:c}),Rs(c)||((m=(f=u(this,vt).config).onError)==null||m.call(f,c,this),(y=(g=u(this,vt).config).onSettled)==null||y.call(g,this.state.data,c,this)),this.scheduleGc()};return P(this,it,en({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{var f,m,g,y;if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(S){a(S);return}(m=(f=u(this,vt).config).onSuccess)==null||m.call(f,c,this),(y=(g=u(this,vt).config).onSettled)==null||y.call(g,c,this.state.error,this),this.scheduleGc()},onError:a,onFail:(c,f)=>{T(this,gt,Mt).call(this,{type:"failed",failureCount:c,error:f})},onPause:()=>{T(this,gt,Mt).call(this,{type:"pause"})},onContinue:()=>{T(this,gt,Mt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),u(this,it).start()}},Se=new WeakMap,be=new WeakMap,vt=new WeakMap,Yt=new WeakMap,it=new WeakMap,Ne=new WeakMap,Zt=new WeakMap,gt=new WeakSet,Mt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rn(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Rs(n)&&n.revert&&u(this,be)?{...u(this,be),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,vt).notify({query:this,type:"updated",action:e})})},Fr);function rn(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zr(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Di(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Pt,Or,Ti=(Or=class extends Fe{constructor(e={}){super();O(this,Pt);this.config=e,P(this,Pt,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??Xs(n,t);let o=this.get(i);return o||(o=new Ii({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){u(this,Pt).has(e.queryHash)||(u(this,Pt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,Pt).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,Pt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,Pt).get(e)}getAll(){return[...u(this,Pt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gr(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>gr(e,r)):t}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pt=new WeakMap,Or),Rt,ut,te,Ct,Dt,Ir,ki=(Ir=class extends sn{constructor(e){super();O(this,Ct);O(this,Rt);O(this,ut);O(this,te);this.mutationId=e.mutationId,P(this,ut,e.mutationCache),P(this,Rt,[]),this.state=e.state||nn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Rt).includes(e)||(u(this,Rt).push(e),this.clearGcTimeout(),u(this,ut).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,Rt,u(this,Rt).filter(t=>t!==e)),this.scheduleGc(),u(this,ut).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():u(this,ut).remove(this))}continue(){var e;return((e=u(this,te))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,h,d,l,c,f,m,g,y,S,b,L,C,D,k,w,E,v;const t=()=>{T(this,Ct,Dt).call(this,{type:"continue"})};P(this,te,en({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(p,_)=>{T(this,Ct,Dt).call(this,{type:"failed",failureCount:p,error:_})},onPause:()=>{T(this,Ct,Dt).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,ut).canRun(this)}));const r=this.state.status==="pending",n=!u(this,te).canStart();try{if(r)t();else{T(this,Ct,Dt).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(i=u(this,ut).config).onMutate)==null?void 0:o.call(i,e,this));const _=await((h=(a=this.options).onMutate)==null?void 0:h.call(a,e));_!==this.state.context&&T(this,Ct,Dt).call(this,{type:"pending",context:_,variables:e,isPaused:n})}const p=await u(this,te).start();return await((l=(d=u(this,ut).config).onSuccess)==null?void 0:l.call(d,p,e,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,p,e,this.state.context)),await((g=(m=u(this,ut).config).onSettled)==null?void 0:g.call(m,p,null,this.state.variables,this.state.context,this)),await((S=(y=this.options).onSettled)==null?void 0:S.call(y,p,null,e,this.state.context)),T(this,Ct,Dt).call(this,{type:"success",data:p}),p}catch(p){try{throw await((L=(b=u(this,ut).config).onError)==null?void 0:L.call(b,p,e,this.state.context,this)),await((D=(C=this.options).onError)==null?void 0:D.call(C,p,e,this.state.context)),await((w=(k=u(this,ut).config).onSettled)==null?void 0:w.call(k,void 0,p,this.state.variables,this.state.context,this)),await((v=(E=this.options).onSettled)==null?void 0:v.call(E,void 0,p,e,this.state.context)),p}finally{T(this,Ct,Dt).call(this,{type:"error",error:p})}}finally{u(this,ut).runNext(this)}}},Rt=new WeakMap,ut=new WeakMap,te=new WeakMap,Ct=new WeakSet,Dt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),tt.batch(()=>{u(this,Rt).forEach(r=>{r.onMutationUpdate(e)}),u(this,ut).notify({mutation:this,type:"updated",action:e})})},Ir);function nn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,St,Ue,Dr,Ai=(Dr=class extends Fe{constructor(e={}){super();O(this,Lt);O(this,St);O(this,Ue);this.config=e,P(this,Lt,new Set),P(this,St,new Map),P(this,Ue,0)}build(e,t,r){const n=new ki({mutationCache:this,mutationId:++Ve(this,Ue)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){u(this,Lt).add(e);const t=ze(e);if(typeof t=="string"){const r=u(this,St).get(t);r?r.push(e):u(this,St).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,Lt).delete(e)){const t=ze(e);if(typeof t=="string"){const r=u(this,St).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&u(this,St).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ze(e);if(typeof t=="string"){const r=u(this,St).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const t=ze(e);if(typeof t=="string"){const n=(r=u(this,St).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{u(this,Lt).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,Lt).clear(),u(this,St).clear()})}getAll(){return Array.from(u(this,Lt))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Sr(t,r))}findAll(e={}){return this.getAll().filter(t=>Sr(e,t))}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return tt.batch(()=>Promise.all(e.map(t=>t.continue().catch(ht))))}},Lt=new WeakMap,St=new WeakMap,Ue=new WeakMap,Dr);function ze(s){var e;return(e=s.options.scope)==null?void 0:e.id}function _r(s){return{onFetch:(e,t)=>{var l,c,f,m,g;const r=e.options,n=(f=(c=(l=e.fetchOptions)==null?void 0:l.meta)==null?void 0:c.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},h=0;const d=async()=>{let y=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=Xr(e.options,e.fetchOptions),L=async(C,D,k)=>{if(y)return Promise.reject();if(D==null&&C.pages.length)return Promise.resolve(C);const w={client:e.client,queryKey:e.queryKey,pageParam:D,direction:k?"backward":"forward",meta:e.options.meta};S(w);const E=await b(w),{maxPages:v}=e.options,p=k?xi:Ci;return{pages:p(C.pages,E,v),pageParams:p(C.pageParams,D,v)}};if(n&&i.length){const C=n==="backward",D=C?ji:Pr,k={pages:i,pageParams:o},w=D(r,k);a=await L(k,w,C)}else{const C=s??i.length;do{const D=h===0?o[0]??r.initialPageParam:Pr(r,a);if(h>0&&D==null)break;a=await L(a,D),h++}while(h<C)}return a};e.options.persister?e.fetchFn=()=>{var y,S;return(S=(y=e.options).persister)==null?void 0:S.call(y,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function Pr(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function ji(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var Y,At,jt,we,_e,Bt,Pe,Re,Tr,fo=(Tr=class{constructor(s={}){O(this,Y);O(this,At);O(this,jt);O(this,we);O(this,_e);O(this,Bt);O(this,Pe);O(this,Re);P(this,Y,s.queryCache||new Ti),P(this,At,s.mutationCache||new Ai),P(this,jt,s.defaultOptions||{}),P(this,we,new Map),P(this,_e,new Map),P(this,Bt,0)}mount(){Ve(this,Bt)._++,u(this,Bt)===1&&(P(this,Pe,Zs.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,Y).onFocus())})),P(this,Re,is.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,Y).onOnline())})))}unmount(){var s,e;Ve(this,Bt)._--,u(this,Bt)===0&&((s=u(this,Pe))==null||s.call(this),P(this,Pe,void 0),(e=u(this,Re))==null||e.call(this),P(this,Re,void 0))}isFetching(s){return u(this,Y).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return u(this,At).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,Y).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=u(this,Y).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(me(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return u(this,Y).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),n=u(this,Y).get(r.queryHash),i=n==null?void 0:n.state.data,o=Pi(e,i);if(o!==void 0)return u(this,Y).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return tt.batch(()=>u(this,Y).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,Y).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=u(this,Y);tt.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=u(this,Y);return tt.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=tt.batch(()=>u(this,Y).findAll(s).map(n=>n.cancel(t)));return Promise.all(r).then(ht).catch(ht)}invalidateQueries(s,e={}){return tt.batch(()=>(u(this,Y).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=tt.batch(()=>u(this,Y).findAll(s).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(ht)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ht)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=u(this,Y).build(this,e);return t.isStaleByTime(me(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(ht).catch(ht)}fetchInfiniteQuery(s){return s.behavior=_r(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(ht).catch(ht)}ensureInfiniteQueryData(s){return s.behavior=_r(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return is.isOnline()?u(this,At).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,Y)}getMutationCache(){return u(this,At)}getDefaultOptions(){return u(this,jt)}setDefaultOptions(s){P(this,jt,s)}setQueryDefaults(s,e){u(this,we).set(oe(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...u(this,we).values()],t={};return e.forEach(r=>{Be(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){u(this,_e).set(oe(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...u(this,_e).values()],t={};return e.forEach(r=>{Be(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...u(this,jt).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Xs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ys&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...u(this,jt).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){u(this,Y).clear(),u(this,At).clear()}},Y=new WeakMap,At=new WeakMap,jt=new WeakMap,we=new WeakMap,_e=new WeakMap,Bt=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Tr),dt,j,qe,lt,ee,Ce,Nt,Ut,Qe,xe,Me,se,re,qt,Le,q,ke,Ds,Ts,ks,As,js,Bs,Ns,on,kr,Bi=(kr=class extends Fe{constructor(e,t){super();O(this,q);O(this,dt);O(this,j);O(this,qe);O(this,lt);O(this,ee);O(this,Ce);O(this,Nt);O(this,Ut);O(this,Qe);O(this,xe);O(this,Me);O(this,se);O(this,re);O(this,qt);O(this,Le,new Set);this.options=t,P(this,dt,e),P(this,Ut,null),P(this,Nt,Is()),this.options.experimental_prefetchInRender||u(this,Nt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,j).addObserver(this),Rr(u(this,j),this.options)?T(this,q,ke).call(this):this.updateResult(),T(this,q,As).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Us(u(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Us(u(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,q,js).call(this),T(this,q,Bs).call(this),u(this,j).removeObserver(this)}setOptions(e){const t=this.options,r=u(this,j);if(this.options=u(this,dt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wt(this.options.enabled,u(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,q,Ns).call(this),u(this,j).setOptions(this.options),t._defaulted&&!ns(this.options,t)&&u(this,dt).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,j),observer:this});const n=this.hasListeners();n&&Cr(u(this,j),r,this.options,t)&&T(this,q,ke).call(this),this.updateResult(),n&&(u(this,j)!==r||wt(this.options.enabled,u(this,j))!==wt(t.enabled,u(this,j))||me(this.options.staleTime,u(this,j))!==me(t.staleTime,u(this,j)))&&T(this,q,Ds).call(this);const i=T(this,q,Ts).call(this);n&&(u(this,j)!==r||wt(this.options.enabled,u(this,j))!==wt(t.enabled,u(this,j))||i!==u(this,qt))&&T(this,q,ks).call(this,i)}getOptimisticResult(e){const t=u(this,dt).getQueryCache().build(u(this,dt),e),r=this.createResult(t,e);return Ui(this,r)&&(P(this,lt,r),P(this,Ce,this.options),P(this,ee,u(this,j).state)),r}getCurrentResult(){return u(this,lt)}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t==null||t(n),Reflect.get(r,n))})}trackProp(e){u(this,Le).add(e)}getCurrentQuery(){return u(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=u(this,dt).defaultQueryOptions(e),r=u(this,dt).getQueryCache().build(u(this,dt),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return T(this,q,ke).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,lt)))}createResult(e,t){var p;const r=u(this,j),n=this.options,i=u(this,lt),o=u(this,ee),a=u(this,Ce),d=e!==r?e.state:u(this,qe),{state:l}=e;let c={...l},f=!1,m;if(t._optimisticResults){const _=this.hasListeners(),F=!_&&Rr(e,t),R=_&&Cr(e,r,t,n);(F||R)&&(c={...c,...rn(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:S}=c;m=c.data;let b=!1;if(t.placeholderData!==void 0&&m===void 0&&S==="pending"){let _;i!=null&&i.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(_=i.data,b=!0):_=typeof t.placeholderData=="function"?t.placeholderData((p=u(this,Me))==null?void 0:p.state.data,u(this,Me)):t.placeholderData,_!==void 0&&(S="success",m=Os(i==null?void 0:i.data,_,t),f=!0)}if(t.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&t.select===u(this,Qe))m=u(this,xe);else try{P(this,Qe,t.select),m=t.select(m),m=Os(i==null?void 0:i.data,m,t),P(this,xe,m),P(this,Ut,null)}catch(_){P(this,Ut,_)}u(this,Ut)&&(g=u(this,Ut),m=u(this,xe),y=Date.now(),S="error");const L=c.fetchStatus==="fetching",C=S==="pending",D=S==="error",k=C&&L,w=m!==void 0,v={status:S,fetchStatus:c.fetchStatus,isPending:C,isSuccess:S==="success",isError:D,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:c.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>d.dataUpdateCount||c.errorUpdateCount>d.errorUpdateCount,isFetching:L,isRefetching:L&&!C,isLoadingError:D&&!w,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:D&&w,isStale:tr(e,t),refetch:this.refetch,promise:u(this,Nt)};if(this.options.experimental_prefetchInRender){const _=M=>{v.status==="error"?M.reject(v.error):v.data!==void 0&&M.resolve(v.data)},F=()=>{const M=P(this,Nt,v.promise=Is());_(M)},R=u(this,Nt);switch(R.status){case"pending":e.queryHash===r.queryHash&&_(R);break;case"fulfilled":(v.status==="error"||v.data!==R.value)&&F();break;case"rejected":(v.status!=="error"||v.error!==R.reason)&&F();break}}return v}updateResult(){const e=u(this,lt),t=this.createResult(u(this,j),this.options);if(P(this,ee,u(this,j).state),P(this,Ce,this.options),u(this,ee).data!==void 0&&P(this,Me,u(this,j)),ns(t,e))return;P(this,lt,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!u(this,Le).size)return!0;const o=new Set(i??u(this,Le));return this.options.throwOnError&&o.add("error"),Object.keys(u(this,lt)).some(a=>{const h=a;return u(this,lt)[h]!==e[h]&&o.has(h)})};T(this,q,on).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,q,As).call(this)}},dt=new WeakMap,j=new WeakMap,qe=new WeakMap,lt=new WeakMap,ee=new WeakMap,Ce=new WeakMap,Nt=new WeakMap,Ut=new WeakMap,Qe=new WeakMap,xe=new WeakMap,Me=new WeakMap,se=new WeakMap,re=new WeakMap,qt=new WeakMap,Le=new WeakMap,q=new WeakSet,ke=function(e){T(this,q,Ns).call(this);let t=u(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ht)),t},Ds=function(){T(this,q,js).call(this);const e=me(this.options.staleTime,u(this,j));if(ie||u(this,lt).isStale||!Es(e))return;const r=Wr(u(this,lt).dataUpdatedAt,e)+1;P(this,se,setTimeout(()=>{u(this,lt).isStale||this.updateResult()},r))},Ts=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,j)):this.options.refetchInterval)??!1},ks=function(e){T(this,q,Bs).call(this),P(this,qt,e),!(ie||wt(this.options.enabled,u(this,j))===!1||!Es(u(this,qt))||u(this,qt)===0)&&P(this,re,setInterval(()=>{(this.options.refetchIntervalInBackground||Zs.isFocused())&&T(this,q,ke).call(this)},u(this,qt)))},As=function(){T(this,q,Ds).call(this),T(this,q,ks).call(this,T(this,q,Ts).call(this))},js=function(){u(this,se)&&(clearTimeout(u(this,se)),P(this,se,void 0))},Bs=function(){u(this,re)&&(clearInterval(u(this,re)),P(this,re,void 0))},Ns=function(){const e=u(this,dt).getQueryCache().build(u(this,dt),this.options);if(e===u(this,j))return;const t=u(this,j);P(this,j,e),P(this,qe,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},on=function(e){tt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(u(this,lt))}),u(this,dt).getQueryCache().notify({query:u(this,j),type:"observerResultsUpdated"})})},kr);function Ni(s,e){return wt(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Rr(s,e){return Ni(s,e)||s.state.data!==void 0&&Us(s,e,e.refetchOnMount)}function Us(s,e,t){if(wt(e.enabled,s)!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&tr(s,e)}return!1}function Cr(s,e,t,r){return(s!==e||wt(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&tr(s,t)}function tr(s,e){return wt(e.enabled,s)!==!1&&s.isStaleByTime(me(e.staleTime,s))}function Ui(s,e){return!ns(s.getCurrentResult(),e)}var Qt,Vt,ft,Et,It,Je,qs,Ar,qi=(Ar=class extends Fe{constructor(e,t){super();O(this,It);O(this,Qt);O(this,Vt);O(this,ft);O(this,Et);P(this,Qt,e),this.setOptions(t),this.bindMethods(),T(this,It,Je).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const t=this.options;this.options=u(this,Qt).defaultMutationOptions(e),ns(this.options,t)||u(this,Qt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,ft),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&oe(t.mutationKey)!==oe(this.options.mutationKey)?this.reset():((r=u(this,ft))==null?void 0:r.state.status)==="pending"&&u(this,ft).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=u(this,ft))==null||e.removeObserver(this)}onMutationUpdate(e){T(this,It,Je).call(this),T(this,It,qs).call(this,e)}getCurrentResult(){return u(this,Vt)}reset(){var e;(e=u(this,ft))==null||e.removeObserver(this),P(this,ft,void 0),T(this,It,Je).call(this),T(this,It,qs).call(this)}mutate(e,t){var r;return P(this,Et,t),(r=u(this,ft))==null||r.removeObserver(this),P(this,ft,u(this,Qt).getMutationCache().build(u(this,Qt),this.options)),u(this,ft).addObserver(this),u(this,ft).execute(e)}},Qt=new WeakMap,Vt=new WeakMap,ft=new WeakMap,Et=new WeakMap,It=new WeakSet,Je=function(){var t;const e=((t=u(this,ft))==null?void 0:t.state)??nn();P(this,Vt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},qs=function(e){tt.batch(()=>{var t,r,n,i,o,a,h,d;if(u(this,Et)&&this.hasListeners()){const l=u(this,Vt).variables,c=u(this,Vt).context;(e==null?void 0:e.type)==="success"?((r=(t=u(this,Et)).onSuccess)==null||r.call(t,e.data,l,c),(i=(n=u(this,Et)).onSettled)==null||i.call(n,e.data,null,l,c)):(e==null?void 0:e.type)==="error"&&((a=(o=u(this,Et)).onError)==null||a.call(o,e.error,l,c),(d=(h=u(this,Et)).onSettled)==null||d.call(h,void 0,e.error,l,c))}this.listeners.forEach(l=>{l(u(this,Vt))})})},Ar),an=x.createContext(void 0),cn=s=>{const e=x.useContext(an);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},po=({client:s,children:e})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),I.jsx(an.Provider,{value:s,children:e})),un=x.createContext(!1),Qi=()=>x.useContext(un);un.Provider;function Vi(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Ki=x.createContext(Vi()),$i=()=>x.useContext(Ki),Hi=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},zi=s=>{x.useEffect(()=>{s.clearReset()},[s])},Gi=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:n})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(n&&s.data===void 0||Yr(t,[s.error,r])),Wi=s=>{const e=s.staleTime;s.suspense&&(s.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},Ji=(s,e)=>s.isLoading&&s.isFetching&&!e,Xi=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,xr=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Yi(s,e,t){var c,f,m,g,y;const r=cn(),n=Qi(),i=$i(),o=r.defaultQueryOptions(s);(f=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,o),o._optimisticResults=n?"isRestoring":"optimistic",Wi(o),Hi(o,i),zi(i);const a=!r.getQueryCache().get(o.queryHash),[h]=x.useState(()=>new e(r,o)),d=h.getOptimisticResult(o),l=!n&&s.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const b=l?h.subscribe(tt.batchCalls(S)):ht;return h.updateResult(),b},[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(o)},[o,h]),Xi(o,d))throw xr(o,h,i);if(Gi({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,d),o.experimental_prefetchInRender&&!ie&&Ji(d,n)){const S=a?xr(o,h,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;S==null||S.catch(ht).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?d:h.trackResult(d)}function mo(s,e){return Yi(s,Bi)}function vo(s,e){const t=cn(),[r]=x.useState(()=>new qi(t,s));x.useEffect(()=>{r.setOptions(s)},[r,s]);const n=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(tt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,a)=>{r.mutate(o,a).catch(ht)},[r]);if(n.error&&Yr(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}export{ro as N,li as O,fo as Q,no as R,mo as a,vo as b,oo as c,ao as d,po as e,co as f,io as g,so as h,lo as i,I as j,ho as k,uo as l,Gs as m,Ws as n,zs as o,Hr as r,cn as u};
