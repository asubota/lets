import{j as t,k as S,m as j}from"./tanstack-BOdhr6Pk.js";import{r as v}from"./react-BtIrUdbE.js";import{u as I,a as A,g as k,b as w,f as D,c as b,d as a,e as d,i as N,M as C}from"./index-CZ-IzuVS.js";import"./html2canvas-BfYXEYrK.js";import{a as E,B as s,H as h,g as $,l as M,b as p}from"./mui-CnM2NOip.js";const B=E(t.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2M4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12m8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8"}),"DoNotDisturbAlt"),G=()=>t.jsx(s,{sx:{color:"text.secondary",typography:"h4",textAlign:"center",mt:6},children:t.jsx(B,{sx:{fontSize:"140px",color:"text.secondary"}})}),R=()=>{const i=I(),{mutate:u}=A(),g=S(),c=()=>g({to:"/"}),m=k(),l=w(),y=D(new Date(+l)),r=b.auth2.getAuthInstance(),x=r.currentUser.get(),f=x.isSignedIn();return v.useEffect(()=>{const e=r.currentUser.get();a(`user: ${e?"yes":"no"} | isSignedIn: ${e.isSignedIn()?"yes":"no"}`),e&&!e.isSignedIn()&&r.currentUser.get().reloadAuthResponse().then(o=>{a(`good ${o.access_token}`)}).catch(o=>{o.type==="noSessionBound"&&(d(`noSessionBound: ${JSON.stringify(o)}`),N().then(n=>{a(`got new token: ${n}`)}).catch(n=>{d(`e: ${JSON.stringify(n)}`)}))})},[r.currentUser]),t.jsxs(C,{open:!0,title:"",onSave:c,onClose:c,hasSave:!1,children:[t.jsxs(h,{sx:{p:3,m:3},children:[t.jsxs(s,{children:["token: ",m]}),t.jsxs(s,{children:["expiry: ",l]}),t.jsxs(s,{children:["expiryDate: ",y]}),t.jsxs(s,{children:["isSignedIn: ",f?"yes":"no"]}),t.jsxs(s,{children:["user: ",x?"yes":"no"]})]}),i.length===0&&t.jsx(G,{}),i.length>0&&t.jsx($,{sx:{p:4,width:"100vw",maxWidth:"600px",margin:"0 auto"},spacing:2,children:i.map(e=>t.jsxs(h,{sx:{".MuiAlert-action":{p:0,pl:1,alignItems:"center"}},severity:"warning",variant:"outlined",action:t.jsx(M,{size:"small",checked:!e.read,onChange:(o,n)=>{u({favoriteId:e.favoriteId,read:!n})}}),children:[t.jsx(s,{component:p,variant:"body2",sx:{color:"text.primary"},children:e.title}),t.jsx(s,{component:p,variant:"caption",sx:{color:"text.primary"},children:e.body})]},e.body))})]})},F=j("/notifications")({component:R});export{F as Route};
