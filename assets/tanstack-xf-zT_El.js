var nr=s=>{throw TypeError(s)};var ds=(s,e,t)=>e.has(s)||nr("Cannot "+t);var u=(s,e,t)=>(ds(s,e,"read from private field"),t?t.call(s):e.get(s)),I=(s,e,t)=>e.has(s)?nr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),P=(s,e,t,r)=>(ds(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),k=(s,e,t)=>(ds(s,e,"access private method"),t);var He=(s,e,t,r)=>({set _(n){P(s,e,n,t)},get _(){return u(s,e,r)}});import{r as x}from"./reactColor-BcPjYmR6.js";import{r as jr,g as dn,a as fn}from"./react-Csw2ODfV.js";var fs={exports:{}},De={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir;function pn(){if(ir)return De;ir=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var c in n)c!=="key"&&(i[c]=n[c])}else i=n;return n=i.ref,{$$typeof:s,type:r,key:o,ref:n!==void 0?n:null,props:i}}return De.Fragment=e,De.jsx=t,De.jsxs=t,De}var or;function mn(){return or||(or=1,fs.exports=pn()),fs.exports}var D=mn(),vn="Invariant failed";function Ot(s,e){if(!s)throw new Error(vn)}const pe=new WeakMap,Xe=new WeakMap,ts={current:[]};let ps=!1,je=0;const Te=new Set,ze=new Map;function Br(s){const e=Array.from(s).sort((t,r)=>t instanceof me&&t.options.deps.includes(r)?1:r instanceof me&&r.options.deps.includes(t)?-1:0);for(const t of e){if(ts.current.includes(t))continue;ts.current.push(t),t.recompute();const r=Xe.get(t);if(r)for(const n of r){const i=pe.get(n);i&&Br(i)}}}function yn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function gn(s){s.listeners.forEach(e=>e({prevVal:s.prevState,currentVal:s.state}))}function Nr(s){if(je>0&&!ze.has(s)&&ze.set(s,s.prevState),Te.add(s),!(je>0)&&!ps)try{for(ps=!0;Te.size>0;){const e=Array.from(Te);Te.clear();for(const t of e){const r=ze.get(t)??t.prevState;t.prevState=r,yn(t)}for(const t of e){const r=pe.get(t);r&&(ts.current.push(t),Br(r))}for(const t of e){const r=pe.get(t);if(r)for(const n of r)gn(n)}}}finally{ps=!1,ts.current=[],ze.clear()}}function ms(s){je++;try{s()}finally{if(je--,je===0){const e=Array.from(Te)[0];e&&Nr(e)}}}class Ms{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var n,i,o;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),Nr(this)},this.prevState=e,this.state=e,this.options=t}}class me{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const n of this.options.deps)t.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:i,prevVal:o}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof me&&i.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let i=0;i<n.length;i++)if(n[i]!==r[i]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,n;this.listeners.add(t);const i=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,t,this);return()=>{this.listeners.delete(t),i==null||i()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof me)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Ms){let r=pe.get(t);r||(r=new Set,pe.set(t,r)),r.add(this);let n=Xe.get(this);n||(n=new Set,Xe.set(this,n)),n.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof me)this.unregisterFromGraph(t.options.deps);else if(t instanceof Ms){const r=pe.get(t);r&&r.delete(this);const n=Xe.get(this);n&&n.delete(t)}}}const $t="__TSR_index",ar="popstate",cr="beforeunload";function Ur(s){let e=s.getLocation();const t=new Set,r=o=>{e=s.getLocation(),t.forEach(c=>c({location:e,action:o}))},n=o=>{s.notifyOnIndexChange??!0?r(o):e=s.getLocation()},i=async({task:o,navigateOpts:c,...h})=>{var d,l;if((c==null?void 0:c.ignoreBlocker)??!1){o();return}const f=((d=s.getBlockers)==null?void 0:d.call(s))??[],v=h.type==="PUSH"||h.type==="REPLACE";if(typeof document<"u"&&f.length&&v)for(const g of f){const y=Be(h.path,h.state);if(await g.blockerFn({currentLocation:e,nextLocation:y,action:h.type})){(l=s.onBlocked)==null||l.call(s);return}}o()};return{get location(){return e},get length(){return s.getLength()},subscribers:t,subscribe:o=>(t.add(o),()=>{t.delete(o)}),push:(o,c,h)=>{const d=e.state[$t];c=Es(d+1,c),i({task:()=>{s.pushState(o,c),r({type:"PUSH"})},navigateOpts:h,type:"PUSH",path:o,state:c})},replace:(o,c,h)=>{const d=e.state[$t];c=Es(d,c),i({task:()=>{s.replaceState(o,c),r({type:"REPLACE"})},navigateOpts:h,type:"REPLACE",path:o,state:c})},go:(o,c)=>{i({task:()=>{s.go(o),n({type:"GO",index:o})},navigateOpts:c,type:"GO"})},back:o=>{i({task:()=>{s.back((o==null?void 0:o.ignoreBlocker)??!1),n({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{s.forward((o==null?void 0:o.ignoreBlocker)??!1),n({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[$t]!==0,createHref:o=>s.createHref(o),block:o=>{var c;if(!s.setBlockers)return()=>{};const h=((c=s.getBlockers)==null?void 0:c.call(s))??[];return s.setBlockers([...h,o]),()=>{var d,l;const a=((d=s.getBlockers)==null?void 0:d.call(s))??[];(l=s.setBlockers)==null||l.call(s,a.filter(f=>f!==o))}},flush:()=>{var o;return(o=s.flush)==null?void 0:o.call(s)},destroy:()=>{var o;return(o=s.destroy)==null?void 0:o.call(s)},notify:r}}function Es(s,e){return e||(e={}),{...e,key:$s(),[$t]:s}}function Sn(s){var e;const t=typeof document<"u"?window:void 0,r=t.history.pushState,n=t.history.replaceState;let i=[];const o=()=>i,c=p=>i=p,h=p=>p,d=()=>Be(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);(e=t.history.state)!=null&&e.key||t.history.replaceState({[$t]:0,key:$s()},"");let l=d(),a,f=!1,v=!1,g=!1,y=!1;const S=()=>l;let b,E;const R=()=>{b&&(m._ignoreSubscribers=!0,(b.isPush?t.history.pushState:t.history.replaceState)(b.state,"",b.href),m._ignoreSubscribers=!1,b=void 0,E=void 0,a=void 0)},O=(p,w,F)=>{const C=h(w);E||(a=l),l=Be(w,F),b={href:C,state:F,isPush:(b==null?void 0:b.isPush)||p==="push"},E||(E=Promise.resolve().then(()=>R()))},T=p=>{l=d(),m.notify({type:p})},_=async()=>{if(v){v=!1;return}const p=d(),w=p.state[$t]-l.state[$t],F=w===1,C=w===-1,M=!F&&!C||f;f=!1;const q=M?"GO":C?"BACK":"FORWARD",A=M?{type:"GO",index:w}:{type:C?"BACK":"FORWARD"};if(g)g=!1;else{const B=o();if(typeof document<"u"&&B.length){for(const Q of B)if(await Q.blockerFn({currentLocation:l,nextLocation:p,action:q})){v=!0,t.history.go(1),m.notify(A);return}}}l=d(),m.notify(A)},L=p=>{if(y){y=!1;return}let w=!1;const F=o();if(typeof document<"u"&&F.length)for(const C of F){const M=C.enableBeforeUnload??!0;if(M===!0){w=!0;break}if(typeof M=="function"&&M()===!0){w=!0;break}}if(w)return p.preventDefault(),p.returnValue=""},m=Ur({getLocation:S,getLength:()=>t.history.length,pushState:(p,w)=>O("push",p,w),replaceState:(p,w)=>O("replace",p,w),back:p=>(p&&(g=!0),y=!0,t.history.back()),forward:p=>{p&&(g=!0),y=!0,t.history.forward()},go:p=>{f=!0,t.history.go(p)},createHref:p=>h(p),flush:R,destroy:()=>{t.history.pushState=r,t.history.replaceState=n,t.removeEventListener(cr,L,{capture:!0}),t.removeEventListener(ar,_)},onBlocked:()=>{a&&l!==a&&(l=a)},getBlockers:o,setBlockers:c,notifyOnIndexChange:!1});return t.addEventListener(cr,L,{capture:!0}),t.addEventListener(ar,_),t.history.pushState=function(...p){const w=r.apply(t.history,p);return m._ignoreSubscribers||T("PUSH"),w},t.history.replaceState=function(...p){const w=n.apply(t.history,p);return m._ignoreSubscribers||T("REPLACE"),w},m}function bn(s={initialEntries:["/"]}){const e=s.initialEntries;let t=s.initialIndex?Math.min(Math.max(s.initialIndex,0),e.length-1):e.length-1;const r=e.map((i,o)=>Es(o,void 0));return Ur({getLocation:()=>Be(e[t],r[t]),getLength:()=>e.length,pushState:(i,o)=>{t<e.length-1&&(e.splice(t+1),r.splice(t+1)),r.push(o),e.push(i),t=Math.max(e.length-1,0)},replaceState:(i,o)=>{r[t]=o,e[t]=i},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,e.length-1)},go:i=>{t=Math.min(Math.max(t+i,0),e.length-1)},createHref:i=>i})}function Be(s,e){const t=s.indexOf("#"),r=s.indexOf("?");return{href:s,pathname:s.substring(0,t>0?r>0?Math.min(t,r):t:r>0?r:s.length),hash:t>-1?s.substring(t):"",search:r>-1?s.slice(r,t===-1?void 0:t):"",state:e||{[$t]:0,key:$s()}}}function $s(){return(Math.random()+1).toString(36).substring(7)}function de(s){return s[s.length-1]}function _n(s){return typeof s=="function"}function Jt(s,e){return _n(s)?s(e):s}function Ls(s,e){return e.reduce((t,r)=>(t[r]=s[r],t),{})}function pt(s,e){if(s===e)return s;const t=e,r=lr(s)&&lr(t);if(r||es(s)&&es(t)){const n=r?s:Object.keys(s),i=n.length,o=r?t:Object.keys(t),c=o.length,h=r?[]:{};let d=0;for(let l=0;l<c;l++){const a=r?l:o[l];(!r&&n.includes(a)||r)&&s[a]===void 0&&t[a]===void 0?(h[a]=void 0,d++):(h[a]=pt(s[a],t[a]),h[a]===s[a]&&s[a]!==void 0&&d++)}return i===c&&d===i?s:h}return t}function es(s){if(!ur(s))return!1;const e=s.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!ur(t)||!t.hasOwnProperty("isPrototypeOf"))}function ur(s){return Object.prototype.toString.call(s)==="[object Object]"}function lr(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function hr(s,e){let t=Object.keys(s);return e&&(t=t.filter(r=>s[r]!==void 0)),t}function ve(s,e,t){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(es(s)&&es(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0,n=hr(s,r),i=hr(e,r);return!(t!=null&&t.partial)&&n.length!==i.length?!1:i.every(o=>ve(s[o],e[o],t))}return Array.isArray(s)&&Array.isArray(e)?s.length!==e.length?!1:!s.some((r,n)=>!ve(r,e[n],t)):!1}function he(s){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),s==null||s(n)},r.reject=n=>{r.status="rejected",t(n)},r}function wn(s){return/%[0-9A-Fa-f]{2}/.test(s)}function It(s){return us(s.filter(e=>e!==void 0).join("/"))}function us(s){return s.replace(/\/{2,}/g,"/")}function Hs(s){return s==="/"?s:s.replace(/^\/{1,}/,"")}function Xt(s){return s==="/"?s:s.replace(/\/{1,}$/,"")}function Pn(s){return Xt(Hs(s))}function ss(s,e){return s!=null&&s.endsWith("/")&&s!=="/"&&s!==`${e}/`?s.slice(0,-1):s}function Rn(s,e,t){return ss(s,t)===ss(e,t)}function Cn({basepath:s,base:e,to:t,trailingSlash:r="never",caseSensitive:n}){var i,o;e=rs(s,e,n),t=rs(s,t,n);let c=Oe(e);const h=Oe(t);c.length>1&&((i=de(c))==null?void 0:i.value)==="/"&&c.pop(),h.forEach((l,a)=>{l.value==="/"?a?a===h.length-1&&c.push(l):c=[l]:l.value===".."?c.pop():l.value==="."||c.push(l)}),c.length>1&&(((o=de(c))==null?void 0:o.value)==="/"?r==="never"&&c.pop():r==="always"&&c.push({type:"pathname",value:"/"}));const d=It([s,...c.map(l=>l.value)]);return us(d)}function Oe(s){if(!s)return[];s=us(s);const e=[];if(s.slice(0,1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),!s)return e;const t=s.split("/").filter(Boolean);return e.push(...t.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(n=>decodeURI(n)).join("%25"):decodeURI(r)})),s.slice(-1)==="/"&&(s=s.substring(1),e.push({type:"pathname",value:"/"})),e}function Ge({path:s,params:e,leaveWildcards:t,leaveParams:r,decodeCharMap:n}){const i=Oe(s);function o(l){const a=e[l],f=typeof a=="string";return["*","_splat"].includes(l)?f?encodeURI(a):a:f?xn(a,n):a}let c=!1;const h={},d=It(i.map(l=>{if(l.type==="wildcard"){h._splat=e._splat;const a=o("_splat");return t?`${l.value}${a??""}`:a}if(l.type==="param"){const a=l.value.substring(1);if(!c&&!(a in e)&&(c=!0),h[a]=e[a],r){const f=o(l.value);return`${l.value}${f??""}`}return o(a)??"undefined"}return l.value}));return{usedParams:h,interpolatedPath:d,isMissingParams:c}}function xn(s,e){let t=encodeURIComponent(s);if(e)for(const[r,n]of e)t=t.replaceAll(r,n);return t}function We(s,e,t){const r=Mn(s,e,t);if(!(t.to&&!r))return r??{}}function rs(s,e,t=!1){const r=t?s:s.toLowerCase(),n=t?e:e.toLowerCase();switch(!0){case r==="/":return e;case n===r:return"";case e.length<s.length:return e;case n[r.length]!=="/":return e;case n.startsWith(r):return e.slice(s.length);default:return e}}function Mn(s,e,t){if(s!=="/"&&!e.startsWith(s))return;e=rs(s,e,t.caseSensitive);const r=rs(s,`${t.to??"$"}`,t.caseSensitive),n=Oe(e),i=Oe(r);e.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let h=0;h<Math.max(n.length,i.length);h++){const d=n[h],l=i[h],a=h>=n.length-1,f=h>=i.length-1;if(l){if(l.type==="wildcard"){const v=decodeURI(It(n.slice(h).map(g=>g.value)));return o["*"]=v,o._splat=v,!0}if(l.type==="pathname"){if(l.value==="/"&&!(d!=null&&d.value))return!0;if(d){if(t.caseSensitive){if(l.value!==d.value)return!1}else if(l.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(l.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[l.value.substring(1)]=decodeURIComponent(d.value))}}if(!a&&f)return o["**"]=It(n.slice(h+1).map(v=>v.value)),!!t.fuzzy&&(l==null?void 0:l.value)!=="/"}return!0})()?o:void 0}function vt(s){return!!(s!=null&&s.isNotFound)}const ns="tsr-scroll-restoration-v1_3";let qr=!1;try{qr=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const En=(s,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{s(...r),t=null},e))}},fe=qr?{state:JSON.parse(window.sessionStorage.getItem(ns)||"null")||{},set:e=>(fe.state=Jt(e,fe.state)||fe.state,window.sessionStorage.setItem(ns,JSON.stringify(fe.state)))}:void 0,Fs=s=>s.state.key||s.href;function Ln(s){const e=[];let t;for(;t=s.parentNode;)e.unshift(`${s.tagName}:nth-child(${[].indexOf.call(t.children,s)+1})`),s=t;return`${e.join(" > ")}`.toLowerCase()}let is=!1;function Qr(s,e,t,r,n){var i;let o;try{o=JSON.parse(sessionStorage.getItem(s)||"{}")}catch(d){console.error(d);return}const c=e||((i=window.history.state)==null?void 0:i.key),h=o[c];is=!0,(()=>{if(r&&h){for(const l in h){const a=h[l];if(l==="window")window.scrollTo({top:a.scrollY,left:a.scrollX,behavior:t});else if(l){const f=document.querySelector(l);f&&(f.scrollLeft=a.scrollX,f.scrollTop=a.scrollY)}}return}const d=window.location.hash.split("#")[1];if(d){const l=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(l){const a=document.getElementById(d);a&&a.scrollIntoView(l)}return}["window",...(n==null?void 0:n.filter(l=>l!=="window"))??[]].forEach(l=>{const a=l==="window"?window:document.querySelector(l);a&&a.scrollTo({top:0,left:0,behavior:t})})})(),is=!1}function Fn(s,e){if((s.options.scrollRestoration??!1)&&(s.isScrollRestoring=!0),typeof document>"u"||s.isScrollRestorationSetup)return;s.isScrollRestorationSetup=!0,is=!1;const r=s.options.getScrollRestorationKey||Fs;window.history.scrollRestoration="manual";const n=i=>{if(is||!s.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const h=i.target.getAttribute("data-scroll-restoration-id");h?o=`[data-scroll-restoration-id="${h}"]`:o=Ln(i.target)}const c=r(s.state.location);fe.set(h=>{const d=h[c]=h[c]||{},l=d[o]=d[o]||{};if(o==="window")l.scrollX=window.scrollX||0,l.scrollY=window.scrollY||0;else if(o){const a=document.querySelector(o);a&&(l.scrollX=a.scrollLeft||0,l.scrollY=a.scrollTop||0)}return h})};typeof document<"u"&&document.addEventListener("scroll",En(n,100),!0),s.subscribe("onRendered",i=>{const o=r(i.toLocation);if(!s.resetNextScroll){s.resetNextScroll=!0;return}Qr(ns,o,s.options.scrollRestorationBehavior||void 0,s.isScrollRestoring||void 0,s.options.scrollToTopSelectors||void 0),s.isScrollRestoring&&fe.set(c=>(c[o]=c[o]||{},c))})}function On(s){if(typeof document<"u"&&document.querySelector){const e=s.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&s.state.location.hash!==""){const t=document.getElementById(s.state.location.hash);t&&t.scrollIntoView(e)}}}function In(s,e){const t=Object.entries(s).flatMap(([n,i])=>Array.isArray(i)?i.map(o=>[n,String(o)]):[[n,String(i)]]);return""+new URLSearchParams(t).toString()}function vs(s){if(!s)return"";const e=wn(s)?decodeURIComponent(s):decodeURIComponent(encodeURIComponent(s));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function Dn(s,e){const t=s;return[...new URLSearchParams(t).entries()].reduce((i,[o,c])=>{const h=i[o];return h==null?i[o]=vs(c):i[o]=Array.isArray(h)?[...h,vs(c)]:[h,vs(c)],i},{})}const Tn=An(JSON.parse),kn=jn(JSON.stringify,JSON.parse);function An(s){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const t=Dn(e);for(const r in t){const n=t[r];if(typeof n=="string")try{t[r]=s(n)}catch{}}return t}}function jn(s,e){function t(r){if(typeof r=="object"&&r!==null)try{return s(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),s(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=t(o)});const n=In(r).toString();return n?`?${n}`:""}}const bt="__root__";function eo(s){if(s.isRedirect=!0,s.statusCode=s.statusCode||s.code||307,s.headers=s.headers||{},!s.reloadDocument){s.reloadDocument=!1;try{new URL(`${s.href}`),s.reloadDocument=!0}catch{}}if(s.throw)throw s;return s}function Wt(s){return!!(s!=null&&s.isRedirect)}function ys(s){return!!(s!=null&&s.isRedirect)&&s.href}function oe(s){const e=s.resolvedLocation,t=s.location,r=(e==null?void 0:e.pathname)!==t.pathname,n=(e==null?void 0:e.href)!==t.href,i=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:n,hashChanged:i}}class Bn{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var r;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||t.basepath&&t.basepath!==n.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${Pn(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?bn({initialEntries:[this.basepath||"/"]}):Sn()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Ms(Un(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),Fn(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const r=o=>{o.forEach((c,h)=>{c.init({originalIndex:h,defaultSsr:this.options.defaultSsr});const d=this.routesById[c.id];if(Ot(!d,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const a=Xt(c.fullPath);(!this.routesByPath[a]||c.fullPath.endsWith("/"))&&(this.routesByPath[a]=c)}const l=c.children;l!=null&&l.length&&r(l)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((o,c)=>{var h;if(o.isRoot||!o.path)return;const d=Hs(o.fullPath),l=Oe(d);for(;l.length>1&&((h=l[0])==null?void 0:h.value)==="/";)l.shift();const a=l.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);n.push({child:o,trimmed:d,parsed:l,index:c,scores:a})}),this.flatRoutes=n.sort((o,c)=>{const h=Math.min(o.scores.length,c.scores.length);for(let d=0;d<h;d++)if(o.scores[d]!==c.scores[d])return c.scores[d]-o.scores[d];if(o.scores.length!==c.scores.length)return c.scores.length-o.scores.length;for(let d=0;d<h;d++)if(o.parsed[d].value!==c.parsed[d].value)return o.parsed[d].value>c.parsed[d].value?1:-1;return o.index-c.index}).map((o,c)=>(o.child.rank=c,o.child))},this.subscribe=(t,r)=>{const n={eventType:t,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const n=({pathname:h,search:d,hash:l,state:a})=>{const f=this.options.parseSearch(d),v=this.options.stringifySearch(f);return{pathname:h,searchStr:v,search:pt(t==null?void 0:t.search,f),hash:l.split("#").reverse()[0]??"",href:`${h}${v}${l}`,state:pt(t==null?void 0:t.state,a)}},i=n(r??this.history.location),{__tempLocation:o,__tempKey:c}=i.state;if(o&&(!c||c===this.tempLocationKey)){const h=n(o);return h.state.key=i.state.key,delete h.state.__tempLocation,{...h,maskedLocation:i}}return i},this.resolvePathWithBase=(t,r)=>Cn({basepath:this.basepath,base:t,to:us(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,r,n)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},n):this.matchRoutesInternal(t,r),this.getMatchedRoutes=(t,r)=>{let n={};const i=Xt(t.pathname),o=l=>We(this.basepath,i,{to:l.fullPath,caseSensitive:l.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;c?n=o(c):c=this.flatRoutes.find(l=>{const a=o(l);return a?(n=a,!0):!1});let h=c||this.routesById[bt];const d=[h];for(;h.parentRoute;)h=h.parentRoute,d.unshift(h);return{matchedRoutes:d,routeParams:n,foundRoute:c}},this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=t=>{const r=(i={},o)=>{var c,h,d,l,a,f,v;const g=i._fromLocation?this.matchRoutes(i._fromLocation,{_buildLocation:!0}):this.state.matches,y=i.from!=null?g.find(C=>We(this.basepath,Xt(C.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,S=(y==null?void 0:y.pathname)||this.latestLocation.pathname;Ot(i.from==null||y!=null,"Could not find match for from: "+i.from);const b=(c=this.state.pendingMatches)!=null&&c.length?(h=de(this.state.pendingMatches))==null?void 0:h.search:((d=de(g))==null?void 0:d.search)||this.latestLocation.search,E=o==null?void 0:o.matchedRoutes.filter(C=>g.find(M=>M.routeId===C.id));let R;if(i.to){const C=(y==null?void 0:y.fullPath)||((l=de(g))==null?void 0:l.fullPath)||this.latestLocation.pathname;R=this.resolvePathWithBase(C,`${i.to}`)}else{const C=this.routesById[(a=E==null?void 0:E.find(M=>{const q=Ge({path:M.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return It([this.basepath,q])===S}))==null?void 0:a.id];R=this.resolvePathWithBase(S,(C==null?void 0:C.to)??S)}const O={...(f=de(g))==null?void 0:f.params};let T=(i.params??!0)===!0?O:{...O,...Jt(i.params,O)};Object.keys(T).length>0&&(o==null||o.matchedRoutes.map(C=>{var M;return((M=C.options.params)==null?void 0:M.stringify)??C.options.stringifyParams}).filter(Boolean).forEach(C=>{T={...T,...C(T)}})),R=Ge({path:R,params:T??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let _=b;if(t._includeValidateSearch&&((v=this.options.search)!=null&&v.strict)){let C={};o==null||o.matchedRoutes.forEach(M=>{try{M.options.validateSearch&&(C={...C,...gs(M.options.validateSearch,{...C,..._})??{}})}catch{}}),_=C}_=(C=>{const M=(o==null?void 0:o.matchedRoutes.reduce((B,Q)=>{var ot;const nt=[];if("search"in Q.options)(ot=Q.options.search)!=null&&ot.middlewares&&nt.push(...Q.options.search.middlewares);else if(Q.options.preSearchFilters||Q.options.postSearchFilters){const Y=({search:V,next:ut})=>{let $=V;"preSearchFilters"in Q.options&&Q.options.preSearchFilters&&($=Q.options.preSearchFilters.reduce((G,W)=>W(G),V));const H=ut($);return"postSearchFilters"in Q.options&&Q.options.postSearchFilters?Q.options.postSearchFilters.reduce((G,W)=>W(G),H):H};nt.push(Y)}if(t._includeValidateSearch&&Q.options.validateSearch){const Y=({search:V,next:ut})=>{const $=ut(V);try{return{...$,...gs(Q.options.validateSearch,$)??{}}}catch{return $}};nt.push(Y)}return B.concat(nt)},[]))??[],q=({search:B})=>i.search?i.search===!0?B:Jt(i.search,B):{};M.push(q);const A=(B,Q)=>{if(B>=M.length)return Q;const ot=M[B];return ot({search:Q,next:Y=>A(B+1,Y)})};return A(0,C)})(_),_=pt(b,_);const m=this.options.stringifySearch(_),p=i.hash===!0?this.latestLocation.hash:i.hash?Jt(i.hash,this.latestLocation.hash):void 0,w=p?`#${p}`:"";let F=i.state===!0?this.latestLocation.state:i.state?Jt(i.state,this.latestLocation.state):{};return F=pt(this.latestLocation.state,F),{pathname:R,search:_,searchStr:m,state:F,hash:p??"",href:`${R}${m}${w}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var c;const h=r(i);let d=o?r(o):void 0;if(!d){let f={};const v=(c=this.options.routeMasks)==null?void 0:c.find(g=>{const y=We(this.basepath,h.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1});return y?(f=y,!0):!1});if(v){const{from:g,...y}=v;o={...Ls(t,["from"]),...y,params:f},d=r(o)}}const l=this.getMatchedRoutes(h,i),a=r(i,l);if(d){const f=this.getMatchedRoutes(d,o),v=r(o,f);a.maskedLocation=v}return a};return t.mask?n(t,{...Ls(t,["from"]),...t.mask}):n(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:r,...n})=>{const i=()=>{const h=["key","__TSR_index","__hashScrollIntoViewOptions"];h.forEach(l=>{n.state[l]=this.latestLocation.state[l]});const d=ve(n.state,this.latestLocation.state);return h.forEach(l=>{delete n.state[l]}),d},o=this.latestLocation.href===n.href,c=this.commitLocationPromise;if(this.commitLocationPromise=he(()=>{c==null||c.resolve()}),o&&i())this.load();else{let{maskedLocation:h,hashScrollIntoView:d,...l}=n;h&&(l={...h,state:{...h.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[n.replace?"replace":"push"](l.href,l.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:o,href:c,...h}={})=>{if(c){const l=this.history.location.state.__TSR_index,a=Be(c,{__TSR_index:t?l:l+1});h.to=a.pathname,h.search=this.options.parseSearch(a.search),h.hash=a.hash.slice(1)}const d=this.buildLocation({...h,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:i,replace:t,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:o})},this.navigate=({to:t,reloadDocument:r,href:n,...i})=>{if(r){if(!n){const o=this.buildLocation({to:t,...i});n=this.history.createHref(o.href)}i.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...i,href:n,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,i;for(i=new Promise(o=>{this.startTransition(async()=>{var c;try{const h=this.latestLocation,d=this.state.resolvedLocation;this.cancelMatches();let l;ms(()=>{l=this.matchRoutes(h),this.__store.setState(a=>({...a,status:"pending",isLoading:!0,location:h,pendingMatches:l,cachedMatches:a.cachedMatches.filter(f=>!l.find(v=>v.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...oe({resolvedLocation:d,location:h})}),this.emit({type:"onBeforeLoad",...oe({resolvedLocation:d,location:h})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:l,location:h,onReady:async()=>{this.startViewTransition(async()=>{let a,f,v;ms(()=>{this.__store.setState(g=>{const y=g.matches,S=g.pendingMatches||g.matches;return a=y.filter(b=>!S.find(E=>E.id===b.id)),f=S.filter(b=>!y.find(E=>E.id===b.id)),v=y.filter(b=>S.find(E=>E.id===b.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...a.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[a,"onLeave"],[f,"onEnter"],[v,"onStay"]].forEach(([g,y])=>{g.forEach(S=>{var b,E;(E=(b=this.looseRoutesById[S.routeId].options)[y])==null||E.call(b,S)})})})}})}catch(h){ys(h)?(r=h,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):vt(h)&&(n=h),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(l=>l.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((c=this.commitLocationPromise)==null||c.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,o=this.state.resolvedLocation,c=typeof r.types=="function"?r.types(oe({resolvedLocation:o,location:i})):r.types;n={update:t,types:c}}else n=t;document.startViewTransition(n)}else t()},this.updateMatch=(t,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(l=>l.id===t),c=this.state.matches.find(l=>l.id===t),h=this.state.cachedMatches.find(l=>l.id===t),d=o?"pendingMatches":c?"matches":h?"cachedMatches":"";return d&&this.__store.setState(l=>{var a;return{...l,[d]:(a=l[d])==null?void 0:a.map(f=>f.id===t?i=r(f):f)}}),i},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===t),this.loadMatches=async({location:t,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch,sync:c})=>{let h,d=!1;const l=async()=>{d||(d=!0,await(i==null?void 0:i()))},a=v=>!!(n&&!this.state.matches.find(g=>g.id===v)),f=(v,g)=>{var y,S,b,E;if(ys(g)&&!g.reloadDocument)throw g;if(Wt(g)||vt(g)){if(o(v.id,R=>({...R,status:Wt(g)?"redirected":vt(g)?"notFound":"error",isFetching:!1,error:g,beforeLoadPromise:void 0,loaderPromise:void 0})),g.routeId||(g.routeId=v.routeId),(y=v.beforeLoadPromise)==null||y.resolve(),(S=v.loaderPromise)==null||S.resolve(),(b=v.loadPromise)==null||b.resolve(),Wt(g))throw d=!0,g=this.resolveRedirect({...g,_fromLocation:t}),g;if(vt(g))throw this._handleNotFound(r,g,{updateMatch:o}),(E=this.serverSsr)==null||E.onMatchSettled({router:this,match:this.getMatch(v.id)}),g}};try{await new Promise((v,g)=>{(async()=>{var y,S,b,E;try{const R=(_,L,m)=>{var p,w;const{id:F,routeId:C}=r[_],M=this.looseRoutesById[C];if(L instanceof Promise)throw L;L.routerCode=m,h=h??_,f(this.getMatch(F),L);try{(w=(p=M.options).onError)==null||w.call(p,L)}catch(q){L=q,f(this.getMatch(F),L)}o(F,q=>{var A,B;return(A=q.beforeLoadPromise)==null||A.resolve(),(B=q.loadPromise)==null||B.resolve(),{...q,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[_,{id:L,routeId:m}]of r.entries()){const p=this.getMatch(L),w=(y=r[_-1])==null?void 0:y.id,F=this.looseRoutesById[m],C=F.options.pendingMs??this.options.defaultPendingMs,M=!!(i&&!this.isServer&&!a(L)&&(F.options.loader||F.options.beforeLoad||dr(F))&&typeof C=="number"&&C!==1/0&&(F.options.pendingComponent??((S=this.options)==null?void 0:S.defaultPendingComponent)));let q=!0;if((p.beforeLoadPromise||p.loaderPromise)&&(M&&setTimeout(()=>{try{l()}catch{}},C),await p.beforeLoadPromise,q=this.getMatch(L).status!=="success"),q){try{o(L,Z=>{const N=Z.loadPromise;return{...Z,loadPromise:he(()=>{N==null||N.resolve()}),beforeLoadPromise:he()}});const A=new AbortController;let B;M&&(B=setTimeout(()=>{try{l()}catch{}},C));const{paramsError:Q,searchError:ot}=this.getMatch(L);Q&&R(_,Q,"PARSE_PARAMS"),ot&&R(_,ot,"VALIDATE_SEARCH");const nt=()=>w?this.getMatch(w).context:this.options.context??{};o(L,Z=>({...Z,isFetching:"beforeLoad",fetchCount:Z.fetchCount+1,abortController:A,pendingTimeout:B,context:{...nt(),...Z.__routeContext}}));const{search:Y,params:V,context:ut,cause:$}=this.getMatch(L),H=a(L),G={search:Y,abortController:A,params:V,preload:H,context:ut,location:t,navigate:Z=>this.navigate({...Z,_fromLocation:t}),buildLocation:this.buildLocation,cause:H?"preload":$,matches:r},W=await((E=(b=F.options).beforeLoad)==null?void 0:E.call(b,G))??{};(Wt(W)||vt(W))&&R(_,W,"BEFORE_LOAD"),o(L,Z=>({...Z,__beforeLoadContext:W,context:{...nt(),...Z.__routeContext,...W},abortController:A}))}catch(A){R(_,A,"BEFORE_LOAD")}o(L,A=>{var B;return(B=A.beforeLoadPromise)==null||B.resolve(),{...A,beforeLoadPromise:void 0,isFetching:!1}})}}const O=r.slice(0,h),T=[];O.forEach(({id:_,routeId:L},m)=>{T.push((async()=>{const{loaderPromise:p}=this.getMatch(_);let w=!1,F=!1;if(p){await p;const C=this.getMatch(_);C.error&&f(C,C.error)}else{const C=T[m-1],M=this.looseRoutesById[L],q=()=>{const{params:$,loaderDeps:H,abortController:G,context:W,cause:Z}=this.getMatch(_),N=a(_);return{params:$,deps:H,preload:!!N,parentMatchPromise:C,abortController:G,context:W,location:t,navigate:J=>this.navigate({...J,_fromLocation:t}),cause:N?"preload":Z,route:M}},A=Date.now()-this.getMatch(_).updatedAt,B=a(_),Q=B?M.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:M.options.staleTime??this.options.defaultStaleTime??0,ot=M.options.shouldReload,nt=typeof ot=="function"?ot(q()):ot;o(_,$=>({...$,loaderPromise:he(),preload:!!B&&!this.state.matches.find(H=>H.id===_)}));const Y=async()=>{var $,H,G,W,Z,N,J,Ht,Mt,zt,ue;try{const wt=async()=>{const et=this.getMatch(_);et.minPendingPromise&&await et.minPendingPromise};try{this.loadRouteChunk(M),o(_,Gt=>({...Gt,isFetching:"loader"}));const et=await((H=($=M.options).loader)==null?void 0:H.call($,q()));f(this.getMatch(_),et),await M._lazyPromise,await wt();const lt={matches:r,match:this.getMatch(_),params:this.getMatch(_).params,loaderData:et},st=(W=(G=M.options).head)==null?void 0:W.call(G,lt),le=st==null?void 0:st.meta,Ke=st==null?void 0:st.links,$e=st==null?void 0:st.scripts,K=(N=(Z=M.options).scripts)==null?void 0:N.call(Z,lt),z=(Ht=(J=M.options).headers)==null?void 0:Ht.call(J,{loaderData:et});await M._componentsPromise,o(_,Gt=>({...Gt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:et,meta:le,links:Ke,headScripts:$e,headers:z,scripts:K}))}catch(et){let lt=et;await wt(),f(this.getMatch(_),et);try{(zt=(Mt=M.options).onError)==null||zt.call(Mt,et)}catch(st){lt=st,f(this.getMatch(_),st)}o(_,st=>({...st,error:lt,status:"error",isFetching:!1}))}(ue=this.serverSsr)==null||ue.onMatchSettled({router:this,match:this.getMatch(_)})}catch(wt){o(_,et=>({...et,loaderPromise:void 0})),f(this.getMatch(_),wt)}},{status:V,invalid:ut}=this.getMatch(_);w=V==="success"&&(ut||(nt??A>Q)),B&&M.options.preload===!1||(w&&!c?(F=!0,(async()=>{try{await Y();const{loaderPromise:$,loadPromise:H}=this.getMatch(_);$==null||$.resolve(),H==null||H.resolve(),o(_,G=>({...G,loaderPromise:void 0}))}catch($){ys($)&&await this.navigate($)}})()):(V!=="success"||w&&c)&&await Y())}if(!F){const{loaderPromise:C,loadPromise:M}=this.getMatch(_);C==null||C.resolve(),M==null||M.resolve()}return o(_,C=>({...C,isFetching:F?C.isFetching:!1,loaderPromise:F?C.loaderPromise:void 0,invalid:!1})),this.getMatch(_)})())}),await Promise.all(T),v()}catch(R){g(R)}})()}),await l()}catch(v){if(Wt(v)||vt(v))throw vt(v)&&!n&&await l(),v}return r},this.invalidate=t=>{const r=n=>{var i;return((i=t==null?void 0:t.filter)==null?void 0:i.call(t,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var i;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(i=n.pendingMatches)==null?void 0:i.map(r)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const r=t;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(r=>{const{id:n,...i}=r.options;Object.assign(t.options,i)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Vr.map(async r=>{const n=t.options[r];n!=null&&n.preload&&await n.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const r=this.buildLocation(t);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),o=new Set([...i,...this.state.cachedMatches.map(c=>c.id)]);ms(()=>{n.forEach(c=>{o.has(c.id)||this.__store.setState(h=>({...h,cachedMatches:[...h.cachedMatches,c]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(c,h)=>{i.has(c)?n=n.map(d=>d.id===c?h(d):d):this.updateMatch(c,h)}}),n}catch(c){if(Wt(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:r});vt(c)||console.error(c);return}},this.matchRoute=(t,r)=>{const n={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},i=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const c=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,h=We(this.basepath,c.pathname,{...r,to:i.pathname});return!h||t.params&&!ve(h,t.params,{partial:!0})?!1:h&&((r==null?void 0:r.includeSearch)??!0)?ve(c.search,i.search,{partial:!0})?h:!1:h},this._handleNotFound=(t,r,{updateMatch:n=this.updateMatch}={})=>{var i;const o=this.routesById[r.routeId??""]??this.routeTree,c={};for(const d of t)c[d.routeId]=d;!o.options.notFoundComponent&&((i=this.options)!=null&&i.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),Ot(o.options.notFoundComponent);const h=c[o.id];Ot(h,"Could not find match for route: "+o.id),n(h.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(t,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??kn,parseSearch:e.parseSearch??Tn}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const{foundRoute:r,matchedRoutes:n,routeParams:i}=this.getMatchedRoutes(e,t==null?void 0:t.dest);let o=!1;(r?r.path!=="/"&&i["**"]:Xt(e.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):o=!0);const c=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let a=n.length-1;a>=0;a--){const f=n[a];if(f.children)return f.id}return bt}})(),h=n.map(a=>{var f;let v;const g=((f=a.options.params)==null?void 0:f.parse)??a.options.parseParams;if(g)try{const y=g(i);Object.assign(i,y)}catch(y){if(v=new Nn(y.message,{cause:y}),t!=null&&t.throwOnError)throw v;return v}}),d=[],l=a=>(a==null?void 0:a.id)?a.context??this.options.context??{}:this.options.context??{};return n.forEach((a,f)=>{var v,g;const y=d[f-1],[S,b,E]=(()=>{const M=(y==null?void 0:y.search)??e.search,q=(y==null?void 0:y._strictSearch)??{};try{const A=gs(a.options.validateSearch,{...M})??{};return[{...M,...A},{...q,...A},void 0]}catch(A){let B=A;if(A instanceof os||(B=new os(A.message,{cause:A})),t!=null&&t.throwOnError)throw B;return[M,{},B]}})(),R=((g=(v=a.options).loaderDeps)==null?void 0:g.call(v,{search:S}))??"",O=R?JSON.stringify(R):"",{usedParams:T,interpolatedPath:_}=Ge({path:a.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),L=Ge({path:a.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+O,m=this.getMatch(L),p=this.state.matches.find(M=>M.routeId===a.id),w=p?"stay":"enter";let F;if(m)F={...m,cause:w,params:p?pt(p.params,i):i,_strictParams:T,search:pt(p?p.search:m.search,S),_strictSearch:b};else{const M=a.options.loader||a.options.beforeLoad||a.lazyFn||dr(a)?"pending":"success";F={id:L,index:f,routeId:a.id,params:p?pt(p.params,i):i,_strictParams:T,pathname:It([this.basepath,_]),updatedAt:Date.now(),search:p?pt(p.search,S):S,_strictSearch:b,searchError:void 0,status:M,isFetching:!1,error:void 0,paramsError:h[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:w,loaderDeps:p?pt(p.loaderDeps,R):R,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:a.options.staticData||{},loadPromise:he(),fullPath:a.fullPath}}t!=null&&t.preload||(F.globalNotFound=c===a.id),F.searchError=E;const C=l(y);F.context={...C,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((a,f)=>{var v,g,y,S,b,E,R,O;const T=this.looseRoutesById[a.routeId];if(!this.getMatch(a.id)&&(t==null?void 0:t._buildLocation)!==!0){const L=d[f-1],m=l(L),p={deps:a.loaderDeps,params:a.params,context:m,location:e,navigate:w=>this.navigate({...w,_fromLocation:e}),buildLocation:this.buildLocation,cause:a.cause,abortController:a.abortController,preload:!!a.preload,matches:d};a.__routeContext=((g=(v=T.options).context)==null?void 0:g.call(v,p))??{},a.context={...m,...a.__routeContext,...a.__beforeLoadContext}}if(a.status==="success"){a.headers=(S=(y=T.options).headers)==null?void 0:S.call(y,{loaderData:a.loaderData});const L={matches:d,match:a,params:a.params,loaderData:a.loaderData},m=(E=(b=T.options).head)==null?void 0:E.call(b,L);a.links=m==null?void 0:m.links,a.headScripts=m==null?void 0:m.scripts,a.meta=m==null?void 0:m.meta,a.scripts=(O=(R=T.options).scripts)==null?void 0:O.call(R,L)}}),d}}class os extends Error{}class Nn extends Error{}function Un(s){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:s,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function gs(s,e){if(s==null)return{};if("~standard"in s){const t=s["~standard"].validate(e);if(t instanceof Promise)throw new os("Async validation not supported");if(t.issues)throw new os(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in s?s.parse(e):typeof s=="function"?s(e):{}}const Vr=["component","errorComponent","pendingComponent","notFoundComponent"];function dr(s){var e;for(const t of Vr)if((e=s.options[t])!=null&&e.preload)return!0;return!1}const qn="Error preloading route! ☝️";class Kr{constructor(e){if(this.init=t=>{var r,n;this.originalIndex=t.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);if(this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),o)this._path=bt;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let c=o?bt:i==null?void 0:i.path;c&&c!=="/"&&(c=Hs(c));const h=(i==null?void 0:i.id)||c;let d=o?bt:It([this.parentRoute.id===bt?"":this.parentRoute.id,h]);c===bt&&(c="/"),d!==bt&&(d=It(["/",d]));const l=d===bt?"/":It([this.parentRoute.fullPath,c]);this._path=c,this._id=d,this._fullPath=l,this._to=l,this._ssr=(i==null?void 0:i.ssr)??t.defaultSsr??!0},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class Qn extends Kr{constructor(e){super(e)}}function zs(s){const e=s.errorComponent??ls;return D.jsx(Vn,{getResetKey:s.getResetKey,onCatch:s.onCatch,children:({error:t,reset:r})=>t?x.createElement(e,{error:t,reset:r}):s.children})}class Vn extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ls({error:s}){const[e,t]=x.useState(!1);return D.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[D.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),D.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),D.jsx("div",{style:{height:".25rem"}}),e?D.jsx("div",{children:D.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:s.message?D.jsx("code",{children:s.message}):null})}):null]})}var Ss={exports:{}},bs={},_s={exports:{}},ws={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr;function Kn(){if(fr)return ws;fr=1;var s=jr();function e(a,f){return a===f&&(a!==0||1/a===1/f)||a!==a&&f!==f}var t=typeof Object.is=="function"?Object.is:e,r=s.useState,n=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function c(a,f){var v=f(),g=r({inst:{value:v,getSnapshot:f}}),y=g[0].inst,S=g[1];return i(function(){y.value=v,y.getSnapshot=f,h(y)&&S({inst:y})},[a,v,f]),n(function(){return h(y)&&S({inst:y}),a(function(){h(y)&&S({inst:y})})},[a]),o(v),v}function h(a){var f=a.getSnapshot;a=a.value;try{var v=f();return!t(a,v)}catch{return!0}}function d(a,f){return f()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ws.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:l,ws}var pr;function $n(){return pr||(pr=1,_s.exports=Kn()),_s.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr;function Hn(){if(mr)return bs;mr=1;var s=jr(),e=$n();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=s.useRef,o=s.useEffect,c=s.useMemo,h=s.useDebugValue;return bs.useSyncExternalStoreWithSelector=function(d,l,a,f,v){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=c(function(){function b(_){if(!E){if(E=!0,R=_,_=f(_),v!==void 0&&y.hasValue){var L=y.value;if(v(L,_))return O=L}return O=_}if(L=O,r(R,_))return L;var m=f(_);return v!==void 0&&v(L,m)?(R=_,L):(R=_,O=m)}var E=!1,R,O,T=a===void 0?null:a;return[function(){return b(l())},T===null?void 0:function(){return b(T())}]},[l,a,f,v]);var S=n(d,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=S},[S]),h(S),S},bs}var vr;function zn(){return vr||(vr=1,Ss.exports=Hn()),Ss.exports}var Gn=zn();function Wn(s,e=t=>t){return Gn.useSyncExternalStoreWithSelector(s.subscribe,()=>s.state,()=>s.state,e,Jn)}function Jn(s,e){if(Object.is(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;if(s instanceof Map&&e instanceof Map){if(s.size!==e.size)return!1;for(const[r,n]of s)if(!e.has(r)||!Object.is(n,e.get(r)))return!1;return!0}if(s instanceof Set&&e instanceof Set){if(s.size!==e.size)return!1;for(const r of s)if(!e.has(r))return!1;return!0}const t=Object.keys(s);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(s[t[r]],e[t[r]]))return!1;return!0}const Ps=x.createContext(null);function $r(){return typeof document>"u"?Ps:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ps,Ps)}function ft(s){const e=x.useContext($r());return s==null||s.warn,e}function rt(s){const e=ft({warn:(s==null?void 0:s.router)===void 0}),t=(s==null?void 0:s.router)||e,r=x.useRef(void 0);return Wn(t.__store,n=>{if(s!=null&&s.select){if(s.structuralSharing??t.options.defaultStructuralSharing){const i=pt(r.current,s.select(n));return r.current=i,i}return s.select(n)}return n})}const hs=x.createContext(void 0),Xn=x.createContext(void 0);function xt(s){const e=x.useContext(s.from?Xn:hs);return rt({select:r=>{const n=r.matches.find(i=>s.from?s.from===i.routeId:i.id===e);if(Ot(!((s.shouldThrow??!0)&&!n),`Could not find ${s.from?`an active match from "${s.from}"`:"a nearest match!"}`),n!==void 0)return s.select?s.select(n):n},structuralSharing:s.structuralSharing})}function Gs(s){return xt({from:s.from,strict:s.strict,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.loaderData):e.loaderData})}function Ws(s){const{select:e,...t}=s;return xt({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Js(s){return xt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.params):e.params})}function Xs(s){return xt({from:s.from,strict:s.strict,shouldThrow:s.shouldThrow,structuralSharing:s.structuralSharing,select:e=>s.select?s.select(e.search):e.search})}function Ys(s){const{navigate:e}=ft();return x.useCallback(t=>e({from:s==null?void 0:s.from,...t}),[s==null?void 0:s.from,e])}function so(s){const e=ft(),t=x.useRef(null);return x.useEffect(()=>{t.current!==s&&(e.navigate({...s}),t.current=s)},[e,s]),null}class Yn extends Kr{constructor(e){super(e),this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Ws({...t,from:this.id}),this.useLoaderData=t=>Gs({...t,from:this.id}),this.useNavigate=()=>Ys({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function Zn(s){return new Yn(s)}class ti extends Qn{constructor(e){super(e),this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Ws({...t,from:this.id}),this.useLoaderData=t=>Gs({...t,from:this.id}),this.useNavigate=()=>Ys({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function ro(s){return new ti(s)}function no(s){return new ei(s,{silent:!0}).createRoute}class ei{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const n=Zn(r);return n.isRoot=!1,n},this.silent=t==null?void 0:t.silent}}class si{constructor(e){this.useMatch=t=>xt({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>xt({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>Xs({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>Js({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>Ws({...t,from:this.options.id}),this.useLoaderData=t=>Gs({...t,from:this.options.id}),this.useNavigate=()=>{const t=ft();return Ys({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function io(s){return e=>new si({id:s,...e})}function ri(s){const e=rt({select:t=>`not-found-${t.location.pathname}-${t.status}`});return D.jsx(zs,{getResetKey:()=>e,onCatch:(t,r)=>{var n;if(vt(t))(n=s.onCatch)==null||n.call(s,t,r);else throw t},errorComponent:({error:t})=>{var r;if(vt(t))return(r=s.fallback)==null?void 0:r.call(s,t);throw t},children:s.children})}function ni(){return D.jsx("p",{children:"Not Found"})}function Ye(s){return D.jsx(D.Fragment,{children:s.children})}function Hr(s,e,t){return e.options.notFoundComponent?D.jsx(e.options.notFoundComponent,{data:t}):s.options.defaultNotFoundComponent?D.jsx(s.options.defaultNotFoundComponent,{data:t}):D.jsx(ni,{})}var Rs,yr;function ii(){if(yr)return Rs;yr=1;const s={},e=s.hasOwnProperty,t=(m,p)=>{for(const w in m)e.call(m,w)&&p(w,m[w])},r=(m,p)=>(p&&t(p,(w,F)=>{m[w]=F}),m),n=(m,p)=>{const w=m.length;let F=-1;for(;++F<w;)p(m[F])},i=m=>"\\u"+("0000"+m).slice(-4),o=(m,p)=>{let w=m.toString(16);return p?w:w.toUpperCase()},c=s.toString,h=Array.isArray,d=m=>typeof Buffer=="function"&&Buffer.isBuffer(m),l=m=>c.call(m)=="[object Object]",a=m=>typeof m=="string"||c.call(m)=="[object String]",f=m=>typeof m=="number"||c.call(m)=="[object Number]",v=m=>typeof m=="bigint",g=m=>typeof m=="function",y=m=>c.call(m)=="[object Map]",S=m=>c.call(m)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},E=/[\\\b\f\n\r\t]/,R=/[0-9]/,O=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,_=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,L=(m,p)=>{const w=()=>{Q=B,++p.indentLevel,B=p.indent.repeat(p.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},C=p&&p.json;C&&(F.quotes="double",F.wrap=!0),p=r(F,p),p.quotes!="single"&&p.quotes!="double"&&p.quotes!="backtick"&&(p.quotes="single");const M=p.quotes=="double"?'"':p.quotes=="backtick"?"`":"'",q=p.compact,A=p.lowercaseHex;let B=p.indent.repeat(p.indentLevel),Q="";const ot=p.__inline1__,nt=p.__inline2__,Y=q?"":`
`;let V,ut=!0;const $=p.numbers=="binary",H=p.numbers=="octal",G=p.numbers=="decimal",W=p.numbers=="hexadecimal";if(C&&m&&g(m.toJSON)&&(m=m.toJSON()),!a(m)){if(y(m))return m.size==0?"new Map()":(q||(p.__inline1__=!0,p.__inline2__=!1),"new Map("+L(Array.from(m),p)+")");if(S(m))return m.size==0?"new Set()":"new Set("+L(Array.from(m),p)+")";if(d(m))return m.length==0?"Buffer.from([])":"Buffer.from("+L(Array.from(m),p)+")";if(h(m))return V=[],p.wrap=!0,ot&&(p.__inline1__=!1,p.__inline2__=!0),nt||w(),n(m,N=>{ut=!1,nt&&(p.__inline2__=!1),V.push((q||nt?"":B)+L(N,p))}),ut?"[]":nt?"["+V.join(", ")+"]":"["+Y+V.join(","+Y)+Y+(q?"":Q)+"]";if(f(m)||v(m)){if(C)return JSON.stringify(Number(m));let N;if(G)N=String(m);else if(W){let J=m.toString(16);A||(J=J.toUpperCase()),N="0x"+J}else $?N="0b"+m.toString(2):H&&(N="0o"+m.toString(8));return v(m)?N+"n":N}else return v(m)?C?JSON.stringify(Number(m)):m+"n":l(m)?(V=[],p.wrap=!0,w(),t(m,(N,J)=>{ut=!1,V.push((q?"":B)+L(N,p)+":"+(q?"":" ")+L(J,p))}),ut?"{}":"{"+Y+V.join(","+Y)+Y+(q?"":Q)+"}"):C?JSON.stringify(m)||"null":String(m)}const Z=p.escapeEverything?T:_;return V=m.replace(Z,(N,J,Ht,Mt,zt,ue)=>{if(J){if(p.minimal)return J;const et=J.charCodeAt(0),lt=J.charCodeAt(1);if(p.es6){const st=(et-55296)*1024+lt-56320+65536;return"\\u{"+o(st,A)+"}"}return i(o(et,A))+i(o(lt,A))}if(Ht)return i(o(Ht.charCodeAt(0),A));if(N=="\0"&&!C&&!R.test(ue.charAt(zt+1)))return"\\0";if(Mt)return Mt==M||p.escapeEverything?"\\"+Mt:Mt;if(E.test(N))return b[N];if(p.minimal&&!O.test(N))return N;const wt=o(N.charCodeAt(0),A);return C||wt.length>2?i(wt):"\\x"+("00"+wt).slice(-2)}),M=="`"&&(V=V.replace(/\$\{/g,"\\${")),p.isScriptContext&&(V=V.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,C?"\\u003C!--":"\\x3C!--")),p.wrap&&(V=M+V+M),V};return L.version="3.0.2",Rs=L,Rs}ii();function oi({children:s,log:e}){return typeof document<"u"?null:D.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[s,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function ai(){const s=ft(),t=(s.options.getScrollRestorationKey||Fs)(s.latestLocation),r=t!==Fs(s.latestLocation)?t:null;return!s.isScrollRestoring||!s.isServer?null:D.jsx(oi,{children:`(${Qr.toString()})(${JSON.stringify(ns)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const zr=x.memo(function({matchId:e}){var t,r;const n=ft(),i=rt({select:b=>{var E;return(E=b.matches.find(R=>R.id===e))==null?void 0:E.routeId}});Ot(i);const o=n.routesById[i],c=o.options.pendingComponent??n.options.defaultPendingComponent,h=c?D.jsx(c,{}):null,d=o.options.errorComponent??n.options.defaultErrorComponent,l=o.options.onCatch??n.options.defaultOnCatch,a=o.isRoot?o.options.notFoundComponent??((t=n.options.notFoundRoute)==null?void 0:t.options.component):o.options.notFoundComponent,f=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??c??((r=o.options.errorComponent)==null?void 0:r.preload))?x.Suspense:Ye,v=d?zs:Ye,g=a?ri:Ye,y=rt({select:b=>b.loadedAt}),S=rt({select:b=>{var E;const R=b.matches.findIndex(O=>O.id===e);return(E=b.matches[R-1])==null?void 0:E.routeId}});return D.jsxs(D.Fragment,{children:[D.jsx(hs.Provider,{value:e,children:D.jsx(f,{fallback:h,children:D.jsx(v,{getResetKey:()=>y,errorComponent:d||ls,onCatch:(b,E)=>{if(vt(b))throw b;l==null||l(b,E)},children:D.jsx(g,{fallback:b=>{if(!a||b.routeId&&b.routeId!==i||!b.routeId&&!o.isRoot)throw b;return x.createElement(a,b)},children:D.jsx(ui,{matchId:e})})})})}),S===bt&&n.options.scrollRestoration?D.jsxs(D.Fragment,{children:[D.jsx(ci,{}),D.jsx(ai,{})]}):null]})});function ci(){const s=ft(),e=x.useRef(void 0);return D.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==s.latestLocation.href)&&(s.emit({type:"onRendered",...oe(s.state)}),e.current=s.latestLocation)}},s.latestLocation.state.key)}const ui=x.memo(function({matchId:e}){var t,r,n;const i=ft(),{match:o,key:c,routeId:h}=rt({select:f=>{const v=f.matches.findIndex(R=>R.id===e),g=f.matches[v],y=g.routeId,S=i.routesById[y].options.remountDeps??i.options.defaultRemountDeps,b=S==null?void 0:S({routeId:y,loaderDeps:g.loaderDeps,params:g._strictParams,search:g._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:y,match:Ls(g,["id","status","error"])}},structuralSharing:!0}),d=i.routesById[h],l=x.useMemo(()=>{const f=d.options.component??i.options.defaultComponent;return f?D.jsx(f,{},c):D.jsx(li,{})},[c,d.options.component,i.options.defaultComponent]),a=(d.options.errorComponent??i.options.defaultErrorComponent)||ls;if(o.status==="notFound")return Ot(vt(o.error)),Hr(i,d,o.error);if(o.status==="redirected")throw Ot(Wt(o.error)),(t=i.getMatch(o.id))==null?void 0:t.loadPromise;if(o.status==="error"){if(i.isServer)return D.jsx(a,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const f=d.options.pendingMinMs??i.options.defaultPendingMinMs;if(f&&!((r=i.getMatch(o.id))!=null&&r.minPendingPromise)&&!i.isServer){const v=he();Promise.resolve().then(()=>{i.updateMatch(o.id,g=>({...g,minPendingPromise:v}))}),setTimeout(()=>{v.resolve(),i.updateMatch(o.id,g=>({...g,minPendingPromise:void 0}))},f)}throw(n=i.getMatch(o.id))==null?void 0:n.loadPromise}return l}),li=x.memo(function(){const e=ft(),t=x.useContext(hs),r=rt({select:d=>{var l;return(l=d.matches.find(a=>a.id===t))==null?void 0:l.routeId}}),n=e.routesById[r],i=rt({select:d=>{const a=d.matches.find(f=>f.id===t);return Ot(a),a.globalNotFound}}),o=rt({select:d=>{var l;const a=d.matches,f=a.findIndex(v=>v.id===t);return(l=a[f+1])==null?void 0:l.id}});if(i)return Hr(e,n,void 0);if(!o)return null;const c=D.jsx(zr,{matchId:o}),h=e.options.defaultPendingComponent?D.jsx(e.options.defaultPendingComponent,{}):null;return t===bt?D.jsx(x.Suspense,{fallback:h,children:c}):c});var Gr=fn();const oo=dn(Gr),ke=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Cs(s){const e=x.useRef({value:s,prev:null}),t=e.current.value;return s!==t&&(e.current={value:s,prev:t}),e.current.prev}function hi(s,e,t={},r={}){const n=x.useRef(typeof IntersectionObserver=="function"),i=x.useRef(null);return x.useEffect(()=>{if(!(!s.current||!n.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{e(o)},t),i.current.observe(s.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[e,t,r.disabled,s]),i.current}function di(s){const e=x.useRef(null);return x.useImperativeHandle(s,()=>e.current,[]),e}function fi(){const s=ft(),e=x.useRef({router:s,mounted:!1}),t=rt({select:({isLoading:a})=>a}),[r,n]=x.useState(!1),i=rt({select:a=>a.matches.some(f=>f.status==="pending"),structuralSharing:!0}),o=Cs(t),c=t||r||i,h=Cs(c),d=t||i,l=Cs(d);return s.isServer||(s.startTransition=a=>{n(!0),x.startTransition(()=>{a(),n(!1)})}),x.useEffect(()=>{const a=s.history.subscribe(s.load),f=s.buildLocation({to:s.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Xt(s.latestLocation.href)!==Xt(f.href)&&s.commitLocation({...f,replace:!0}),()=>{a()}},[s,s.history]),ke(()=>{if(typeof window<"u"&&s.clientSsr||e.current.router===s&&e.current.mounted)return;e.current={router:s,mounted:!0},(async()=>{try{await s.load()}catch(f){console.error(f)}})()},[s]),ke(()=>{o&&!t&&s.emit({type:"onLoad",...oe(s.state)})},[o,s,t]),ke(()=>{l&&!d&&s.emit({type:"onBeforeRouteMount",...oe(s.state)})},[d,l,s]),ke(()=>{h&&!c&&(s.emit({type:"onResolved",...oe(s.state)}),s.__store.setState(a=>({...a,status:"idle",resolvedLocation:a.location})),On(s))},[c,h,s]),null}function pi(){const s=ft(),e=s.options.defaultPendingComponent?D.jsx(s.options.defaultPendingComponent,{}):null,t=s.isServer||typeof document<"u"&&s.clientSsr?Ye:x.Suspense,r=D.jsxs(t,{fallback:e,children:[D.jsx(fi,{}),D.jsx(mi,{})]});return s.options.InnerWrap?D.jsx(s.options.InnerWrap,{children:r}):r}function mi(){const s=rt({select:t=>{var r;return(r=t.matches[0])==null?void 0:r.id}}),e=rt({select:t=>t.loadedAt});return D.jsx(hs.Provider,{value:s,children:D.jsx(zs,{getResetKey:()=>e,errorComponent:ls,onCatch:t=>{t.message||t.toString()},children:s?D.jsx(zr,{matchId:s}):null})})}function ao(){const s=ft();return rt({select:e=>{var t;return[e.location.href,(t=e.resolvedLocation)==null?void 0:t.href,e.status]},structuralSharing:!0}),x.useCallback(e=>{const{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i,...o}=e;return s.matchRoute(o,{pending:t,caseSensitive:r,fuzzy:n,includeSearch:i})},[s])}function vi(s){return rt({select:e=>{const t=e.matches;return s!=null&&s.select?s.select(t):t},structuralSharing:s==null?void 0:s.structuralSharing})}function yi(s,e){const t=ft(),[r,n]=x.useState(!1),i=x.useRef(!1),o=di(e),{activeProps:c=()=>({className:"active"}),inactiveProps:h=()=>({}),activeOptions:d,to:l,preload:a,preloadDelay:f,hashScrollIntoView:v,replace:g,startTransition:y,resetScroll:S,viewTransition:b,children:E,target:R,disabled:O,style:T,className:_,onClick:L,onFocus:m,onMouseEnter:p,onMouseLeave:w,onTouchStart:F,ignoreBlocker:C,...M}=s,{params:q,search:A,hash:B,state:Q,mask:ot,reloadDocument:nt,...Y}=M,V=x.useMemo(()=>{try{return new URL(`${l}`),"external"}catch{}return"internal"},[l]),ut=rt({select:K=>K.location.search,structuralSharing:!0}),$=vi({select:K=>{var z;return s.from??((z=K[K.length-1])==null?void 0:z.fullPath)}}),H=x.useMemo(()=>({...s,from:$}),[s,$]),G=x.useMemo(()=>t.buildLocation(H),[t,H,ut]),W=x.useMemo(()=>H.reloadDocument?!1:a??t.options.defaultPreload,[t.options.defaultPreload,a,H.reloadDocument]),Z=f??t.options.defaultPreloadDelay??0,N=rt({select:K=>{if(d!=null&&d.exact){if(!Rn(K.location.pathname,G.pathname,t.basepath))return!1}else{const z=ss(K.location.pathname,t.basepath).split("/");if(!ss(G.pathname,t.basepath).split("/").every((ln,hn)=>ln===z[hn]))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!ve(K.location.search,G.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?K.location.hash===G.hash:!0}}),J=x.useCallback(()=>{t.preloadRoute(H).catch(K=>{console.warn(K),console.warn(qn)})},[H,t]),Ht=x.useCallback(K=>{K!=null&&K.isIntersecting&&J()},[J]);if(hi(o,Ht,{rootMargin:"100px"},{disabled:!!O||W!=="viewport"}),ke(()=>{i.current||!O&&W==="render"&&(J(),i.current=!0)},[O,J,W]),V==="external")return{...Y,ref:o,type:V,href:l,...E&&{children:E},...R&&{target:R},...O&&{disabled:O},...T&&{style:T},..._&&{className:_},...L&&{onClick:L},...m&&{onFocus:m},...p&&{onMouseEnter:p},...w&&{onMouseLeave:w},...F&&{onTouchStart:F}};const Mt=K=>{if(!O&&!Si(K)&&!K.defaultPrevented&&(!R||R==="_self")&&K.button===0){K.preventDefault(),Gr.flushSync(()=>{n(!0)});const z=t.subscribe("onResolved",()=>{z(),n(!1)});return t.navigate({...H,replace:g,resetScroll:S,hashScrollIntoView:v,startTransition:y,viewTransition:b,ignoreBlocker:C})}},zt=K=>{O||W&&J()},ue=zt,wt=K=>{if(O)return;const z=K.target||{};if(W){if(z.preloadTimeout)return;z.preloadTimeout=setTimeout(()=>{z.preloadTimeout=null,J()},Z)}},et=K=>{if(O)return;const z=K.target||{};z.preloadTimeout&&(clearTimeout(z.preloadTimeout),z.preloadTimeout=null)},lt=K=>z=>{var Gt;(Gt=z.persist)==null||Gt.call(z),K.filter(Boolean).forEach(rr=>{z.defaultPrevented||rr(z)})},st=N?Jt(c,{})??{}:{},le=N?{}:Jt(h,{}),Ke=[_,st.className,le.className].filter(Boolean).join(" "),$e={...T,...st.style,...le.style};return{...Y,...st,...le,href:O?void 0:G.maskedLocation?t.history.createHref(G.maskedLocation.href):t.history.createHref(G.href),ref:o,onClick:lt([L,Mt]),onFocus:lt([m,zt]),onMouseEnter:lt([p,wt]),onMouseLeave:lt([w,et]),onTouchStart:lt([F,ue]),disabled:!!O,target:R,...Object.keys($e).length&&{style:$e},...Ke&&{className:Ke},...O&&{role:"link","aria-disabled":!0},...N&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function co(s){return x.forwardRef(function(t,r){return D.jsx(gi,{...t,_asChild:s,ref:r})})}const gi=x.forwardRef((s,e)=>{const{_asChild:t,...r}=s,{type:n,ref:i,...o}=yi(r,e),c=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof t>"u"&&delete o.disabled,x.createElement(t||"a",{...o,ref:i},c)});function Si(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const uo=s=>new bi(s);class bi extends Bn{constructor(e){super(e)}}function _i({router:s,children:e,...t}){s.update({...s.options,...t,context:{...s.options.context,...t.context}});const r=$r(),n=D.jsx(r.Provider,{value:s,children:e});return s.options.Wrap?D.jsx(s.options.Wrap,{children:n}):n}function lo({router:s,...e}){return D.jsx(_i,{router:s,...e,children:D.jsx(pi,{})})}var Ie=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ae=typeof window>"u"||"Deno"in globalThis;function yt(){}function wi(s,e){return typeof s=="function"?s(e):s}function Os(s){return typeof s=="number"&&s>=0&&s!==1/0}function Wr(s,e){return Math.max(s+(e||0)-Date.now(),0)}function ye(s,e){return typeof s=="function"?s(e):s}function _t(s,e){return typeof s=="function"?s(e):s}function gr(s,e){const{type:t="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:c}=s;if(o){if(r){if(e.queryHash!==Zs(o,e.options))return!1}else if(!Ne(e.queryKey,o))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||i&&!i(e))}function Sr(s,e){const{exact:t,status:r,predicate:n,mutationKey:i}=s;if(i){if(!e.options.mutationKey)return!1;if(t){if(ce(e.options.mutationKey)!==ce(i))return!1}else if(!Ne(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Zs(s,e){return((e==null?void 0:e.queryKeyHashFn)||ce)(s)}function ce(s){return JSON.stringify(s,(e,t)=>Is(t)?Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}):t)}function Ne(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ne(s[t],e[t])):!1}function Jr(s,e){if(s===e)return s;const t=br(s)&&br(e);if(t||Is(s)&&Is(e)){const r=t?s:Object.keys(s),n=r.length,i=t?e:Object.keys(e),o=i.length,c=t?[]:{};let h=0;for(let d=0;d<o;d++){const l=t?d:i[d];(!t&&r.includes(l)||t)&&s[l]===void 0&&e[l]===void 0?(c[l]=void 0,h++):(c[l]=Jr(s[l],e[l]),c[l]===s[l]&&s[l]!==void 0&&h++)}return n===o&&h===n?s:c}return e}function as(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function br(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Is(s){if(!_r(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!_r(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function _r(s){return Object.prototype.toString.call(s)==="[object Object]"}function Pi(s){return new Promise(e=>{setTimeout(e,s)})}function Ds(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Jr(s,e):e}function Ri(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function Ci(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var tr=Symbol();function Xr(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===tr?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Yt,kt,ge,Mr,xi=(Mr=class extends Ie{constructor(){super();I(this,Yt);I(this,kt);I(this,ge);P(this,ge,e=>{if(!ae&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,kt)||this.setEventListener(u(this,ge))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,kt))==null||e.call(this),P(this,kt,void 0))}setEventListener(e){var t;P(this,ge,e),(t=u(this,kt))==null||t.call(this),P(this,kt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,Yt)!==e&&(P(this,Yt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,Yt)=="boolean"?u(this,Yt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yt=new WeakMap,kt=new WeakMap,ge=new WeakMap,Mr),er=new xi,Se,At,be,Er,Mi=(Er=class extends Ie{constructor(){super();I(this,Se,!0);I(this,At);I(this,be);P(this,be,e=>{if(!ae&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,At)||this.setEventListener(u(this,be))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,At))==null||e.call(this),P(this,At,void 0))}setEventListener(e){var t;P(this,be,e),(t=u(this,At))==null||t.call(this),P(this,At,e(this.setOnline.bind(this)))}setOnline(e){u(this,Se)!==e&&(P(this,Se,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,Se)}},Se=new WeakMap,At=new WeakMap,be=new WeakMap,Er),cs=new Mi;function Ts(){let s,e;const t=new Promise((n,i)=>{s=n,e=i});t.status="pending",t.catch(()=>{});function r(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{r({status:"fulfilled",value:n}),s(n)},t.reject=n=>{r({status:"rejected",reason:n}),e(n)},t}function Ei(s){return Math.min(1e3*2**s,3e4)}function Yr(s){return(s??"online")==="online"?cs.isOnline():!0}var Zr=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function xs(s){return s instanceof Zr}function tn(s){let e=!1,t=0,r=!1,n;const i=Ts(),o=y=>{var S;r||(f(new Zr(y)),(S=s.abort)==null||S.call(s))},c=()=>{e=!0},h=()=>{e=!1},d=()=>er.isFocused()&&(s.networkMode==="always"||cs.isOnline())&&s.canRun(),l=()=>Yr(s.networkMode)&&s.canRun(),a=y=>{var S;r||(r=!0,(S=s.onSuccess)==null||S.call(s,y),n==null||n(),i.resolve(y))},f=y=>{var S;r||(r=!0,(S=s.onError)==null||S.call(s,y),n==null||n(),i.reject(y))},v=()=>new Promise(y=>{var S;n=b=>{(r||d())&&y(b)},(S=s.onPause)==null||S.call(s)}).then(()=>{var y;n=void 0,r||(y=s.onContinue)==null||y.call(s)}),g=()=>{if(r)return;let y;const S=t===0?s.initialPromise:void 0;try{y=S??s.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(a).catch(b=>{var _;if(r)return;const E=s.retry??(ae?0:3),R=s.retryDelay??Ei,O=typeof R=="function"?R(t,b):R,T=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,b);if(e||!T){f(b);return}t++,(_=s.onFail)==null||_.call(s,t,b),Pi(O).then(()=>d()?void 0:v()).then(()=>{e?f(b):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:c,continueRetry:h,canStart:l,start:()=>(l()?g():v().then(g),i)}}var Li=s=>setTimeout(s,0);function Fi(){let s=[],e=0,t=c=>{c()},r=c=>{c()},n=Li;const i=c=>{e?s.push(c):n(()=>{t(c)})},o=()=>{const c=s;s=[],c.length&&n(()=>{r(()=>{c.forEach(h=>{t(h)})})})};return{batch:c=>{let h;e++;try{h=c()}finally{e--,e||o()}return h},batchCalls:c=>(...h)=>{i(()=>{c(...h)})},schedule:i,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var tt=Fi(),Zt,Lr,en=(Lr=class{constructor(){I(this,Zt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Os(this.gcTime)&&P(this,Zt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(ae?1/0:5*60*1e3))}clearGcTimeout(){u(this,Zt)&&(clearTimeout(u(this,Zt)),P(this,Zt,void 0))}},Zt=new WeakMap,Lr),_e,we,mt,te,it,Ue,ee,gt,Et,Fr,Oi=(Fr=class extends en{constructor(e){super();I(this,gt);I(this,_e);I(this,we);I(this,mt);I(this,te);I(this,it);I(this,Ue);I(this,ee);P(this,ee,!1),P(this,Ue,e.defaultOptions),this.setOptions(e.options),this.observers=[],P(this,te,e.client),P(this,mt,u(this,te).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,_e,Ii(this.options)),this.state=e.state??u(this,_e),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,it))==null?void 0:e.promise}setOptions(e){this.options={...u(this,Ue),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,mt).remove(this)}setData(e,t){const r=Ds(this.state.data,e,this.options);return k(this,gt,Et).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){k(this,gt,Et).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,n;const t=(r=u(this,it))==null?void 0:r.promise;return(n=u(this,it))==null||n.cancel(e),t?t.then(yt).catch(yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,_e))}isActive(){return this.observers.some(e=>_t(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Wr(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,it))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,mt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,it)&&(u(this,ee)?u(this,it).cancel({revert:!0}):u(this,it).cancelRetry()),this.scheduleGc()),u(this,mt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,gt,Et).call(this,{type:"invalidate"})}fetch(e,t){var h,d,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,it))return u(this,it).continueRetry(),u(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(f=>f.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,n=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(P(this,ee,!0),r.signal)})},i=()=>{const a=Xr(this.options,t),f={client:u(this,te),queryKey:this.queryKey,meta:this.meta};return n(f),P(this,ee,!1),this.options.persister?this.options.persister(a,f,this):a(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,te),state:this.state,fetchFn:i};n(o),(h=this.options.behavior)==null||h.onFetch(o,this),P(this,we,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&k(this,gt,Et).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta});const c=a=>{var f,v,g,y;xs(a)&&a.silent||k(this,gt,Et).call(this,{type:"error",error:a}),xs(a)||((v=(f=u(this,mt).config).onError)==null||v.call(f,a,this),(y=(g=u(this,mt).config).onSettled)==null||y.call(g,this.state.data,a,this)),this.scheduleGc()};return P(this,it,tn({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:a=>{var f,v,g,y;if(a===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(S){c(S);return}(v=(f=u(this,mt).config).onSuccess)==null||v.call(f,a,this),(y=(g=u(this,mt).config).onSettled)==null||y.call(g,a,this.state.error,this),this.scheduleGc()},onError:c,onFail:(a,f)=>{k(this,gt,Et).call(this,{type:"failed",failureCount:a,error:f})},onPause:()=>{k(this,gt,Et).call(this,{type:"pause"})},onContinue:()=>{k(this,gt,Et).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),u(this,it).start()}},_e=new WeakMap,we=new WeakMap,mt=new WeakMap,te=new WeakMap,it=new WeakMap,Ue=new WeakMap,ee=new WeakMap,gt=new WeakSet,Et=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sn(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return xs(n)&&n.revert&&u(this,we)?{...u(this,we),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,mt).notify({query:this,type:"updated",action:e})})},Fr);function sn(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yr(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ii(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Pt,Or,Di=(Or=class extends Ie{constructor(e={}){super();I(this,Pt);this.config=e,P(this,Pt,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??Zs(n,t);let o=this.get(i);return o||(o=new Oi({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){u(this,Pt).has(e.queryHash)||(u(this,Pt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,Pt).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,Pt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,Pt).get(e)}getAll(){return[...u(this,Pt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gr(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>gr(e,r)):t}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pt=new WeakMap,Or),Rt,at,se,Ct,Tt,Ir,Ti=(Ir=class extends en{constructor(e){super();I(this,Ct);I(this,Rt);I(this,at);I(this,se);this.mutationId=e.mutationId,P(this,at,e.mutationCache),P(this,Rt,[]),this.state=e.state||rn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Rt).includes(e)||(u(this,Rt).push(e),this.clearGcTimeout(),u(this,at).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,Rt,u(this,Rt).filter(t=>t!==e)),this.scheduleGc(),u(this,at).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():u(this,at).remove(this))}continue(){var e;return((e=u(this,se))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,c,h,d,l,a,f,v,g,y,S,b,E,R,O,T,_,L,m;const t=()=>{k(this,Ct,Tt).call(this,{type:"continue"})};P(this,se,tn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(p,w)=>{k(this,Ct,Tt).call(this,{type:"failed",failureCount:p,error:w})},onPause:()=>{k(this,Ct,Tt).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,at).canRun(this)}));const r=this.state.status==="pending",n=!u(this,se).canStart();try{if(r)t();else{k(this,Ct,Tt).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(i=u(this,at).config).onMutate)==null?void 0:o.call(i,e,this));const w=await((h=(c=this.options).onMutate)==null?void 0:h.call(c,e));w!==this.state.context&&k(this,Ct,Tt).call(this,{type:"pending",context:w,variables:e,isPaused:n})}const p=await u(this,se).start();return await((l=(d=u(this,at).config).onSuccess)==null?void 0:l.call(d,p,e,this.state.context,this)),await((f=(a=this.options).onSuccess)==null?void 0:f.call(a,p,e,this.state.context)),await((g=(v=u(this,at).config).onSettled)==null?void 0:g.call(v,p,null,this.state.variables,this.state.context,this)),await((S=(y=this.options).onSettled)==null?void 0:S.call(y,p,null,e,this.state.context)),k(this,Ct,Tt).call(this,{type:"success",data:p}),p}catch(p){try{throw await((E=(b=u(this,at).config).onError)==null?void 0:E.call(b,p,e,this.state.context,this)),await((O=(R=this.options).onError)==null?void 0:O.call(R,p,e,this.state.context)),await((_=(T=u(this,at).config).onSettled)==null?void 0:_.call(T,void 0,p,this.state.variables,this.state.context,this)),await((m=(L=this.options).onSettled)==null?void 0:m.call(L,void 0,p,e,this.state.context)),p}finally{k(this,Ct,Tt).call(this,{type:"error",error:p})}}finally{u(this,at).runNext(this)}}},Rt=new WeakMap,at=new WeakMap,se=new WeakMap,Ct=new WeakSet,Tt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),tt.batch(()=>{u(this,Rt).forEach(r=>{r.onMutationUpdate(e)}),u(this,at).notify({mutation:this,type:"updated",action:e})})},Ir);function rn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,St,qe,Dr,ki=(Dr=class extends Ie{constructor(e={}){super();I(this,Lt);I(this,St);I(this,qe);this.config=e,P(this,Lt,new Set),P(this,St,new Map),P(this,qe,0)}build(e,t,r){const n=new Ti({mutationCache:this,mutationId:++He(this,qe)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){u(this,Lt).add(e);const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t);r?r.push(e):u(this,St).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,Lt).delete(e)){const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&u(this,St).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Je(e);if(typeof t=="string"){const r=u(this,St).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const t=Je(e);if(typeof t=="string"){const n=(r=u(this,St).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{u(this,Lt).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,Lt).clear(),u(this,St).clear()})}getAll(){return Array.from(u(this,Lt))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Sr(t,r))}findAll(e={}){return this.getAll().filter(t=>Sr(e,t))}notify(e){tt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return tt.batch(()=>Promise.all(e.map(t=>t.continue().catch(yt))))}},Lt=new WeakMap,St=new WeakMap,qe=new WeakMap,Dr);function Je(s){var e;return(e=s.options.scope)==null?void 0:e.id}function wr(s){return{onFetch:(e,t)=>{var l,a,f,v,g;const r=e.options,n=(f=(a=(l=e.fetchOptions)==null?void 0:l.meta)==null?void 0:a.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let c={pages:[],pageParams:[]},h=0;const d=async()=>{let y=!1;const S=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=Xr(e.options,e.fetchOptions),E=async(R,O,T)=>{if(y)return Promise.reject();if(O==null&&R.pages.length)return Promise.resolve(R);const _={client:e.client,queryKey:e.queryKey,pageParam:O,direction:T?"backward":"forward",meta:e.options.meta};S(_);const L=await b(_),{maxPages:m}=e.options,p=T?Ci:Ri;return{pages:p(R.pages,L,m),pageParams:p(R.pageParams,O,m)}};if(n&&i.length){const R=n==="backward",O=R?Ai:Pr,T={pages:i,pageParams:o},_=O(r,T);c=await E(T,_,R)}else{const R=s??i.length;do{const O=h===0?o[0]??r.initialPageParam:Pr(r,c);if(h>0&&O==null)break;c=await E(c,O),h++}while(h<R)}return c};e.options.persister?e.fetchFn=()=>{var y,S;return(S=(y=e.options).persister)==null?void 0:S.call(y,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function Pr(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function Ai(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var X,jt,Bt,Pe,Re,Nt,Ce,xe,Tr,ho=(Tr=class{constructor(s={}){I(this,X);I(this,jt);I(this,Bt);I(this,Pe);I(this,Re);I(this,Nt);I(this,Ce);I(this,xe);P(this,X,s.queryCache||new Di),P(this,jt,s.mutationCache||new ki),P(this,Bt,s.defaultOptions||{}),P(this,Pe,new Map),P(this,Re,new Map),P(this,Nt,0)}mount(){He(this,Nt)._++,u(this,Nt)===1&&(P(this,Ce,er.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,X).onFocus())})),P(this,xe,cs.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,X).onOnline())})))}unmount(){var s,e;He(this,Nt)._--,u(this,Nt)===0&&((s=u(this,Ce))==null||s.call(this),P(this,Ce,void 0),(e=u(this,xe))==null||e.call(this),P(this,xe,void 0))}isFetching(s){return u(this,X).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return u(this,jt).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,X).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=u(this,X).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(ye(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return u(this,X).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),n=u(this,X).get(r.queryHash),i=n==null?void 0:n.state.data,o=wi(e,i);if(o!==void 0)return u(this,X).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return tt.batch(()=>u(this,X).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,X).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=u(this,X);tt.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=u(this,X);return tt.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=tt.batch(()=>u(this,X).findAll(s).map(n=>n.cancel(t)));return Promise.all(r).then(yt).catch(yt)}invalidateQueries(s,e={}){return tt.batch(()=>(u(this,X).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=tt.batch(()=>u(this,X).findAll(s).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(yt)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yt)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=u(this,X).build(this,e);return t.isStaleByTime(ye(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(yt).catch(yt)}fetchInfiniteQuery(s){return s.behavior=wr(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(yt).catch(yt)}ensureInfiniteQueryData(s){return s.behavior=wr(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return cs.isOnline()?u(this,jt).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,X)}getMutationCache(){return u(this,jt)}getDefaultOptions(){return u(this,Bt)}setDefaultOptions(s){P(this,Bt,s)}setQueryDefaults(s,e){u(this,Pe).set(ce(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...u(this,Pe).values()],t={};return e.forEach(r=>{Ne(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){u(this,Re).set(ce(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...u(this,Re).values()],t={};return e.forEach(r=>{Ne(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...u(this,Bt).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Zs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tr&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...u(this,Bt).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){u(this,X).clear(),u(this,jt).clear()}},X=new WeakMap,jt=new WeakMap,Bt=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Nt=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Tr),ht,j,Qe,ct,re,Me,Ut,qt,Ve,Ee,Le,ne,ie,Qt,Fe,U,Ae,ks,As,js,Bs,Ns,Us,qs,nn,kr,ji=(kr=class extends Ie{constructor(e,t){super();I(this,U);I(this,ht);I(this,j);I(this,Qe);I(this,ct);I(this,re);I(this,Me);I(this,Ut);I(this,qt);I(this,Ve);I(this,Ee);I(this,Le);I(this,ne);I(this,ie);I(this,Qt);I(this,Fe,new Set);this.options=t,P(this,ht,e),P(this,qt,null),P(this,Ut,Ts()),this.options.experimental_prefetchInRender||u(this,Ut).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,j).addObserver(this),Rr(u(this,j),this.options)?k(this,U,Ae).call(this):this.updateResult(),k(this,U,Bs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qs(u(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qs(u(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,U,Ns).call(this),k(this,U,Us).call(this),u(this,j).removeObserver(this)}setOptions(e){const t=this.options,r=u(this,j);if(this.options=u(this,ht).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _t(this.options.enabled,u(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,U,qs).call(this),u(this,j).setOptions(this.options),t._defaulted&&!as(this.options,t)&&u(this,ht).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,j),observer:this});const n=this.hasListeners();n&&Cr(u(this,j),r,this.options,t)&&k(this,U,Ae).call(this),this.updateResult(),n&&(u(this,j)!==r||_t(this.options.enabled,u(this,j))!==_t(t.enabled,u(this,j))||ye(this.options.staleTime,u(this,j))!==ye(t.staleTime,u(this,j)))&&k(this,U,ks).call(this);const i=k(this,U,As).call(this);n&&(u(this,j)!==r||_t(this.options.enabled,u(this,j))!==_t(t.enabled,u(this,j))||i!==u(this,Qt))&&k(this,U,js).call(this,i)}getOptimisticResult(e){const t=u(this,ht).getQueryCache().build(u(this,ht),e),r=this.createResult(t,e);return Ni(this,r)&&(P(this,ct,r),P(this,Me,this.options),P(this,re,u(this,j).state)),r}getCurrentResult(){return u(this,ct)}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t==null||t(n),Reflect.get(r,n))})}trackProp(e){u(this,Fe).add(e)}getCurrentQuery(){return u(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=u(this,ht).defaultQueryOptions(e),r=u(this,ht).getQueryCache().build(u(this,ht),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return k(this,U,Ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,ct)))}createResult(e,t){var p;const r=u(this,j),n=this.options,i=u(this,ct),o=u(this,re),c=u(this,Me),d=e!==r?e.state:u(this,Qe),{state:l}=e;let a={...l},f=!1,v;if(t._optimisticResults){const w=this.hasListeners(),F=!w&&Rr(e,t),C=w&&Cr(e,r,t,n);(F||C)&&(a={...a,...sn(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:S}=a;v=a.data;let b=!1;if(t.placeholderData!==void 0&&v===void 0&&S==="pending"){let w;i!=null&&i.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData)?(w=i.data,b=!0):w=typeof t.placeholderData=="function"?t.placeholderData((p=u(this,Le))==null?void 0:p.state.data,u(this,Le)):t.placeholderData,w!==void 0&&(S="success",v=Ds(i==null?void 0:i.data,w,t),f=!0)}if(t.select&&v!==void 0&&!b)if(i&&v===(o==null?void 0:o.data)&&t.select===u(this,Ve))v=u(this,Ee);else try{P(this,Ve,t.select),v=t.select(v),v=Ds(i==null?void 0:i.data,v,t),P(this,Ee,v),P(this,qt,null)}catch(w){P(this,qt,w)}u(this,qt)&&(g=u(this,qt),v=u(this,Ee),y=Date.now(),S="error");const E=a.fetchStatus==="fetching",R=S==="pending",O=S==="error",T=R&&E,_=v!==void 0,m={status:S,fetchStatus:a.fetchStatus,isPending:R,isSuccess:S==="success",isError:O,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:a.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>d.dataUpdateCount||a.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!R,isLoadingError:O&&!_,isPaused:a.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:O&&_,isStale:sr(e,t),refetch:this.refetch,promise:u(this,Ut)};if(this.options.experimental_prefetchInRender){const w=M=>{m.status==="error"?M.reject(m.error):m.data!==void 0&&M.resolve(m.data)},F=()=>{const M=P(this,Ut,m.promise=Ts());w(M)},C=u(this,Ut);switch(C.status){case"pending":e.queryHash===r.queryHash&&w(C);break;case"fulfilled":(m.status==="error"||m.data!==C.value)&&F();break;case"rejected":(m.status!=="error"||m.error!==C.reason)&&F();break}}return m}updateResult(){const e=u(this,ct),t=this.createResult(u(this,j),this.options);if(P(this,re,u(this,j).state),P(this,Me,this.options),u(this,re).data!==void 0&&P(this,Le,u(this,j)),as(t,e))return;P(this,ct,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!u(this,Fe).size)return!0;const o=new Set(i??u(this,Fe));return this.options.throwOnError&&o.add("error"),Object.keys(u(this,ct)).some(c=>{const h=c;return u(this,ct)[h]!==e[h]&&o.has(h)})};k(this,U,nn).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,U,Bs).call(this)}},ht=new WeakMap,j=new WeakMap,Qe=new WeakMap,ct=new WeakMap,re=new WeakMap,Me=new WeakMap,Ut=new WeakMap,qt=new WeakMap,Ve=new WeakMap,Ee=new WeakMap,Le=new WeakMap,ne=new WeakMap,ie=new WeakMap,Qt=new WeakMap,Fe=new WeakMap,U=new WeakSet,Ae=function(e){k(this,U,qs).call(this);let t=u(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(yt)),t},ks=function(){k(this,U,Ns).call(this);const e=ye(this.options.staleTime,u(this,j));if(ae||u(this,ct).isStale||!Os(e))return;const r=Wr(u(this,ct).dataUpdatedAt,e)+1;P(this,ne,setTimeout(()=>{u(this,ct).isStale||this.updateResult()},r))},As=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,j)):this.options.refetchInterval)??!1},js=function(e){k(this,U,Us).call(this),P(this,Qt,e),!(ae||_t(this.options.enabled,u(this,j))===!1||!Os(u(this,Qt))||u(this,Qt)===0)&&P(this,ie,setInterval(()=>{(this.options.refetchIntervalInBackground||er.isFocused())&&k(this,U,Ae).call(this)},u(this,Qt)))},Bs=function(){k(this,U,ks).call(this),k(this,U,js).call(this,k(this,U,As).call(this))},Ns=function(){u(this,ne)&&(clearTimeout(u(this,ne)),P(this,ne,void 0))},Us=function(){u(this,ie)&&(clearInterval(u(this,ie)),P(this,ie,void 0))},qs=function(){const e=u(this,ht).getQueryCache().build(u(this,ht),this.options);if(e===u(this,j))return;const t=u(this,j);P(this,j,e),P(this,Qe,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},nn=function(e){tt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(u(this,ct))}),u(this,ht).getQueryCache().notify({query:u(this,j),type:"observerResultsUpdated"})})},kr);function Bi(s,e){return _t(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Rr(s,e){return Bi(s,e)||s.state.data!==void 0&&Qs(s,e,e.refetchOnMount)}function Qs(s,e,t){if(_t(e.enabled,s)!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&sr(s,e)}return!1}function Cr(s,e,t,r){return(s!==e||_t(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&sr(s,t)}function sr(s,e){return _t(e.enabled,s)!==!1&&s.isStaleByTime(ye(e.staleTime,s))}function Ni(s,e){return!as(s.getCurrentResult(),e)}var Vt,Kt,dt,Ft,Dt,Ze,Vs,Ar,Ui=(Ar=class extends Ie{constructor(e,t){super();I(this,Dt);I(this,Vt);I(this,Kt);I(this,dt);I(this,Ft);P(this,Vt,e),this.setOptions(t),this.bindMethods(),k(this,Dt,Ze).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const t=this.options;this.options=u(this,Vt).defaultMutationOptions(e),as(this.options,t)||u(this,Vt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,dt),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&ce(t.mutationKey)!==ce(this.options.mutationKey)?this.reset():((r=u(this,dt))==null?void 0:r.state.status)==="pending"&&u(this,dt).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=u(this,dt))==null||e.removeObserver(this)}onMutationUpdate(e){k(this,Dt,Ze).call(this),k(this,Dt,Vs).call(this,e)}getCurrentResult(){return u(this,Kt)}reset(){var e;(e=u(this,dt))==null||e.removeObserver(this),P(this,dt,void 0),k(this,Dt,Ze).call(this),k(this,Dt,Vs).call(this)}mutate(e,t){var r;return P(this,Ft,t),(r=u(this,dt))==null||r.removeObserver(this),P(this,dt,u(this,Vt).getMutationCache().build(u(this,Vt),this.options)),u(this,dt).addObserver(this),u(this,dt).execute(e)}},Vt=new WeakMap,Kt=new WeakMap,dt=new WeakMap,Ft=new WeakMap,Dt=new WeakSet,Ze=function(){var t;const e=((t=u(this,dt))==null?void 0:t.state)??rn();P(this,Kt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Vs=function(e){tt.batch(()=>{var t,r,n,i,o,c,h,d;if(u(this,Ft)&&this.hasListeners()){const l=u(this,Kt).variables,a=u(this,Kt).context;(e==null?void 0:e.type)==="success"?((r=(t=u(this,Ft)).onSuccess)==null||r.call(t,e.data,l,a),(i=(n=u(this,Ft)).onSettled)==null||i.call(n,e.data,null,l,a)):(e==null?void 0:e.type)==="error"&&((c=(o=u(this,Ft)).onError)==null||c.call(o,e.error,l,a),(d=(h=u(this,Ft)).onSettled)==null||d.call(h,void 0,e.error,l,a))}this.listeners.forEach(l=>{l(u(this,Kt))})})},Ar),on=x.createContext(void 0),an=s=>{const e=x.useContext(on);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fo=({client:s,children:e})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),D.jsx(on.Provider,{value:s,children:e})),cn=x.createContext(!1),qi=()=>x.useContext(cn);cn.Provider;function Qi(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Vi=x.createContext(Qi()),Ki=()=>x.useContext(Vi);function un(s,e){return typeof s=="function"?s(...e):!!s}function Ks(){}var $i=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},Hi=s=>{x.useEffect(()=>{s.clearReset()},[s])},zi=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:n})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(n&&s.data===void 0||un(t,[s.error,r])),Gi=s=>{const e=s.staleTime;s.suspense&&(s.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},Wi=(s,e)=>s.isLoading&&s.isFetching&&!e,Ji=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,xr=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Xi(s,e,t){var a,f,v,g,y;const r=an(),n=qi(),i=Ki(),o=r.defaultQueryOptions(s);(f=(a=r.getDefaultOptions().queries)==null?void 0:a._experimental_beforeQuery)==null||f.call(a,o),o._optimisticResults=n?"isRestoring":"optimistic",Gi(o),$i(o,i),Hi(i);const c=!r.getQueryCache().get(o.queryHash),[h]=x.useState(()=>new e(r,o)),d=h.getOptimisticResult(o),l=!n&&s.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const b=l?h.subscribe(tt.batchCalls(S)):Ks;return h.updateResult(),b},[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(o)},[o,h]),Ji(o,d))throw xr(o,h,i);if(zi({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,d),o.experimental_prefetchInRender&&!ae&&Wi(d,n)){const S=c?xr(o,h,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;S==null||S.catch(Ks).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?d:h.trackResult(d)}function po(s,e){return Xi(s,ji)}function mo(s,e){const t=an(),[r]=x.useState(()=>new Ui(t,s));x.useEffect(()=>{r.setOptions(s)},[r,s]);const n=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(tt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,c)=>{r.mutate(o,c).catch(Ks)},[r]);if(n.error&&un(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}export{so as N,li as O,ho as Q,oo as R,mo as a,po as b,co as c,ro as d,fo as e,no as f,ao as g,eo as h,Ys as i,D as j,uo as k,lo as l,io as m,Xs as n,Js as o,Gr as r,an as u};
