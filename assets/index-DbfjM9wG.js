var zt=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var u=(t,e,s)=>(zt(t,e,"read from private field"),s?s.call(t):e.get(t)),F=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},m=(t,e,s,r)=>(zt(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var jt=(t,e,s,r)=>({set _(i){m(t,e,i,s)},get _(){return u(t,e,r)}}),P=(t,e,s)=>(zt(t,e,"access private method"),s);import{c as kr,a as ar,j as f,B as J,T as Mr,I as Ir,b as js,d as Ne,u as qr,i as Lr,S as Qr,P as ur,C as ze,e as Ur,f as Br,g as Nr,h as Ps,k as ve,l as Kr,m as Hr,n as zr,o as Gr}from"./mui-CCK5WWpA.js";import{c as Wr,a as oe,g as $r,r as ne}from"./react-C75nn7xY.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Zt={},Vs=Wr;Zt.createRoot=Vs.createRoot,Zt.hydrateRoot=Vs.hydrateRoot;const Jr=kr({palette:{primary:{main:"#ea2b06"},secondary:{main:"#434343"},background:{default:"#f8f8f8"}}}),Xr=ar(f.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Yr=ar(f.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var Rt=t=>t.type==="checkbox",Ge=t=>t instanceof Date,se=t=>t==null;const or=t=>typeof t=="object";var H=t=>!se(t)&&!Array.isArray(t)&&or(t)&&!Ge(t),Zr=t=>H(t)&&t.target?Rt(t.target)?t.target.checked:t.target.value:t,ei=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ti=(t,e)=>t.has(ei(e)),si=t=>{const e=t.constructor&&t.constructor.prototype;return H(e)&&e.hasOwnProperty("isPrototypeOf")},ds=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function he(t){let e;const s=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ds&&(t instanceof Blob||t instanceof FileList))&&(s||H(t)))if(e=s?[]:{},!s&&!si(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=he(t[r]));else return t;return e}var Dt=t=>Array.isArray(t)?t.filter(Boolean):[],B=t=>t===void 0,b=(t,e,s)=>{if(!e||!H(t))return s;const r=Dt(e.split(/[,[\].]+?/)).reduce((i,a)=>se(i)?i:i[a],t);return B(r)||r===t?B(t[e])?s:t[e]:r},Oe=t=>typeof t=="boolean";const Ts={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ge={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};oe.createContext(null);var ri=(t,e,s,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const c=a;return e._proxyFormState[c]!==ge.all&&(e._proxyFormState[c]=!r||ge.all),t[c]}});return i},le=t=>H(t)&&!Object.keys(t).length,ii=(t,e,s,r)=>{s(t);const{name:i,...a}=t;return le(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(c=>e[c]===ge.all)},Gt=t=>Array.isArray(t)?t:[t];function ni(t){const e=oe.useRef(t);e.current=t,oe.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}var Fe=t=>typeof t=="string",ai=(t,e,s,r,i)=>Fe(t)?(r&&e.watch.add(t),b(s,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),b(s,a))):(r&&(e.watchAll=!0),s),fs=t=>/^\w*$/.test(t),lr=t=>Dt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(t,e,s)=>{let r=-1;const i=fs(e)?[e]:lr(e),a=i.length,c=a-1;for(;++r<a;){const h=i[r];let O=s;if(r!==c){const D=t[h];O=H(D)||Array.isArray(D)?D:isNaN(+i[r+1])?{}:[]}t[h]=O,t=t[h]}return t},ui=(t,e,s,r,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:i||!0}}:{},ks=t=>({isOnSubmit:!t||t===ge.onSubmit,isOnBlur:t===ge.onBlur,isOnChange:t===ge.onChange,isOnAll:t===ge.all,isOnTouch:t===ge.onTouched}),Ms=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ft=(t,e,s,r)=>{for(const i of s||Object.keys(t)){const a=b(t,i);if(a){const{_f:c,...h}=a;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!r)break;if(c.ref&&e(c.ref,c.name)&&!r)break;ft(h,e)}else H(h)&&ft(h,e)}}};var oi=(t,e,s)=>{const r=Dt(b(t,s));return L(r,"root",e[s]),L(t,s,r),t},ys=t=>t.type==="file",Ve=t=>typeof t=="function",kt=t=>{if(!ds)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Tt=t=>Fe(t),ps=t=>t.type==="radio",Mt=t=>t instanceof RegExp;const Is={value:!1,isValid:!1},qs={value:!0,isValid:!0};var cr=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!B(t[0].attributes.value)?B(t[0].value)||t[0].value===""?qs:{value:t[0].value,isValid:!0}:qs:Is}return Is};const Ls={isValid:!1,value:null};var hr=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Ls):Ls;function Qs(t,e,s="validate"){if(Tt(t)||Array.isArray(t)&&t.every(Tt)||Oe(t)&&!t)return{type:s,message:Tt(t)?t:"",ref:e}}var He=t=>H(t)&&!Mt(t)?t:{value:t,message:""},Us=async(t,e,s,r,i)=>{const{ref:a,refs:c,required:h,maxLength:O,minLength:D,min:S,max:g,pattern:x,validate:C,name:V,valueAsNumber:U,mount:T,disabled:R}=t._f,v=b(e,V);if(!T||R)return{};const E=c?c[0]:a,I=_=>{r&&E.reportValidity&&(E.setCustomValidity(Oe(_)?"":_||""),E.reportValidity())},j={},W=ps(a),Y=Rt(a),A=W||Y,z=(U||ys(a))&&B(a.value)&&B(v)||kt(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,re=ui.bind(null,V,s,j),_t=(_,k,N,X=Se.maxLength,ye=Se.minLength)=>{const ce=_?k:N;j[V]={type:_?X:ye,message:ce,ref:a,...re(_?X:ye,ce)}};if(i?!Array.isArray(v)||!v.length:h&&(!A&&(z||se(v))||Oe(v)&&!v||Y&&!cr(c).isValid||W&&!hr(c).isValid)){const{value:_,message:k}=Tt(h)?{value:!!h,message:h}:He(h);if(_&&(j[V]={type:Se.required,message:k,ref:E,...re(Se.required,k)},!s))return I(k),j}if(!z&&(!se(S)||!se(g))){let _,k;const N=He(g),X=He(S);if(!se(v)&&!isNaN(v)){const ye=a.valueAsNumber||v&&+v;se(N.value)||(_=ye>N.value),se(X.value)||(k=ye<X.value)}else{const ye=a.valueAsDate||new Date(v),ce=ct=>new Date(new Date().toDateString()+" "+ct),ot=a.type=="time",lt=a.type=="week";Fe(N.value)&&v&&(_=ot?ce(v)>ce(N.value):lt?v>N.value:ye>new Date(N.value)),Fe(X.value)&&v&&(k=ot?ce(v)<ce(X.value):lt?v<X.value:ye<new Date(X.value))}if((_||k)&&(_t(!!_,N.message,X.message,Se.max,Se.min),!s))return I(j[V].message),j}if((O||D)&&!z&&(Fe(v)||i&&Array.isArray(v))){const _=He(O),k=He(D),N=!se(_.value)&&v.length>+_.value,X=!se(k.value)&&v.length<+k.value;if((N||X)&&(_t(N,_.message,k.message),!s))return I(j[V].message),j}if(x&&!z&&Fe(v)){const{value:_,message:k}=He(x);if(Mt(_)&&!v.match(_)&&(j[V]={type:Se.pattern,message:k,ref:a,...re(Se.pattern,k)},!s))return I(k),j}if(C){if(Ve(C)){const _=await C(v,e),k=Qs(_,E);if(k&&(j[V]={...k,...re(Se.validate,k.message)},!s))return I(k.message),j}else if(H(C)){let _={};for(const k in C){if(!le(_)&&!s)break;const N=Qs(await C[k](v,e),E,k);N&&(_={...N,...re(k,N.message)},I(N.message),s&&(j[V]=_))}if(!le(_)&&(j[V]={ref:E,..._},!s))return j}}return I(!0),j};function li(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=B(t)?r++:t[e[r++]];return t}function ci(t){for(const e in t)if(t.hasOwnProperty(e)&&!B(t[e]))return!1;return!0}function K(t,e){const s=Array.isArray(e)?e:fs(e)?[e]:lr(e),r=s.length===1?t:li(t,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(H(r)&&le(r)||Array.isArray(r)&&ci(r))&&K(t,s.slice(0,-1)),t}var Wt=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},It=t=>se(t)||!or(t);function Te(t,e){if(It(t)||It(e))return t===e;if(Ge(t)&&Ge(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const c=e[i];if(Ge(a)&&Ge(c)||H(a)&&H(c)||Array.isArray(a)&&Array.isArray(c)?!Te(a,c):a!==c)return!1}}return!0}var dr=t=>t.type==="select-multiple",hi=t=>ps(t)||Rt(t),$t=t=>kt(t)&&t.isConnected,fr=t=>{for(const e in t)if(Ve(t[e]))return!0;return!1};function qt(t,e={}){const s=Array.isArray(t);if(H(t)||s)for(const r in t)Array.isArray(t[r])||H(t[r])&&!fr(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qt(t[r],e[r])):se(t[r])||(e[r]=!0);return e}function yr(t,e,s){const r=Array.isArray(t);if(H(t)||r)for(const i in t)Array.isArray(t[i])||H(t[i])&&!fr(t[i])?B(e)||It(s[i])?s[i]=Array.isArray(t[i])?qt(t[i],[]):{...qt(t[i])}:yr(t[i],se(e)?{}:e[i],s[i]):s[i]=!Te(t[i],e[i]);return s}var Pt=(t,e)=>yr(t,e,qt(e)),pr=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>B(t)?t:e?t===""?NaN:t&&+t:s&&Fe(t)?new Date(t):r?r(t):t;function Jt(t){const e=t.ref;if(!(t.refs?t.refs.every(s=>s.disabled):e.disabled))return ys(e)?e.files:ps(e)?hr(t.refs).value:dr(e)?[...e.selectedOptions].map(({value:s})=>s):Rt(e)?cr(t.refs).value:pr(B(e.value)?t.ref.value:e.value,t)}var di=(t,e,s,r)=>{const i={};for(const a of t){const c=b(e,a);c&&L(i,a,c._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:r}},ht=t=>B(t)?t:Mt(t)?t.source:H(t)?Mt(t.value)?t.value.source:t.value:t,fi=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Bs(t,e,s){const r=b(t,s);if(r||fs(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),c=b(e,a),h=b(t,a);if(c&&!Array.isArray(c)&&s!==a)return{name:s};if(h&&h.type)return{name:a,error:h};i.pop()}return{name:s}}var yi=(t,e,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?r.isOnBlur:i.isOnBlur)?!t:(s?r.isOnChange:i.isOnChange)?t:!0,pi=(t,e)=>!Dt(b(t,e)).length&&K(t,e);const gi={mode:ge.onSubmit,reValidateMode:ge.onChange,shouldFocusError:!0};function vi(t={}){let e={...gi,...t},s={submitCount:0,isDirty:!1,isLoading:Ve(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=H(e.defaultValues)||H(e.values)?he(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:he(i),c={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},O,D=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Wt(),array:Wt(),state:Wt()},x=ks(e.mode),C=ks(e.reValidateMode),V=e.criteriaMode===ge.all,U=n=>o=>{clearTimeout(D),D=setTimeout(n,o)},T=async n=>{if(S.isValid||n){const o=e.resolver?le((await A()).errors):await re(r,!0);o!==s.isValid&&g.state.next({isValid:o})}},R=(n,o)=>{(S.isValidating||S.validatingFields)&&((n||Array.from(h.mount)).forEach(l=>{l&&(o?L(s.validatingFields,l,o):K(s.validatingFields,l))}),g.state.next({validatingFields:s.validatingFields,isValidating:!le(s.validatingFields)}))},v=(n,o=[],l,p,y=!0,d=!0)=>{if(p&&l){if(c.action=!0,d&&Array.isArray(b(r,n))){const w=l(b(r,n),p.argA,p.argB);y&&L(r,n,w)}if(d&&Array.isArray(b(s.errors,n))){const w=l(b(s.errors,n),p.argA,p.argB);y&&L(s.errors,n,w),pi(s.errors,n)}if(S.touchedFields&&d&&Array.isArray(b(s.touchedFields,n))){const w=l(b(s.touchedFields,n),p.argA,p.argB);y&&L(s.touchedFields,n,w)}S.dirtyFields&&(s.dirtyFields=Pt(i,a)),g.state.next({name:n,isDirty:_(n,o),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else L(a,n,o)},E=(n,o)=>{L(s.errors,n,o),g.state.next({errors:s.errors})},I=n=>{s.errors=n,g.state.next({errors:s.errors,isValid:!1})},j=(n,o,l,p)=>{const y=b(r,n);if(y){const d=b(a,n,B(l)?b(i,n):l);B(d)||p&&p.defaultChecked||o?L(a,n,o?d:Jt(y._f)):X(n,d),c.mount&&T()}},W=(n,o,l,p,y)=>{let d=!1,w=!1;const M={name:n},G=!!(b(r,n)&&b(r,n)._f.disabled);if(!l||p){S.isDirty&&(w=s.isDirty,s.isDirty=M.isDirty=_(),d=w!==M.isDirty);const ae=G||Te(b(i,n),o);w=!!(!G&&b(s.dirtyFields,n)),ae||G?K(s.dirtyFields,n):L(s.dirtyFields,n,!0),M.dirtyFields=s.dirtyFields,d=d||S.dirtyFields&&w!==!ae}if(l){const ae=b(s.touchedFields,n);ae||(L(s.touchedFields,n,l),M.touchedFields=s.touchedFields,d=d||S.touchedFields&&ae!==l)}return d&&y&&g.state.next(M),d?M:{}},Y=(n,o,l,p)=>{const y=b(s.errors,n),d=S.isValid&&Oe(o)&&s.isValid!==o;if(t.delayError&&l?(O=U(()=>E(n,l)),O(t.delayError)):(clearTimeout(D),O=null,l?L(s.errors,n,l):K(s.errors,n)),(l?!Te(y,l):y)||!le(p)||d){const w={...p,...d&&Oe(o)?{isValid:o}:{},errors:s.errors,name:n};s={...s,...w},g.state.next(w)}},A=async n=>{R(n,!0);const o=await e.resolver(a,e.context,di(n||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return R(n),o},z=async n=>{const{errors:o}=await A(n);if(n)for(const l of n){const p=b(o,l);p?L(s.errors,l,p):K(s.errors,l)}else s.errors=o;return o},re=async(n,o,l={valid:!0})=>{for(const p in n){const y=n[p];if(y){const{_f:d,...w}=y;if(d){const M=h.array.has(d.name);R([p],!0);const G=await Us(y,a,V,e.shouldUseNativeValidation&&!o,M);if(R([p]),G[d.name]&&(l.valid=!1,o))break;!o&&(b(G,d.name)?M?oi(s.errors,G,d.name):L(s.errors,d.name,G[d.name]):K(s.errors,d.name))}w&&await re(w,o,l)}}return l.valid},_t=()=>{for(const n of h.unMount){const o=b(r,n);o&&(o._f.refs?o._f.refs.every(l=>!$t(l)):!$t(o._f.ref))&&Bt(n)}h.unMount=new Set},_=(n,o)=>(n&&o&&L(a,n,o),!Te(ws(),i)),k=(n,o,l)=>ai(n,h,{...c.mount?a:B(o)?i:Fe(n)?{[n]:o}:o},l,o),N=n=>Dt(b(c.mount?a:i,n,t.shouldUnregister?b(i,n,[]):[])),X=(n,o,l={})=>{const p=b(r,n);let y=o;if(p){const d=p._f;d&&(!d.disabled&&L(a,n,pr(o,d)),y=kt(d.ref)&&se(o)?"":o,dr(d.ref)?[...d.ref.options].forEach(w=>w.selected=y.includes(w.value)):d.refs?Rt(d.ref)?d.refs.length>1?d.refs.forEach(w=>(!w.defaultChecked||!w.disabled)&&(w.checked=Array.isArray(y)?!!y.find(M=>M===w.value):y===w.value)):d.refs[0]&&(d.refs[0].checked=!!y):d.refs.forEach(w=>w.checked=w.value===y):ys(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||g.values.next({name:n,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&W(n,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ct(n)},ye=(n,o,l)=>{for(const p in o){const y=o[p],d=`${n}.${p}`,w=b(r,d);(h.array.has(n)||!It(y)||w&&!w._f)&&!Ge(y)?ye(d,y,l):X(d,y,l)}},ce=(n,o,l={})=>{const p=b(r,n),y=h.array.has(n),d=he(o);L(a,n,d),y?(g.array.next({name:n,values:{...a}}),(S.isDirty||S.dirtyFields)&&l.shouldDirty&&g.state.next({name:n,dirtyFields:Pt(i,a),isDirty:_(n,d)})):p&&!p._f&&!se(d)?ye(n,d,l):X(n,d,l),Ms(n,h)&&g.state.next({...s}),g.values.next({name:c.mount?n:void 0,values:{...a}})},ot=async n=>{c.mount=!0;const o=n.target;let l=o.name,p=!0;const y=b(r,l),d=()=>o.type?Jt(y._f):Zr(n),w=M=>{p=Number.isNaN(M)||M===b(a,l,M)};if(y){let M,G;const ae=d(),Ke=n.type===Ts.BLUR||n.type===Ts.FOCUS_OUT,Pr=!fi(y._f)&&!e.resolver&&!b(s.errors,l)&&!y._f.deps||yi(Ke,b(s.touchedFields,l),s.isSubmitted,C,x),Kt=Ms(l,h,Ke);L(a,l,ae),Ke?(y._f.onBlur&&y._f.onBlur(n),O&&O(0)):y._f.onChange&&y._f.onChange(n);const Ht=W(l,ae,Ke,!1),Vr=!le(Ht)||Kt;if(!Ke&&g.values.next({name:l,type:n.type,values:{...a}}),Pr)return S.isValid&&T(),Vr&&g.state.next({name:l,...Kt?{}:Ht});if(!Ke&&Kt&&g.state.next({...s}),e.resolver){const{errors:Es}=await A([l]);if(w(ae),p){const Tr=Bs(s.errors,r,l),_s=Bs(Es,r,Tr.name||l);M=_s.error,l=_s.name,G=le(Es)}}else R([l],!0),M=(await Us(y,a,V,e.shouldUseNativeValidation))[l],R([l]),w(ae),p&&(M?G=!1:S.isValid&&(G=await re(r,!0)));p&&(y._f.deps&&ct(y._f.deps),Y(l,G,M,Ht))}},lt=(n,o)=>{if(b(s.errors,o)&&n.focus)return n.focus(),1},ct=async(n,o={})=>{let l,p;const y=Gt(n);if(e.resolver){const d=await z(B(n)?n:y);l=le(d),p=n?!y.some(w=>b(d,w)):l}else n?(p=(await Promise.all(y.map(async d=>{const w=b(r,d);return await re(w&&w._f?{[d]:w}:w)}))).every(Boolean),!(!p&&!s.isValid)&&T()):p=l=await re(r);return g.state.next({...!Fe(n)||S.isValid&&l!==s.isValid?{}:{name:n},...e.resolver||!n?{isValid:l}:{},errors:s.errors}),o.shouldFocus&&!p&&ft(r,lt,n?y:h.mount),p},ws=n=>{const o={...c.mount?a:i};return B(n)?o:Fe(n)?b(o,n):n.map(l=>b(o,l))},Fs=(n,o)=>({invalid:!!b((o||s).errors,n),isDirty:!!b((o||s).dirtyFields,n),isTouched:!!b((o||s).touchedFields,n),isValidating:!!b((o||s).validatingFields,n),error:b((o||s).errors,n)}),Dr=n=>{n&&Gt(n).forEach(o=>K(s.errors,o)),g.state.next({errors:n?s.errors:{}})},Ss=(n,o,l)=>{const p=(b(r,n,{_f:{}})._f||{}).ref;L(s.errors,n,{...o,ref:p}),g.state.next({name:n,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&p&&p.focus&&p.focus()},Er=(n,o)=>Ve(n)?g.values.subscribe({next:l=>n(k(void 0,o),l)}):k(n,o,!0),Bt=(n,o={})=>{for(const l of n?Gt(n):h.mount)h.mount.delete(l),h.array.delete(l),o.keepValue||(K(r,l),K(a,l)),!o.keepError&&K(s.errors,l),!o.keepDirty&&K(s.dirtyFields,l),!o.keepTouched&&K(s.touchedFields,l),!o.keepIsValidating&&K(s.validatingFields,l),!e.shouldUnregister&&!o.keepDefaultValue&&K(i,l);g.values.next({values:{...a}}),g.state.next({...s,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&T()},Cs=({disabled:n,name:o,field:l,fields:p,value:y})=>{if(Oe(n)){const d=n?void 0:B(y)?Jt(l?l._f:b(p,o)._f):y;L(a,o,d),W(o,d,!1,!1,!0)}},Nt=(n,o={})=>{let l=b(r,n);const p=Oe(o.disabled);return L(r,n,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:n}},name:n,mount:!0,...o}}),h.mount.add(n),l?Cs({field:l,disabled:o.disabled,name:n,value:o.value}):j(n,!0,o.value),{...p?{disabled:o.disabled}:{},...e.progressive?{required:!!o.required,min:ht(o.min),max:ht(o.max),minLength:ht(o.minLength),maxLength:ht(o.maxLength),pattern:ht(o.pattern)}:{},name:n,onChange:ot,onBlur:ot,ref:y=>{if(y){Nt(n,o),l=b(r,n);const d=B(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,w=hi(d),M=l._f.refs||[];if(w?M.find(G=>G===d):d===l._f.ref)return;L(r,n,{_f:{...l._f,...w?{refs:[...M.filter($t),d,...Array.isArray(b(i,n))?[{}]:[]],ref:{type:d.type,name:n}}:{ref:d}}}),j(n,!1,void 0,d)}else l=b(r,n,{}),l._f&&(l._f.mount=!1),(e.shouldUnregister||o.shouldUnregister)&&!(ti(h.array,n)&&c.action)&&h.unMount.add(n)}}},Os=()=>e.shouldFocusError&&ft(r,lt,h.mount),_r=n=>{Oe(n)&&(g.state.next({disabled:n}),ft(r,(o,l)=>{let p=n;const y=b(r,l);y&&Oe(y._f.disabled)&&(p||(p=y._f.disabled)),o.disabled=p},0,!1))},As=(n,o)=>async l=>{let p;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let y=he(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:d,values:w}=await A();s.errors=d,y=w}else await re(r);if(K(s.errors,"root"),le(s.errors)){g.state.next({errors:{}});try{await n(y,l)}catch(d){p=d}}else o&&await o({...s.errors},l),Os(),setTimeout(Os);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:le(s.errors)&&!p,submitCount:s.submitCount+1,errors:s.errors}),p)throw p},jr=(n,o={})=>{b(r,n)&&(B(o.defaultValue)?ce(n,he(b(i,n))):(ce(n,o.defaultValue),L(i,n,he(o.defaultValue))),o.keepTouched||K(s.touchedFields,n),o.keepDirty||(K(s.dirtyFields,n),s.isDirty=o.defaultValue?_(n,he(b(i,n))):_()),o.keepError||(K(s.errors,n),S.isValid&&T()),g.state.next({...s}))},Rs=(n,o={})=>{const l=n?he(n):i,p=he(l),y=le(n),d=y?i:p;if(o.keepDefaultValues||(i=l),!o.keepValues){if(o.keepDirtyValues)for(const w of h.mount)b(s.dirtyFields,w)?L(d,w,b(a,w)):ce(w,b(d,w));else{if(ds&&B(n))for(const w of h.mount){const M=b(r,w);if(M&&M._f){const G=Array.isArray(M._f.refs)?M._f.refs[0]:M._f.ref;if(kt(G)){const ae=G.closest("form");if(ae){ae.reset();break}}}}r={}}a=t.shouldUnregister?o.keepDefaultValues?he(i):{}:he(d),g.array.next({values:{...d}}),g.values.next({values:{...d}})}h={mount:o.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!S.isValid||!!o.keepIsValid||!!o.keepDirtyValues,c.watch=!!t.shouldUnregister,g.state.next({submitCount:o.keepSubmitCount?s.submitCount:0,isDirty:y?!1:o.keepDirty?s.isDirty:!!(o.keepDefaultValues&&!Te(n,i)),isSubmitted:o.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:y?[]:o.keepDirtyValues?o.keepDefaultValues&&a?Pt(i,a):s.dirtyFields:o.keepDefaultValues&&n?Pt(i,n):{},touchedFields:o.keepTouched?s.touchedFields:{},errors:o.keepErrors?s.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Ds=(n,o)=>Rs(Ve(n)?n(a):n,o);return{control:{register:Nt,unregister:Bt,getFieldState:Fs,handleSubmit:As,setError:Ss,_executeSchema:A,_getWatch:k,_getDirty:_,_updateValid:T,_removeUnmounted:_t,_updateFieldArray:v,_updateDisabledField:Cs,_getFieldArray:N,_reset:Rs,_resetDefaultValues:()=>Ve(e.defaultValues)&&e.defaultValues().then(n=>{Ds(n,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:n=>{s={...s,...n}},_disableForm:_r,_subjects:g,_proxyFormState:S,_setErrors:I,get _fields(){return r},get _formValues(){return a},get _state(){return c},set _state(n){c=n},get _defaultValues(){return i},get _names(){return h},set _names(n){h=n},get _formState(){return s},set _formState(n){s=n},get _options(){return e},set _options(n){e={...e,...n}}},trigger:ct,register:Nt,handleSubmit:As,watch:Er,setValue:ce,getValues:ws,reset:Ds,resetField:jr,clearErrors:Dr,unregister:Bt,setError:Ss,setFocus:(n,o={})=>{const l=b(r,n),p=l&&l._f;if(p){const y=p.refs?p.refs[0]:p.ref;y.focus&&(y.focus(),o.shouldSelect&&y.select())}},getFieldState:Fs}}function mi(t={}){const e=oe.useRef(),s=oe.useRef(),[r,i]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Ve(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ve(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...vi(t),formState:r});const a=e.current.control;return a._options=t,ni({subject:a._subjects.state,next:c=>{ii(c,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),oe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),oe.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==r.isDirty&&a._subjects.state.next({isDirty:c})}},[a,r.isDirty]),oe.useEffect(()=>{t.values&&!Te(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,i(c=>({...c}))):a._resetDefaultValues()},[t.values,a]),oe.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),oe.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),oe.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=ri(r,a),e.current}const bi=({onSubmit:t})=>{const{register:e,handleSubmit:s,watch:r,resetField:i}=mi(),a=()=>{i("input",{defaultValue:""}),s(t)()};return f.jsx(J,{sx:{p:1,pt:2,display:"flex",justifyContent:"center"},children:f.jsx(Mr,{sx:{"& .MuiInputBase-root":{overflow:"hidden"}},component:"form",label:"Search",variant:"outlined",fullWidth:!0,size:"small",...e("input"),onSubmit:c=>void s(t)(c),InputProps:{endAdornment:f.jsxs(Ir,{position:"end",sx:{marginRight:-2},children:[f.jsx(js,{onClick:a,size:"small",sx:{visibility:r("input")?"visible":"hidden","& svg":{width:"20px",height:"20px"}},children:f.jsx(Xr,{})}),f.jsx(J,{sx:{backgroundColor:"primary.main"},children:f.jsx(js,{sx:{color:"primary.contrastText"},type:"submit",children:f.jsx(Yr,{})})})]})}})})};function Lt(t,e){if(t===null)return t;const s=t.split(new RegExp(`(${e})`,"gi"));return f.jsx("span",{children:s.map((r,i)=>r.toLowerCase()===e.toLowerCase()?f.jsx(Ne,{component:"span",sx:{color:"primary.main",fontWeight:"bold"},children:r},i):f.jsx(Ne,{component:"span",children:r},i))})}var gs={},Xt={};const xi=$r(qr);var Ns;function wi(){return Ns||(Ns=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=xi}(Xt)),Xt}var Fi=Lr;Object.defineProperty(gs,"__esModule",{value:!0});var gr=gs.default=void 0,Si=Fi(wi()),Ci=f;gr=gs.default=(0,Si.default)((0,Ci.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");const Oi=({p:t,search:e})=>f.jsxs(ur,{elevation:3,sx:{p:1,display:"grid",rowGap:"12px",columnGap:"4px",gridTemplateColumns:"1fr",gridTemplateRows:"auto auto auto",gridTemplateAreas:` 
          "name"
          "sku"
          "meta"
        `},children:[f.jsx(J,{sx:{gridArea:"name",textAlign:"left",wordBreak:"break-word"},children:Lt(t.name,e)}),f.jsx(J,{sx:{gridArea:"sku",textAlign:"left"},children:f.jsx(ze,{label:Lt(t.sku,e),size:"small"})}),f.jsxs(J,{sx:{gridArea:"meta",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"8px"},children:[f.jsx(ze,{label:t.price,color:"secondary",size:"small",variant:"outlined",sx:{borderWidth:"2px",borderColor:"secondary.main"}}),t.vendor!=="base"?f.jsx(ze,{label:t.vendor,color:"secondary",size:"small",variant:"outlined",sx:{borderWidth:"2px",borderColor:"secondary.main"}}):f.jsx(ze,{label:t.vendor,color:"primary",size:"small"}),t.stock==="-"?f.jsx(J,{sx:{ml:"auto",fontSize:0,border:"2px solid",borderColor:"primary.main","& > svg":{fontSize:"16px"}},children:f.jsx(gr,{color:"primary"})}):f.jsx(ze,{label:t.stock,color:"primary",size:"small",variant:"outlined",sx:{borderRadius:0,ml:"auto",borderWidth:"2px"}})]})]}),Ai=({list:t,search:e})=>f.jsx(Qr,{direction:"column",spacing:2,children:t.map(s=>f.jsx(Oi,{p:s,search:e},s.sku+s.vendor))}),Ri=({list:t,search:e})=>f.jsx(Ur,{component:ur,children:f.jsxs(Br,{size:"small",children:[f.jsx(Nr,{children:f.jsxs(Ps,{children:[f.jsx(ve,{children:"Артикул"}),f.jsx(ve,{align:"right",children:"Ціна"}),f.jsx(ve,{children:"Назва"}),f.jsx(ve,{align:"right",children:"Продавець"}),f.jsx(ve,{align:"right",children:"Кількість"})]})}),f.jsx(Kr,{children:t.map(s=>f.jsxs(Ps,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[f.jsx(ve,{sx:{whiteSpace:"nowrap"},children:Lt(s.sku,e)}),f.jsx(ve,{align:"right",children:s.price}),f.jsx(ve,{children:Lt(s.name,e)}),f.jsx(ve,{align:"right",children:s.vendor==="base"?f.jsx(ze,{label:s.vendor,color:"primary",size:"small"}):s.vendor}),f.jsx(ve,{align:"right",children:s.stock})]},s.sku+s.vendor))})]})});var Et=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ut=typeof window>"u"||"Deno"in globalThis;function fe(){}function Di(t,e){return typeof t=="function"?t(e):t}function es(t){return typeof t=="number"&&t>=0&&t!==1/0}function vr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ks(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==vs(c,e.options))return!1}else if(!pt(e.queryKey,c))return!1}if(s!=="all"){const O=e.isActive();if(s==="active"&&!O||s==="inactive"&&O)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function Hs(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(yt(e.options.mutationKey)!==yt(a))return!1}else if(!pt(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vs(t,e){return((e==null?void 0:e.queryKeyHashFn)||yt)(t)}function yt(t){return JSON.stringify(t,(e,s)=>ss(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function pt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!pt(t[s],e[s])):!1}function mr(t,e){if(t===e)return t;const s=zs(t)&&zs(e);if(s||ss(t)&&ss(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),c=a.length,h=s?[]:{};let O=0;for(let D=0;D<c;D++){const S=s?D:a[D];(!s&&r.includes(S)||s)&&t[S]===void 0&&e[S]===void 0?(h[S]=void 0,O++):(h[S]=mr(t[S],e[S]),h[S]===t[S]&&t[S]!==void 0&&O++)}return i===c&&O===i?t:h}return e}function ts(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function zs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ss(t){if(!Gs(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Gs(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Gs(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ei(t){return new Promise(e=>{setTimeout(e,t)})}function rs(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?mr(t,e):e}function _i(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function ji(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var ms=Symbol(),ke,Re,We,Xs,Pi=(Xs=class extends Et{constructor(){super();F(this,ke,void 0);F(this,Re,void 0);F(this,We,void 0);m(this,We,e=>{if(!ut&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){u(this,Re)||this.setEventListener(u(this,We))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Re))==null||e.call(this),m(this,Re,void 0))}setEventListener(e){var s;m(this,We,e),(s=u(this,Re))==null||s.call(this),m(this,Re,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,ke)!==e&&(m(this,ke,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof u(this,ke)=="boolean"?u(this,ke):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ke=new WeakMap,Re=new WeakMap,We=new WeakMap,Xs),bs=new Pi,$e,De,Je,Ys,Vi=(Ys=class extends Et{constructor(){super();F(this,$e,!0);F(this,De,void 0);F(this,Je,void 0);m(this,Je,e=>{if(!ut&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,De)||this.setEventListener(u(this,Je))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,De))==null||e.call(this),m(this,De,void 0))}setEventListener(e){var s;m(this,Je,e),(s=u(this,De))==null||s.call(this),m(this,De,e(this.setOnline.bind(this)))}setOnline(e){u(this,$e)!==e&&(m(this,$e,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,$e)}},$e=new WeakMap,De=new WeakMap,Je=new WeakMap,Ys),Qt=new Vi;function Ti(t){return Math.min(1e3*2**t,3e4)}function br(t){return(t??"online")==="online"?Qt.isOnline():!0}var xr=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yt(t){return t instanceof xr}function wr(t){let e=!1,s=0,r=!1,i,a,c;const h=new Promise((R,v)=>{a=R,c=v}),O=R=>{var v;r||(V(new xr(R)),(v=t.abort)==null||v.call(t))},D=()=>{e=!0},S=()=>{e=!1},g=()=>bs.isFocused()&&(t.networkMode==="always"||Qt.isOnline())&&t.canRun(),x=()=>br(t.networkMode)&&t.canRun(),C=R=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,R),i==null||i(),a(R))},V=R=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,R),i==null||i(),c(R))},U=()=>new Promise(R=>{var v;i=E=>{(r||g())&&R(E)},(v=t.onPause)==null||v.call(t)}).then(()=>{var R;i=void 0,r||(R=t.onContinue)==null||R.call(t)}),T=()=>{if(r)return;let R;try{R=t.fn()}catch(v){R=Promise.reject(v)}Promise.resolve(R).then(C).catch(v=>{var Y;if(r)return;const E=t.retry??(ut?0:3),I=t.retryDelay??Ti,j=typeof I=="function"?I(s,v):I,W=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,v);if(e||!W){V(v);return}s++,(Y=t.onFail)==null||Y.call(t,s,v),Ei(j).then(()=>g()?void 0:U()).then(()=>{e?V(v):T()})})};return{promise:h,cancel:O,continue:()=>(i==null||i(),h),cancelRetry:D,continueRetry:S,canStart:x,start:()=>(x()?T():U().then(T),h)}}function ki(){let t=[],e=0,s=x=>{x()},r=x=>{x()},i=x=>setTimeout(x,0);const a=x=>{i=x},c=x=>{let C;e++;try{C=x()}finally{e--,e||D()}return C},h=x=>{e?t.push(x):i(()=>{s(x)})},O=x=>(...C)=>{h(()=>{x(...C)})},D=()=>{const x=t;t=[],x.length&&i(()=>{r(()=>{x.forEach(C=>{s(C)})})})};return{batch:c,batchCalls:O,schedule:h,setNotifyFunction:x=>{s=x},setBatchNotifyFunction:x=>{r=x},setScheduler:a}}var $=ki(),Me,Zs,Fr=(Zs=class{constructor(){F(this,Me,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),es(this.gcTime)&&m(this,Me,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ut?1/0:5*60*1e3))}clearGcTimeout(){u(this,Me)&&(clearTimeout(u(this,Me)),m(this,Me,void 0))}},Me=new WeakMap,Zs),Xe,Ye,de,Z,gt,Ie,pe,Ce,er,Mi=(er=class extends Fr{constructor(e){super();F(this,pe);F(this,Xe,void 0);F(this,Ye,void 0);F(this,de,void 0);F(this,Z,void 0);F(this,gt,void 0);F(this,Ie,void 0);m(this,Ie,!1),m(this,gt,e.defaultOptions),this.setOptions(e.options),this.observers=[],m(this,de,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,m(this,Xe,e.state||Ii(this.options)),this.state=u(this,Xe),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...u(this,gt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,de).remove(this)}setData(e,s){const r=rs(this.state.data,e,this.options);return P(this,pe,Ce).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){P(this,pe,Ce).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=u(this,Z))==null?void 0:r.promise;return(i=u(this,Z))==null||i.cancel(e),s?s.then(fe).catch(fe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Xe))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!vr(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=u(this,Z))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=u(this,Z))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,de).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(u(this,Z)&&(u(this,Ie)?u(this,Z).cancel({revert:!0}):u(this,Z).cancelRetry()),this.scheduleGc()),u(this,de).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||P(this,pe,Ce).call(this,{type:"invalidate"})}fetch(e,s){var D,S,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(u(this,Z))return u(this,Z).continueRetry(),u(this,Z).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(m(this,Ie,!0),r.signal)})};a(i);const c=()=>!this.options.queryFn||this.options.queryFn===ms?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(m(this,Ie,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),h={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};a(h),(D=this.options.behavior)==null||D.onFetch(h,this),m(this,Ye,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=h.fetchOptions)==null?void 0:S.meta))&&P(this,pe,Ce).call(this,{type:"fetch",meta:(g=h.fetchOptions)==null?void 0:g.meta});const O=x=>{var C,V,U,T;Yt(x)&&x.silent||P(this,pe,Ce).call(this,{type:"error",error:x}),Yt(x)||((V=(C=u(this,de).config).onError)==null||V.call(C,x,this),(T=(U=u(this,de).config).onSettled)==null||T.call(U,this.state.data,x,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return m(this,Z,wr({fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var C,V,U,T;if(x===void 0){O(new Error(`${this.queryHash} data is undefined`));return}this.setData(x),(V=(C=u(this,de).config).onSuccess)==null||V.call(C,x,this),(T=(U=u(this,de).config).onSettled)==null||T.call(U,x,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:O,onFail:(x,C)=>{P(this,pe,Ce).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{P(this,pe,Ce).call(this,{type:"pause"})},onContinue:()=>{P(this,pe,Ce).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),u(this,Z).start()}},Xe=new WeakMap,Ye=new WeakMap,de=new WeakMap,Z=new WeakMap,gt=new WeakMap,Ie=new WeakMap,pe=new WeakSet,Ce=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Sr(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Yt(i)&&i.revert&&u(this,Ye)?{...u(this,Ye),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),$.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,de).notify({query:this,type:"updated",action:e})})},er);function Sr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:br(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ii(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var me,tr,qi=(tr=class extends Et{constructor(e={}){super();F(this,me,void 0);this.config=e,m(this,me,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??vs(i,s);let c=this.get(a);return c||(c=new Mi({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){u(this,me).has(e.queryHash)||(u(this,me).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=u(this,me).get(e.queryHash);s&&(e.destroy(),s===e&&u(this,me).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,me).get(e)}getAll(){return[...u(this,me).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Ks(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Ks(e,r)):s}notify(e){$.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){$.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},me=new WeakMap,tr),be,ee,qe,xe,Ae,sr,Li=(sr=class extends Fr{constructor(e){super();F(this,xe);F(this,be,void 0);F(this,ee,void 0);F(this,qe,void 0);this.mutationId=e.mutationId,m(this,ee,e.mutationCache),m(this,be,[]),this.state=e.state||Qi(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,be).includes(e)||(u(this,be).push(e),this.clearGcTimeout(),u(this,ee).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){m(this,be,u(this,be).filter(s=>s!==e)),this.scheduleGc(),u(this,ee).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,be).length||(this.state.status==="pending"?this.scheduleGc():u(this,ee).remove(this))}continue(){var e;return((e=u(this,qe))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,c,h,O,D,S,g,x,C,V,U,T,R,v,E,I,j,W,Y;m(this,qe,wr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,z)=>{P(this,xe,Ae).call(this,{type:"failed",failureCount:A,error:z})},onPause:()=>{P(this,xe,Ae).call(this,{type:"pause"})},onContinue:()=>{P(this,xe,Ae).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,ee).canRun(this)}));const s=this.state.status==="pending",r=!u(this,qe).canStart();try{if(!s){P(this,xe,Ae).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=u(this,ee).config).onMutate)==null?void 0:a.call(i,e,this));const z=await((h=(c=this.options).onMutate)==null?void 0:h.call(c,e));z!==this.state.context&&P(this,xe,Ae).call(this,{type:"pending",context:z,variables:e,isPaused:r})}const A=await u(this,qe).start();return await((D=(O=u(this,ee).config).onSuccess)==null?void 0:D.call(O,A,e,this.state.context,this)),await((g=(S=this.options).onSuccess)==null?void 0:g.call(S,A,e,this.state.context)),await((C=(x=u(this,ee).config).onSettled)==null?void 0:C.call(x,A,null,this.state.variables,this.state.context,this)),await((U=(V=this.options).onSettled)==null?void 0:U.call(V,A,null,e,this.state.context)),P(this,xe,Ae).call(this,{type:"success",data:A}),A}catch(A){try{throw await((R=(T=u(this,ee).config).onError)==null?void 0:R.call(T,A,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,A,e,this.state.context)),await((j=(I=u(this,ee).config).onSettled)==null?void 0:j.call(I,void 0,A,this.state.variables,this.state.context,this)),await((Y=(W=this.options).onSettled)==null?void 0:Y.call(W,void 0,A,e,this.state.context)),A}finally{P(this,xe,Ae).call(this,{type:"error",error:A})}}finally{u(this,ee).runNext(this)}}},be=new WeakMap,ee=new WeakMap,qe=new WeakMap,xe=new WeakSet,Ae=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),$.batch(()=>{u(this,be).forEach(r=>{r.onMutationUpdate(e)}),u(this,ee).notify({mutation:this,type:"updated",action:e})})},sr);function Qi(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ue,vt,rr,Ui=(rr=class extends Et{constructor(e={}){super();F(this,ue,void 0);F(this,vt,void 0);this.config=e,m(this,ue,new Map),m(this,vt,Date.now())}build(e,s,r){const i=new Li({mutationCache:this,mutationId:++jt(this,vt)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=Vt(e),r=u(this,ue).get(s)??[];r.push(e),u(this,ue).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Vt(e);if(u(this,ue).has(s)){const i=(r=u(this,ue).get(s))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?u(this,ue).delete(s):u(this,ue).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=u(this,ue).get(Vt(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=u(this,ue).get(Vt(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){$.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...u(this,ue).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Hs(s,r))}findAll(e={}){return this.getAll().filter(s=>Hs(e,s))}notify(e){$.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return $.batch(()=>Promise.all(e.map(s=>s.continue().catch(fe))))}},ue=new WeakMap,vt=new WeakMap,rr);function Vt(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Bi(t){return{onFetch:(e,s)=>{const r=async()=>{var V,U,T,R,v;const i=e.options,a=(T=(U=(V=e.fetchOptions)==null?void 0:V.meta)==null?void 0:U.fetchMore)==null?void 0:T.direction,c=((R=e.state.data)==null?void 0:R.pages)||[],h=((v=e.state.data)==null?void 0:v.pageParams)||[],O={pages:[],pageParams:[]};let D=!1;const S=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},g=e.options.queryFn&&e.options.queryFn!==ms?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),x=async(E,I,j)=>{if(D)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const W={queryKey:e.queryKey,pageParam:I,direction:j?"backward":"forward",meta:e.options.meta};S(W);const Y=await g(W),{maxPages:A}=e.options,z=j?ji:_i;return{pages:z(E.pages,Y,A),pageParams:z(E.pageParams,I,A)}};let C;if(a&&c.length){const E=a==="backward",I=E?Ni:Ws,j={pages:c,pageParams:h},W=I(i,j);C=await x(j,W,E)}else{C=await x(O,h[0]??i.initialPageParam);const E=t??c.length;for(let I=1;I<E;I++){const j=Ws(i,C);C=await x(C,j)}}return C};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function Ws(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function Ni(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var Q,Ee,_e,Ze,et,je,tt,st,ir,Ki=(ir=class{constructor(t={}){F(this,Q,void 0);F(this,Ee,void 0);F(this,_e,void 0);F(this,Ze,void 0);F(this,et,void 0);F(this,je,void 0);F(this,tt,void 0);F(this,st,void 0);m(this,Q,t.queryCache||new qi),m(this,Ee,t.mutationCache||new Ui),m(this,_e,t.defaultOptions||{}),m(this,Ze,new Map),m(this,et,new Map),m(this,je,0)}mount(){jt(this,je)._++,u(this,je)===1&&(m(this,tt,bs.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,Q).onFocus())})),m(this,st,Qt.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,Q).onOnline())})))}unmount(){var t,e;jt(this,je)._--,u(this,je)===0&&((t=u(this,tt))==null||t.call(this),m(this,tt,void 0),(e=u(this,st))==null||e.call(this),m(this,st,void 0))}isFetching(t){return u(this,Q).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return u(this,Ee).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=u(this,Q).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=u(this,Q).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(s.staleTime)&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return u(this,Q).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=u(this,Q).get(r.queryHash),a=i==null?void 0:i.state.data,c=Di(e,a);if(c!==void 0)return u(this,Q).build(this,r).setData(c,{...s,manual:!0})}setQueriesData(t,e,s){return $.batch(()=>u(this,Q).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=u(this,Q).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=u(this,Q);$.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=u(this,Q),r={type:"active",...t};return $.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=$.batch(()=>u(this,Q).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(fe).catch(fe)}invalidateQueries(t={},e={}){return $.batch(()=>{if(u(this,Q).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=$.batch(()=>u(this,Q).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(fe)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(fe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=u(this,Q).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fe).catch(fe)}fetchInfiniteQuery(t){return t.behavior=Bi(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fe).catch(fe)}resumePausedMutations(){return Qt.isOnline()?u(this,Ee).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,Q)}getMutationCache(){return u(this,Ee)}getDefaultOptions(){return u(this,_e)}setDefaultOptions(t){m(this,_e,t)}setQueryDefaults(t,e){u(this,Ze).set(yt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...u(this,Ze).values()];let s={};return e.forEach(r=>{pt(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){u(this,et).set(yt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...u(this,et).values()];let s={};return e.forEach(r=>{pt(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...u(this,_e).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ms&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...u(this,_e).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){u(this,Q).clear(),u(this,Ee).clear()}},Q=new WeakMap,Ee=new WeakMap,_e=new WeakMap,Ze=new WeakMap,et=new WeakMap,je=new WeakMap,tt=new WeakMap,st=new WeakMap,ir),ie,q,mt,te,Le,rt,we,bt,it,nt,Qe,Ue,Pe,at,Be,dt,xt,is,wt,ns,Ft,as,St,us,Ct,os,Ot,ls,At,cs,Ut,Cr,nr,Hi=(nr=class extends Et{constructor(e,s){super();F(this,Be);F(this,xt);F(this,wt);F(this,Ft);F(this,St);F(this,Ct);F(this,Ot);F(this,At);F(this,Ut);F(this,ie,void 0);F(this,q,void 0);F(this,mt,void 0);F(this,te,void 0);F(this,Le,void 0);F(this,rt,void 0);F(this,we,void 0);F(this,bt,void 0);F(this,it,void 0);F(this,nt,void 0);F(this,Qe,void 0);F(this,Ue,void 0);F(this,Pe,void 0);F(this,at,new Set);this.options=s,m(this,ie,e),m(this,we,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,q).addObserver(this),$s(u(this,q),this.options)?P(this,Be,dt).call(this):this.updateResult(),P(this,St,us).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hs(u(this,q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hs(u(this,q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,P(this,Ct,os).call(this),P(this,Ot,ls).call(this),u(this,q).removeObserver(this)}setOptions(e,s){const r=this.options,i=u(this,q);if(this.options=u(this,ie).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");P(this,At,cs).call(this),u(this,q).setOptions(this.options),r._defaulted&&!ts(this.options,r)&&u(this,ie).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,q),observer:this});const a=this.hasListeners();a&&Js(u(this,q),i,this.options,r)&&P(this,Be,dt).call(this),this.updateResult(s),a&&(u(this,q)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&P(this,xt,is).call(this);const c=P(this,wt,ns).call(this);a&&(u(this,q)!==i||this.options.enabled!==r.enabled||c!==u(this,Pe))&&P(this,Ft,as).call(this,c)}getOptimisticResult(e){const s=u(this,ie).getQueryCache().build(u(this,ie),e),r=this.createResult(s,e);return Gi(this,r)&&(m(this,te,r),m(this,rt,this.options),m(this,Le,u(this,q).state)),r}getCurrentResult(){return u(this,te)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){u(this,at).add(e)}getCurrentQuery(){return u(this,q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=u(this,ie).defaultQueryOptions(e),r=u(this,ie).getQueryCache().build(u(this,ie),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return P(this,Be,dt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,te)))}createResult(e,s){var Y;const r=u(this,q),i=this.options,a=u(this,te),c=u(this,Le),h=u(this,rt),D=e!==r?e.state:u(this,mt),{state:S}=e;let g={...S},x=!1,C;if(s._optimisticResults){const A=this.hasListeners(),z=!A&&$s(e,s),re=A&&Js(e,r,s,i);(z||re)&&(g={...g,...Sr(S.data,e.options)}),s._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:V,errorUpdatedAt:U,status:T}=g;if(s.select&&g.data!==void 0)if(a&&g.data===(c==null?void 0:c.data)&&s.select===u(this,bt))C=u(this,it);else try{m(this,bt,s.select),C=s.select(g.data),C=rs(a==null?void 0:a.data,C,s),m(this,it,C),m(this,we,null)}catch(A){m(this,we,A)}else C=g.data;if(s.placeholderData!==void 0&&C===void 0&&T==="pending"){let A;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))A=a.data;else if(A=typeof s.placeholderData=="function"?s.placeholderData((Y=u(this,nt))==null?void 0:Y.state.data,u(this,nt)):s.placeholderData,s.select&&A!==void 0)try{A=s.select(A),m(this,we,null)}catch(z){m(this,we,z)}A!==void 0&&(T="success",C=rs(a==null?void 0:a.data,A,s),x=!0)}u(this,we)&&(V=u(this,we),C=u(this,it),U=Date.now(),T="error");const R=g.fetchStatus==="fetching",v=T==="pending",E=T==="error",I=v&&R,j=C!==void 0;return{status:T,fetchStatus:g.fetchStatus,isPending:v,isSuccess:T==="success",isError:E,isInitialLoading:I,isLoading:I,data:C,dataUpdatedAt:g.dataUpdatedAt,error:V,errorUpdatedAt:U,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>D.dataUpdateCount||g.errorUpdateCount>D.errorUpdateCount,isFetching:R,isRefetching:R&&!v,isLoadingError:E&&!j,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:E&&j,isStale:xs(e,s),refetch:this.refetch}}updateResult(e){const s=u(this,te),r=this.createResult(u(this,q),this.options);if(m(this,Le,u(this,q).state),m(this,rt,this.options),u(this,Le).data!==void 0&&m(this,nt,u(this,q)),ts(r,s))return;m(this,te,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,h=typeof c=="function"?c():c;if(h==="all"||!h&&!u(this,at).size)return!0;const O=new Set(h??u(this,at));return this.options.throwOnError&&O.add("error"),Object.keys(u(this,te)).some(D=>{const S=D;return u(this,te)[S]!==s[S]&&O.has(S)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),P(this,Ut,Cr).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&P(this,St,us).call(this)}},ie=new WeakMap,q=new WeakMap,mt=new WeakMap,te=new WeakMap,Le=new WeakMap,rt=new WeakMap,we=new WeakMap,bt=new WeakMap,it=new WeakMap,nt=new WeakMap,Qe=new WeakMap,Ue=new WeakMap,Pe=new WeakMap,at=new WeakMap,Be=new WeakSet,dt=function(e){P(this,At,cs).call(this);let s=u(this,q).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(fe)),s},xt=new WeakSet,is=function(){if(P(this,Ct,os).call(this),ut||u(this,te).isStale||!es(this.options.staleTime))return;const s=vr(u(this,te).dataUpdatedAt,this.options.staleTime)+1;m(this,Qe,setTimeout(()=>{u(this,te).isStale||this.updateResult()},s))},wt=new WeakSet,ns=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,q)):this.options.refetchInterval)??!1},Ft=new WeakSet,as=function(e){P(this,Ot,ls).call(this),m(this,Pe,e),!(ut||this.options.enabled===!1||!es(u(this,Pe))||u(this,Pe)===0)&&m(this,Ue,setInterval(()=>{(this.options.refetchIntervalInBackground||bs.isFocused())&&P(this,Be,dt).call(this)},u(this,Pe)))},St=new WeakSet,us=function(){P(this,xt,is).call(this),P(this,Ft,as).call(this,P(this,wt,ns).call(this))},Ct=new WeakSet,os=function(){u(this,Qe)&&(clearTimeout(u(this,Qe)),m(this,Qe,void 0))},Ot=new WeakSet,ls=function(){u(this,Ue)&&(clearInterval(u(this,Ue)),m(this,Ue,void 0))},At=new WeakSet,cs=function(){const e=u(this,ie).getQueryCache().build(u(this,ie),this.options);if(e===u(this,q))return;const s=u(this,q);m(this,q,e),m(this,mt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ut=new WeakSet,Cr=function(e){$.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(u(this,te))}),u(this,ie).getQueryCache().notify({query:u(this,q),type:"observerResultsUpdated"})})},nr);function zi(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $s(t,e){return zi(t,e)||t.state.data!==void 0&&hs(t,e,e.refetchOnMount)}function hs(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&xs(t,e)}return!1}function Js(t,e,s,r){return(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&xs(t,s)}function xs(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function Gi(t,e){return!ts(t.getCurrentResult(),e)}var Or=ne.createContext(void 0),Wi=t=>{const e=ne.useContext(Or);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$i=({client:t,children:e})=>(ne.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Or.Provider,{value:t,children:e})),Ar=ne.createContext(!1),Ji=()=>ne.useContext(Ar);Ar.Provider;function Xi(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Yi=ne.createContext(Xi()),Zi=()=>ne.useContext(Yi);function en(t,e){return typeof t=="function"?t(...e):!!t}var tn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},sn=t=>{ne.useEffect(()=>{t.clearReset()},[t])},rn=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&en(s,[t.error,r]),nn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},an=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,un=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function on(t,e,s){const r=Wi(),i=Ji(),a=Zi(),c=r.defaultQueryOptions(t);c._optimisticResults=i?"isRestoring":"optimistic",nn(c),tn(c,a),sn(a);const[h]=ne.useState(()=>new e(r,c)),O=h.getOptimisticResult(c);if(ne.useSyncExternalStore(ne.useCallback(D=>{const S=i?()=>{}:h.subscribe($.batchCalls(D));return h.updateResult(),S},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),ne.useEffect(()=>{h.setOptions(c,{listeners:!1})},[c,h]),an(c,O))throw un(c,h,a);if(rn({result:O,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw O.error;return c.notifyOnChangeProps?O:h.trackResult(O)}function ln(t,e){return on(t,Hi)}const cn="1NJsdP-CUztIwlj1cnBkDj4pgqqaBuxPm",hn=(t,e)=>t.sku.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase()),dn=t=>{const e=t.replace("/*O_o*/","").replace(`
`,"").replace("google.visualization.Query.setResponse(","").replace(/\);$/,""),s=JSON.parse(e).table,r=s.cols.map(i=>i.label);return s.rows.map(i=>{const a={};return i.c.forEach((c,h)=>{a[r[h]]=c.v}),a})},fn=async()=>{const t=`https://docs.google.com/spreadsheets/d/${cn}/gviz/tq?tqx=out:json&tq&gid=0`,s=await(await fetch(t)).text();return dn(s)},yn=t=>{const{data:e=[]}=ln({staleTime:18e5,queryKey:["lets-bike-base"],queryFn:fn});return t.length<3?[]:e==null?void 0:e.filter(s=>hn(s,t))},Rr=()=>f.jsx(J,{sx:{position:"absolute",left:"25px",bottom:"25px",width:"220px"},children:f.jsx(J,{component:"img",src:"/lets/logo.webp",alt:"Logo",sx:{width:"100%"}})}),pn=()=>f.jsxs(J,{children:[f.jsx(Ne,{variant:"h3",gutterBottom:!0,textAlign:"center",sx:{mt:4},children:f.jsx(J,{children:"Вітаю!"})}),f.jsxs(Ne,{variant:"h4",gutterBottom:!0,textAlign:"center",sx:{mt:4},children:[f.jsx(J,{sx:{mt:4,mb:1},children:"Вам щось підказати?"}),f.jsx(J,{children:"Проконсультувати?"})]}),f.jsx(Rr,{})]}),gn=()=>f.jsxs(J,{children:[f.jsx(Ne,{variant:"h3",gutterBottom:!0,textAlign:"center",sx:{mt:4},children:f.jsx(J,{children:"Наразі,"})}),f.jsx(Ne,{variant:"h4",gutterBottom:!0,textAlign:"center",sx:{mt:4},children:f.jsx(J,{sx:{mt:4},children:"всі механіки зайняті"})}),f.jsx(Rr,{})]}),vn=({search:t})=>{const[e,s]=ne.useState(!0),r=yn(t),i=e?Ai:Ri;return r.length===0&&t.length===0?f.jsx(pn,{}):r.length===0&&t.length>0?f.jsx(gn,{}):f.jsxs(f.Fragment,{children:[f.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(Ne,{component:"div",color:"secondary",variant:"body2",sx:{fontWeight:"bold"},children:["Total: ",r.length]}),f.jsx(Hr,{value:e,onChange:(a,c)=>s(!c)})]}),f.jsx(i,{list:r,search:t})]})},mn=()=>{const[t,e]=ne.useState("");return f.jsxs(J,{sx:{p:1,pt:0},className:"bg",children:[f.jsx(bi,{onSubmit:({input:s})=>e(s)}),f.jsx(vn,{search:t})]})};var bn=function(){return null};const xn=new Ki;function wn(){return f.jsx(zr,{theme:Jr,children:f.jsxs($i,{client:xn,children:[f.jsx(bn,{initialIsOpen:!1}),f.jsx(Gr,{}),f.jsx(mn,{})]})})}Zt.createRoot(document.getElementById("root")).render(f.jsx(oe.StrictMode,{children:f.jsx(wn,{})}));
