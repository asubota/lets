const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scanner.lazy-BGxb3SmG.js","assets/mui-C7jVnYTO.js","assets/react-C9_qfvjK.js","assets/createSvgIcon-DC2NCxUz.js","assets/link-CjMqzw4l.js","assets/colors.lazy-BvYVzVnx.js","assets/vendor-chip-DfuIS-ks.js","assets/index.lazy-CrVF5wck.js","assets/swiper-CeyCXhDy.js","assets/index-BLh7Lzr3.css"])))=>i.map(i=>d[i]);
var Be=t=>{throw TypeError(t)};var pe=(t,e,s)=>e.has(t)||Be("Cannot "+s);var m=(t,e,s)=>(pe(t,e,"read from private field"),s?s.call(t):e.get(t)),L=(t,e,s)=>e.has(t)?Be("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),R=(t,e,s,r)=>(pe(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),B=(t,e,s)=>(pe(t,e,"access private method"),s);var Jt=(t,e,s,r)=>({set _(n){R(t,e,n,s)},get _(){return m(t,e,r)}});import{j as P,c as Ns,T as zs,C as Us}from"./mui-C7jVnYTO.js";import{d as Ks,r as E,g as Hs,b as ms}from"./react-C9_qfvjK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Pe={},$e=Ks;Pe.createRoot=$e.createRoot,Pe.hydrateRoot=$e.hydrateRoot;const qe="pushstate",Ne="popstate",ps="beforeunload",vs=t=>(t.preventDefault(),t.returnValue=""),Qs=()=>{removeEventListener(ps,vs,{capture:!0})};function ys(t){let e=t.getLocation();const s=new Set;let r=[];const n=()=>{e=t.getLocation(),s.forEach(o=>o())},i=async(o,a)=>{var c;if(!((a==null?void 0:a.ignoreBlocker)??!1)&&typeof document<"u"&&r.length){for(const h of r)if(!await h()){(c=t.onBlocked)==null||c.call(t,n);return}}o()};return{get location(){return e},subscribers:s,subscribe:o=>(s.add(o),()=>{s.delete(o)}),push:(o,a,c)=>{a=Nt(a),i(()=>{t.pushState(o,a),n()},c)},replace:(o,a,c)=>{a=Nt(a),i(()=>{t.replaceState(o,a),n()},c)},go:(o,a)=>{i(()=>{t.go(o),n()},a)},back:o=>{i(()=>{t.back(),n()},o)},forward:o=>{i(()=>{t.forward(),n()},o)},createHref:o=>t.createHref(o),block:o=>(r.push(o),r.length===1&&addEventListener(ps,vs,{capture:!0}),()=>{r=r.filter(a=>a!==o),r.length||Qs()}),flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:n}}function Nt(t){return t||(t={}),{...t,key:gs()}}function Ws(t){const e=typeof document<"u"?window:void 0,s=e.history.pushState,r=e.history.replaceState,n=v=>v,i=()=>we(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let o=i(),a;const c=()=>o;let u,h;const d=()=>{if(!u)return;(u.isPush?s:r).call(e.history,u.state,"",u.href),u=void 0,h=void 0,a=void 0},l=(v,p,S)=>{const g=n(p);h||(a=o),o=we(p,S),u={href:g,state:S,isPush:(u==null?void 0:u.isPush)||v==="push"},h||(h=Promise.resolve().then(()=>d()))},f=()=>{o=i(),y.notify()},y=ys({getLocation:c,pushState:(v,p)=>l("push",v,p),replaceState:(v,p)=>l("replace",v,p),back:()=>e.history.back(),forward:()=>e.history.forward(),go:v=>e.history.go(v),createHref:v=>n(v),flush:d,destroy:()=>{e.history.pushState=s,e.history.replaceState=r,e.removeEventListener(qe,f),e.removeEventListener(Ne,f)},onBlocked:v=>{a&&o!==a&&(o=a,v())}});return e.addEventListener(qe,f),e.addEventListener(Ne,f),e.history.pushState=function(...v){const p=s.apply(e.history,v);return f(),p},e.history.replaceState=function(...v){const p=r.apply(e.history,v);return f(),p},y}function Vs(t={initialEntries:["/"]}){const e=t.initialEntries;let s=t.initialIndex??e.length-1,r={key:gs()};return ys({getLocation:()=>we(e[s],r),pushState:(i,o)=>{r=o,e.splice,s<e.length-1&&e.splice(s+1),e.push(i),s=Math.max(e.length-1,0)},replaceState:(i,o)=>{r=o,e[s]=i},back:()=>{r=Nt(r),s=Math.max(s-1,0)},forward:()=>{r=Nt(r),s=Math.min(s+1,e.length-1)},go:i=>{r=Nt(r),s=Math.min(Math.max(s+i,0),e.length-1)},createHref:i=>i})}function we(t,e){const s=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,s>0?r>0?Math.min(s,r):s:r>0?r:t.length),hash:s>-1?t.substring(s):"",search:r>-1?t.slice(r,s===-1?void 0:s):"",state:e||{}}}function gs(){return(Math.random()+1).toString(36).substring(7)}var Gs="Invariant failed";function K(t,e){if(!t)throw new Error(Gs)}const ve=E.createContext(null);function Ss(){return typeof document>"u"?ve:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ve,ve)}function Lt(t){const e=E.useContext(Ss());return t==null||t.warn,e}var bs={exports:{}},_s={},Ps={exports:{}},ws={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=E;function Js(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xs=typeof Object.is=="function"?Object.is:Js,Ys=$t.useState,Zs=$t.useEffect,tr=$t.useLayoutEffect,er=$t.useDebugValue;function sr(t,e){var s=e(),r=Ys({inst:{value:s,getSnapshot:e}}),n=r[0].inst,i=r[1];return tr(function(){n.value=s,n.getSnapshot=e,ye(n)&&i({inst:n})},[t,s,e]),Zs(function(){return ye(n)&&i({inst:n}),t(function(){ye(n)&&i({inst:n})})},[t]),er(s),s}function ye(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Xs(t,s)}catch{return!0}}function rr(t,e){return e()}var nr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rr:sr;ws.useSyncExternalStore=$t.useSyncExternalStore!==void 0?$t.useSyncExternalStore:nr;Ps.exports=ws;var ir=Ps.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=E,or=ir;function ar(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:ar,cr=or.useSyncExternalStore,lr=ne.useRef,hr=ne.useEffect,dr=ne.useMemo,fr=ne.useDebugValue;_s.useSyncExternalStoreWithSelector=function(t,e,s,r,n){var i=lr(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=dr(function(){function c(f){if(!u){if(u=!0,h=f,f=r(f),n!==void 0&&o.hasValue){var y=o.value;if(n(y,f))return d=y}return d=f}if(y=d,ur(h,f))return y;var v=r(f);return n!==void 0&&n(y,v)?y:(h=f,d=v)}var u=!1,h,d,l=s===void 0?null:s;return[function(){return c(e())},l===null?void 0:function(){return c(l())}]},[e,s,r,n]);var a=cr(t,i[0],i[1]);return hr(function(){o.hasValue=!0,o.value=a},[a]),fr(a),a};bs.exports=_s;var Rs=bs.exports;const mr=Hs(Rs);class pr{constructor(e,s){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var n,i,o;const a=this.state;this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(a)(r):r(a),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(n=>{this._flushing===r&&n()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=s}}function vr(t,e=s=>s){return Rs.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,yr)}function yr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!1;for(let r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(e,s[r])||!Object.is(t[s[r]],e[s[r]]))return!1;return!0}const W="__root__";function gr(t,e){let s,r,n,i="";for(s in t)if((n=t[s])!==void 0)if(Array.isArray(n))for(r=0;r<n.length;r++)i&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(n[r]);else i&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(n);return""+i}function ze(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function Sr(t,e){let s,r;const n={},i=t.split("&");for(;s=i.shift();){const o=s.indexOf("=");if(o!==-1){r=s.slice(0,o);const a=s.slice(o+1);n[r]!==void 0?n[r]=[].concat(n[r],ze(a)):n[r]=ze(a)}else r=s,n[r]=""}return n}const br=Pr(JSON.parse),_r=wr(JSON.stringify,JSON.parse);function Pr(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const s=Sr(e);for(const r in s){const n=s[r];if(typeof n=="string")try{s[r]=t(n)}catch{}}return s}}function wr(t,e){function s(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=s(o)});const n=gr(r).toString();return n?`?${n}`:""}}function te(t){return t[t.length-1]}function Rr(t){return typeof t=="function"}function Xt(t,e){return Rr(t)?t(e):t}function zt(t,e){return e.reduce((s,r)=>(s[r]=t[r],s),{})}function et(t,e){if(t===e)return t;const s=e,r=Ke(t)&&Ke(s);if(r||ee(t)&&ee(s)){const n=r?t:Object.keys(t),i=n.length,o=r?s:Object.keys(s),a=o.length,c=r?[]:{};let u=0;for(let h=0;h<a;h++){const d=r?h:o[h];(!r&&n.includes(d)||r)&&t[d]===void 0&&s[d]===void 0?(c[d]=void 0,u++):(c[d]=et(t[d],s[d]),c[d]===t[d]&&t[d]!==void 0&&u++)}return i===a&&u===i?t:c}return s}function ee(t){if(!Ue(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Ue(s)||!s.hasOwnProperty("isPrototypeOf"))}function Ue(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ke(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ut(t,e,s=!1){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(ee(t)&&ee(e)){const r=Object.keys(t).filter(i=>t[i]!==void 0),n=Object.keys(e).filter(i=>e[i]!==void 0);return!s&&r.length!==n.length?!1:!n.some(i=>!(i in t)||!Ut(t[i],e[i],s))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,n)=>!Ut(r,e[n],s)):!1}const ge=typeof window<"u"?E.useLayoutEffect:E.useEffect;function Mt(t){let e,s;const r=new Promise((n,i)=>{e=n,s=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),t==null||t(n)},r.reject=n=>{r.status="rejected",s(n)},r}function He(t){const e=E.useRef({value:t,prev:null}),s=e.current.value;return t!==s&&(e.current={value:t,prev:s}),e.current.prev}function Zn(t,e,s={},r={}){const n=E.useRef(typeof IntersectionObserver=="function"),i=E.useRef(null);return E.useEffect(()=>{if(!(!t.current||!n.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{e(o)},s),i.current.observe(t.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[e,s,r.disabled,t]),i.current}function ti(t){const e=E.useRef(null);return E.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function yt(t){return ie(t.filter(e=>e!==void 0).join("/"))}function ie(t){return t.replace(/\/{2,}/g,"/")}function Ee(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Pt(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Er(t){return Pt(Ee(t))}function Qe(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function ei(t,e,s){return Qe(t,s)===Qe(e,s)}function Cr({basepath:t,base:e,to:s,trailingSlash:r="never"}){var n,i;e=se(t,e),s=se(t,s);let o=qt(e);const a=qt(s);o.length>1&&((n=te(o))==null?void 0:n.value)==="/"&&o.pop(),a.forEach((u,h)=>{u.value==="/"?h?h===a.length-1&&o.push(u):o=[u]:u.value===".."?o.pop():u.value==="."||o.push(u)}),o.length>1&&(((i=te(o))==null?void 0:i.value)==="/"?r==="never"&&o.pop():r==="always"&&o.push({type:"pathname",value:"/"}));const c=yt([t,...o.map(u=>u.value)]);return ie(c)}function qt(t){if(!t)return[];t=ie(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const s=t.split("/").filter(Boolean);return e.push(...s.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURIComponent(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Se({path:t,params:e,leaveWildcards:s,leaveParams:r}){const n=qt(t),i={};for(const[o,a]of Object.entries(e)){const c=typeof a=="string";["*","_splat"].includes(o)?i[o]=c?encodeURI(a):a:i[o]=c?encodeURIComponent(a):a}return yt(n.map(o=>{if(o.type==="wildcard"){const a=i._splat;return s?`${o.value}${a??""}`:a}if(o.type==="param"){if(r){const a=i[o.value];return`${o.value}${a??""}`}return i[o.value.substring(1)]??"undefined"}return o.value}))}function Yt(t,e,s){const r=Lr(t,e,s);if(!(s.to&&!r))return r??{}}function se(t,e){switch(!0){case t==="/":return e;case e===t:return"";case e.length<t.length:return e;case e[t.length]!=="/":return e;case e.startsWith(t):return e.slice(t.length);default:return e}}function Lr(t,e,s){e=se(t,e);const r=se(t,`${s.to??"$"}`),n=qt(e),i=qt(r);e.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(n.length,i.length);c++){const u=n[c],h=i[c],d=c>=n.length-1,l=c>=i.length-1;if(h){if(h.type==="wildcard"){if(u!=null&&u.value){const f=decodeURI(yt(n.slice(c).map(y=>y.value)));return o["*"]=f,o._splat=f,!0}return!1}if(h.type==="pathname"){if(h.value==="/"&&!(u!=null&&u.value))return!0;if(u){if(s.caseSensitive){if(h.value!==u.value)return!1}else if(h.value.toLowerCase()!==u.value.toLowerCase())return!1}}if(!u)return!1;if(h.type==="param"){if(u.value==="/")return!1;u.value.charAt(0)!=="$"&&(o[h.value.substring(1)]=decodeURIComponent(u.value))}}if(!d&&l)return o["**"]=yt(n.slice(c+1).map(f=>f.value)),!!s.fuzzy&&(h==null?void 0:h.value)!=="/"}return!0})()?o:void 0}function _t(t){return!!(t!=null&&t.isRedirect)}function We(t){return!!(t!=null&&t.isRedirect)&&t.href}function Ce(t){const e=t.errorComponent??oe;return P.jsx(xr,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:s,reset:r})=>s?E.createElement(e,{error:s,reset:r}):t.children})}class xr extends E.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,s){this.props.onCatch&&this.props.onCatch(e,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function oe({error:t}){const[e,s]=E.useState(!1);return P.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[P.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),P.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(r=>!r),children:e?"Hide Error":"Show Error"})]}),P.jsx("div",{style:{height:".25rem"}}),e?P.jsx("div",{children:P.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?P.jsx("code",{children:t.message}):null})}):null]})}function J(t){const e=Lt({warn:(t==null?void 0:t.router)===void 0});return vr(((t==null?void 0:t.router)||e).__store,t==null?void 0:t.select)}function Mr(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function st(t){return!!(t!=null&&t.isNotFound)}function Fr(t){const e=J({select:s=>`not-found-${s.location.pathname}-${s.status}`});return P.jsx(Ce,{getResetKey:()=>e,onCatch:(s,r)=>{var n;if(st(s))(n=t.onCatch)==null||n.call(t,s,r);else throw s},errorComponent:({error:s})=>{var r;return(r=t.fallback)==null?void 0:r.call(t,s)},children:t.children})}function Ir(){return P.jsx("p",{children:"Not Found"})}const Or=["component","errorComponent","pendingComponent","notFoundComponent"];function jr(t){return new Tr(t)}class Tr{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.subscribers=new Set,this.startReactTransition=s=>s(),this.update=s=>{s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options;this.options={...this.options,...s},this.isServer=this.options.isServer??typeof document>"u",(!this.basepath||s.basepath&&s.basepath!==r.basepath)&&(s.basepath===void 0||s.basepath===""||s.basepath==="/"?this.basepath="/":this.basepath=`/${Er(s.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Vs({initialEntries:[this.basepath||"/"]}):Ws()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new pr(kr(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(n=>!["redirected"].includes(n.status))}}}))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s);const r=o=>{o.forEach((a,c)=>{a.init({originalIndex:c});const u=this.routesById[a.id];if(K(!u,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const d=Pt(a.fullPath);(!this.routesByPath[d]||a.fullPath.endsWith("/"))&&(this.routesByPath[d]=a)}const h=a.children;h!=null&&h.length&&r(h)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((o,a)=>{var c;if(o.isRoot||!o.path)return;const u=Ee(o.fullPath),h=qt(u);for(;h.length>1&&((c=h[0])==null?void 0:c.value)==="/";)h.shift();const d=h.map(l=>l.value==="/"?.75:l.type==="param"?.5:l.type==="wildcard"?.25:1);n.push({child:o,trimmed:u,parsed:h,index:a,scores:d})}),this.flatRoutes=n.sort((o,a)=>{const c=Math.min(o.scores.length,a.scores.length);for(let u=0;u<c;u++)if(o.scores[u]!==a.scores[u])return a.scores[u]-o.scores[u];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let u=0;u<c;u++)if(o.parsed[u].value!==a.parsed[u].value)return o.parsed[u].value>a.parsed[u].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(s,r)=>{const n={eventType:s,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=s=>{this.subscribers.forEach(r=>{r.eventType===s.type&&r.fn(s)})},this.parseLocation=s=>{const r=({pathname:a,search:c,hash:u,state:h})=>{const d=this.options.parseSearch(c),l=this.options.stringifySearch(d);return{pathname:a,searchStr:l,search:et(s==null?void 0:s.search,d),hash:u.split("#").reverse()[0]??"",href:`${a}${l}${u}`,state:et(s==null?void 0:s.state,h)}},n=r(this.history.location),{__tempLocation:i,__tempKey:o}=n.state;if(i&&(!o||o===this.tempLocationKey)){const a=r(i);return a.state.key=n.state.key,delete a.state.__tempLocation,{...a,maskedLocation:n}}return n},this.resolvePathWithBase=(s,r)=>Cr({basepath:this.basepath,base:s,to:ie(r),trailingSlash:this.options.trailingSlash}),this.matchRoutes=(s,r,n)=>{let i={};const o=this.flatRoutes.find(f=>{const y=Yt(this.basepath,Pt(s),{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});return y?(i=y,!0):!1});let a=o||this.routesById[W];const c=[a];let u=!1;for((o?o.path!=="/"&&i["**"]:Pt(s))&&(this.options.notFoundRoute?c.push(this.options.notFoundRoute):u=!0);a.parentRoute;)a=a.parentRoute,c.unshift(a);const h=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let f=c.length-1;f>=0;f--){const y=c[f];if(y.children)return y.id}return W}})(),d=c.map(f=>{var y;let v;const p=((y=f.options.params)==null?void 0:y.parse)??f.options.parseParams;if(p)try{const S=p(i);Object.assign(i,S)}catch(S){if(v=new Dr(S.message,{cause:S}),n!=null&&n.throwOnError)throw v;return v}}),l=[];return c.forEach((f,y)=>{var v,p,S,g,b,w,C,M,x,_;const O=l[y-1],[V,z]=(()=>{const A=(O==null?void 0:O.search)??r;try{const U=typeof f.options.validateSearch=="object"?f.options.validateSearch.parse:f.options.validateSearch,X=(U==null?void 0:U(A))??{};return[{...A,...X},void 0]}catch(U){const X=new Ar(U.message,{cause:U});if(n!=null&&n.throwOnError)throw X;return[A,X]}})(),D=((p=(v=f.options).loaderDeps)==null?void 0:p.call(v,{search:V}))??"",F=D?JSON.stringify(D):"",k=Se({path:f.fullPath,params:i}),H=Se({path:f.id,params:i,leaveWildcards:!0})+F,gt=this.getMatch(H),St=this.state.matches.find(A=>A.id===H)?"stay":"enter";let j;if(gt)j={...gt,cause:St,params:i};else{const A=f.options.loader||f.options.beforeLoad||f.lazyFn?"pending":"success";j={id:H,index:y,routeId:f.id,params:i,pathname:yt([this.basepath,k]),updatedAt:Date.now(),search:{},searchError:void 0,status:A,isFetching:!1,error:void 0,paramsError:d[y],routeContext:void 0,context:void 0,abortController:new AbortController,fetchCount:0,cause:St,loaderDeps:D,invalid:!1,preload:!1,links:(g=(S=f.options).links)==null?void 0:g.call(S),scripts:(w=(b=f.options).scripts)==null?void 0:w.call(b),staticData:f.options.staticData||{},loadPromise:Mt()}}j.status==="success"&&(j.meta=(M=(C=f.options).meta)==null?void 0:M.call(C,{matches:l,match:j,params:j.params,loaderData:j.loaderData}),j.headers=(_=(x=f.options).headers)==null?void 0:_.call(x,{loaderData:j.loaderData})),n!=null&&n.preload||(j.globalNotFound=h===f.id),j.search=et(j.search,V),j.searchError=z,l.push(j)}),l},this.cancelMatch=s=>{const r=this.getMatch(s);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var s;(s=this.state.pendingMatches)==null||s.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=s=>{const r=(i={},o)=>{var a,c,u;const h=i._fromLocation!=null?this.matchRoutes(i._fromLocation.pathname,i.fromSearch||i._fromLocation.search):this.state.matches,d=i.from!=null?h.find(F=>Yt(this.basepath,Pt(F.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,l=(d==null?void 0:d.pathname)||this.latestLocation.pathname;K(i.from==null||d!=null,"Could not find match for from: "+i.from);const f=((a=te(h))==null?void 0:a.search)||this.latestLocation.search,y=o==null?void 0:o.filter(F=>h.find(k=>k.routeId===F.routeId)),v=this.routesById[(c=y==null?void 0:y.find(F=>F.pathname===l))==null?void 0:c.routeId];let p=i.to?this.resolvePathWithBase(l,`${i.to}`):this.resolvePathWithBase(l,(v==null?void 0:v.to)??l);const S={...(u=te(h))==null?void 0:u.params};let g=(i.params??!0)===!0?S:{...S,...Xt(i.params,S)};Object.keys(g).length>0&&(o==null||o.map(F=>{var k;const H=this.looseRoutesById[F.routeId];return((k=H==null?void 0:H.options.params)==null?void 0:k.stringify)??H.options.stringifyParams}).filter(Boolean).forEach(F=>{g={...g,...F(g)}})),p=Se({path:p,params:g??{},leaveWildcards:!1,leaveParams:s.leaveParams});const b=(y==null?void 0:y.map(F=>this.looseRoutesById[F.routeId].options.preSearchFilters??[]).flat().filter(Boolean))??[],w=(y==null?void 0:y.map(F=>this.looseRoutesById[F.routeId].options.postSearchFilters??[]).flat().filter(Boolean))??[],C=b.length?b.reduce((F,k)=>k(F),f):f,M=i.search===!0?C:i.search?Xt(i.search,C):b.length?C:{},x=w.length?w.reduce((F,k)=>k(F),M):M,_=et(f,x),O=this.options.stringifySearch(_),V=i.hash===!0?this.latestLocation.hash:i.hash?Xt(i.hash,this.latestLocation.hash):void 0,z=V?`#${V}`:"";let D=i.state===!0?this.latestLocation.state:i.state?Xt(i.state,this.latestLocation.state):{};return D=et(this.latestLocation.state,D),{pathname:p,search:_,searchStr:O,state:D,hash:V??"",href:`${p}${O}${z}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var a;const c=r(i);let u=o?r(o):void 0;if(!u){let y={};const v=(a=this.options.routeMasks)==null?void 0:a.find(p=>{const S=Yt(this.basepath,c.pathname,{to:p.from,caseSensitive:!1,fuzzy:!1});return S?(y=S,!0):!1});if(v){const{from:p,...S}=v;o={...zt(s,["from"]),...S,params:y},u=r(o)}}const h=this.matchRoutes(c.pathname,c.search),d=u?this.matchRoutes(u.pathname,u.search):void 0,l=u?r(o,d):void 0,f=r(i,h);return l&&(f.maskedLocation=l),f};return s.mask?n(s,{...zt(s,["from"]),...s.mask}):n(s)},this.commitLocation=({viewTransition:s,ignoreBlocker:r,...n})=>{const i=()=>{n.state.key=this.latestLocation.state.key;const c=Ut(n.state,this.latestLocation.state);return delete n.state.key,c},o=this.latestLocation.href===n.href,a=this.commitLocationPromise;if(this.commitLocationPromise=Mt(()=>{a==null||a.resolve()}),o&&i())this.load();else{let{maskedLocation:c,...u}=n;c&&(u={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),this.shouldViewTransition=s,this.history[n.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:r,viewTransition:n,ignoreBlocker:i,...o}={})=>{const a=this.buildLocation(o);return this.commitLocation({...a,viewTransition:n,replace:s,resetScroll:r,ignoreBlocker:i})},this.navigate=({from:s,to:r,__isRedirect:n,...i})=>{const o=String(r);let a;try{new URL(`${o}`),a=!0}catch{}return K(!a),this.buildAndCommitLocation({...i,from:s,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation),this.__store.setState(i=>({...i,loadedAt:Date.now()}));let s,r;const n=new Promise(i=>{this.startReactTransition(async()=>{var o;try{const a=this.latestLocation,c=this.state.resolvedLocation,u=c.href!==a.href;this.cancelMatches();let h;this.__store.batch(()=>{h=this.matchRoutes(a.pathname,a.search),this.__store.setState(d=>({...d,status:"pending",isLoading:!0,location:a,pendingMatches:h,cachedMatches:d.cachedMatches.filter(l=>!h.find(f=>f.id===l.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:c,toLocation:a,pathChanged:u}),this.emit({type:"onBeforeLoad",fromLocation:c,toLocation:a,pathChanged:u}),await this.loadMatches({matches:h,location:a,onReady:async()=>{this.startViewTransition(async()=>{let d,l,f;this.__store.batch(()=>{this.__store.setState(y=>{const v=y.matches,p=y.pendingMatches||y.matches;return d=v.filter(S=>!p.find(g=>g.id===S.id)),l=p.filter(S=>!v.find(g=>g.id===S.id)),f=v.filter(S=>p.find(g=>g.id===S.id)),{...y,isLoading:!1,matches:p,pendingMatches:void 0,cachedMatches:[...y.cachedMatches,...d.filter(S=>S.status!=="error")]}}),this.cleanCache()}),[[d,"onLeave"],[l,"onEnter"],[f,"onStay"]].forEach(([y,v])=>{y.forEach(p=>{var S,g;(g=(S=this.looseRoutesById[p.routeId].options)[v])==null||g.call(S,p)})})})}})}catch(a){We(a)?(s=a,this.isServer||this.navigate({...a,replace:!0,__isRedirect:!0})):st(a)&&(r=a),this.__store.setState(c=>({...c,statusCode:s?s.statusCode:r?404:c.matches.some(u=>u.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===n&&((o=this.commitLocationPromise)==null||o.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})});for(this.latestLoadPromise=n,await n;this.latestLoadPromise&&n!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=s=>{var r,n;const i=this.shouldViewTransition??this.options.defaultViewTransition;delete this.shouldViewTransition,(n=(r=i&&typeof document<"u"?document:void 0)==null?void 0:r.startViewTransition)!=null&&n.call(r,s)||s()},this.updateMatch=(s,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(u=>u.id===s),a=this.state.matches.find(u=>u.id===s),c=o?"pendingMatches":a?"matches":"cachedMatches";return this.__store.setState(u=>{var h;return{...u,[c]:(h=u[c])==null?void 0:h.map(d=>d.id===s?i=r(d):d)}}),i},this.getMatch=s=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===s),this.loadMatches=async({location:s,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch})=>{let a,c=!1;const u=async()=>{c||(c=!0,await(i==null?void 0:i()))};!this.isServer&&!this.state.matches.length&&u();const h=(d,l)=>{var f,y,v;if(We(l))throw l;if(_t(l)||st(l)){if(o(d.id,p=>({...p,status:_t(l)?"redirected":st(l)?"notFound":"error",isFetching:!1,error:l,beforeLoadPromise:void 0,loaderPromise:void 0})),l.routeId||(l.routeId=d.routeId),(f=d.beforeLoadPromise)==null||f.resolve(),(y=d.loaderPromise)==null||y.resolve(),(v=d.loadPromise)==null||v.resolve(),_t(l))throw c=!0,l=this.resolveRedirect({...l,_fromLocation:s}),l;if(st(l))throw this._handleNotFound(r,l,{updateMatch:o}),l}};try{await new Promise((d,l)=>{(async()=>{var f,y,v;try{const p=(b,w,C)=>{var M,x;const{id:_,routeId:O}=r[b],V=this.looseRoutesById[O];if(w instanceof Promise)throw w;w.routerCode=C,a=a??b,h(this.getMatch(_),w);try{(x=(M=V.options).onError)==null||x.call(M,w)}catch(z){w=z,h(this.getMatch(_),w)}o(_,z=>{var D;return(D=z.beforeLoadPromise)==null||D.resolve(),{...z,error:w,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[b,{id:w,routeId:C}]of r.entries()){const M=this.getMatch(w);if(M.beforeLoadPromise||M.loaderPromise)await M.beforeLoadPromise;else{try{o(w,T=>({...T,loadPromise:Mt(()=>{var tt;(tt=T.loadPromise)==null||tt.resolve()}),beforeLoadPromise:Mt()}));const x=this.looseRoutesById[C],_=new AbortController,O=(f=r[b-1])==null?void 0:f.id,V=()=>O?this.getMatch(O).context??this.options.context??{}:this.options.context??{},z=x.options.pendingMs??this.options.defaultPendingMs,D=!!(i&&!this.isServer&&!n&&(x.options.loader||x.options.beforeLoad)&&typeof z=="number"&&z!==1/0&&(x.options.pendingComponent??this.options.defaultPendingComponent));let F;D&&(F=setTimeout(()=>{try{u()}catch{}},z));const{paramsError:k,searchError:H}=this.getMatch(w);k&&p(b,k,"PARSE_PARAMS"),H&&p(b,H,"VALIDATE_SEARCH");const gt=V();o(w,T=>({...T,isFetching:"beforeLoad",fetchCount:T.fetchCount+1,routeContext:et(T.routeContext,gt),context:et(T.context,gt),abortController:_,pendingTimeout:F}));const{search:St,params:j,routeContext:A,cause:U}=this.getMatch(w),X={search:St,abortController:_,params:j,preload:!!n,context:A,location:s,navigate:T=>this.navigate({...T,_fromLocation:s}),buildLocation:this.buildLocation,cause:n?"preload":U},at=await((v=(y=x.options).beforeLoad)==null?void 0:v.call(y,X))??{};(_t(at)||st(at))&&p(b,at,"BEFORE_LOAD"),o(w,T=>{const tt={...T.routeContext,...at};return{...T,routeContext:et(T.routeContext,tt),context:et(T.context,tt),abortController:_}})}catch(x){p(b,x,"BEFORE_LOAD")}o(w,x=>{var _;return(_=x.beforeLoadPromise)==null||_.resolve(),{...x,beforeLoadPromise:void 0,isFetching:!1}})}}const S=r.slice(0,a),g=[];S.forEach(({id:b,routeId:w},C)=>{g.push((async()=>{const{loaderPromise:M}=this.getMatch(b);if(M)await M;else{const x=g[C-1],_=this.looseRoutesById[w],O=()=>{const{params:A,loaderDeps:U,abortController:X,context:at,cause:T}=this.getMatch(b);return{params:A,deps:U,preload:!!n,parentMatchPromise:x,abortController:X,context:at,location:s,navigate:tt=>this.navigate({...tt,_fromLocation:s}),cause:n?"preload":T,route:_}},V=Date.now()-this.getMatch(b).updatedAt,z=n?_.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:_.options.staleTime??this.options.defaultStaleTime??0,D=_.options.shouldReload,F=typeof D=="function"?D(O()):D;o(b,A=>({...A,loaderPromise:Mt(),preload:!!n&&!this.state.matches.find(U=>U.id===b)}));const k=async()=>{var A,U,X,at,T,tt,De,ke;try{const Gt=async()=>{const lt=this.getMatch(b);lt.minPendingPromise&&await lt.minPendingPromise};try{_._lazyPromise=_._lazyPromise||(_.lazyFn?_.lazyFn().then(bt=>{Object.assign(_.options,bt.options)}):Promise.resolve());const lt=this.getMatch(b).componentsPromise||_._lazyPromise.then(()=>Promise.all(Or.map(async bt=>{const me=_.options[bt];me!=null&&me.preload&&await me.preload()})));o(b,bt=>({...bt,isFetching:"loader",componentsPromise:lt})),await _._lazyPromise;let ut=await((U=(A=_.options).loader)==null?void 0:U.call(A,O()));this.serializeLoaderData&&(ut=this.serializeLoaderData(ut,{router:this,match:this.getMatch(b)})),h(this.getMatch(b),ut),await Gt();const xt=(at=(X=_.options).meta)==null?void 0:at.call(X,{matches:r,match:this.getMatch(b),params:this.getMatch(b).params,loaderData:ut}),qs=(tt=(T=_.options).headers)==null?void 0:tt.call(T,{loaderData:ut});o(b,bt=>({...bt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:ut,meta:xt,headers:qs}))}catch(lt){let ut=lt;await Gt(),h(this.getMatch(b),lt);try{(ke=(De=_.options).onError)==null||ke.call(De,lt)}catch(xt){ut=xt,h(this.getMatch(b),xt)}o(b,xt=>({...xt,error:ut,status:"error",isFetching:!1}))}await this.getMatch(b).componentsPromise}catch(Gt){h(this.getMatch(b),Gt)}},{status:H,invalid:gt}=this.getMatch(b);H==="success"&&(gt||(F??V>z))?(async()=>{try{await k()}catch{}})():H!=="success"&&await k();const{loaderPromise:St,loadPromise:j}=this.getMatch(b);St==null||St.resolve(),j==null||j.resolve()}o(b,x=>({...x,isFetching:!1,loaderPromise:void 0}))})())}),await Promise.all(g),d()}catch(p){l(p)}})()}),await u()}catch(d){if(_t(d)||st(d))throw st(d)&&!n&&await u(),d}return r},this.invalidate=()=>{const s=r=>({...r,invalid:!0,...r.status==="error"?{status:"pending",error:void 0}:{}});return this.__store.setState(r=>{var n;return{...r,matches:r.matches.map(s),cachedMatches:r.cachedMatches.map(s),pendingMatches:(n=r.pendingMatches)==null?void 0:n.map(s)}}),this.load()},this.resolveRedirect=s=>{const r=s;return r.href||(r.href=this.buildLocation(r).href),r},this.cleanCache=()=>{this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!1;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return r.status!=="error"&&Date.now()-r.updatedAt<i})}))},this.preloadRoute=async s=>{const r=this.buildLocation(s);let n=this.matchRoutes(r.pathname,r.search,{throwOnError:!0,preload:!0});const i=Object.fromEntries([...this.state.matches,...this.state.pendingMatches??[],...this.state.cachedMatches].map(a=>[a.id,!0]));this.__store.batch(()=>{n.forEach(a=>{i[a.id]||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id));try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(a,c)=>{o.has(a)?n=n.map(u=>u.id===a?c(u):u):this.updateMatch(a,c)}}),n}catch(a){if(_t(a))return await this.preloadRoute({...a,_fromLocation:r});console.error(a);return}},this.matchRoute=(s,r)=>{const n={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},i=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=Yt(this.basepath,a.pathname,{...r,to:i.pathname});return!c||s.params&&!Ut(c,s.params,!0)?!1:c&&((r==null?void 0:r.includeSearch)??!0)?Ut(a.search,i.search,!0)?c:!1:c},this.dehydrate=()=>{var s;const r=((s=this.options.errorSerializer)==null?void 0:s.serialize)??Br;return{state:{dehydratedMatches:this.state.matches.map(n=>({...zt(n,["id","status","updatedAt"]),error:n.error?{data:r(n.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var s,r,n;let i;typeof document<"u"&&(i=this.options.transformer.parse((s=window.__TSR__)==null?void 0:s.dehydrated)),K(i),this.dehydratedData=i.payload,(n=(r=this.options).hydrate)==null||n.call(r,i.payload);const o=i.router.state,a=this.matchRoutes(this.state.location.pathname,this.state.location.search).map(c=>{const u=o.dehydratedMatches.find(h=>h.id===c.id);return K(u,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...u}});this.__store.setState(c=>({...c,matches:a})),this.manifest=i.router.manifest},this.injectedHtml=[],this.injectHtml=s=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(n=>n!==r),s);this.injectedHtml.push(r)},this.streamedKeys=new Set,this.getStreamedValue=s=>{var r;if(this.isServer)return;const n=(r=window.__TSR__)==null?void 0:r.streamedValues[s];if(n)return n.parsed||(n.parsed=this.options.transformer.parse(n.value)),n.parsed},this.streamValue=(s,r)=>{var n;this.streamedKeys.has(s),this.streamedKeys.add(s);const i=`__TSR__.streamedValues['${s}'] = { value: ${(n=this.serializer)==null?void 0:n.call(this,this.options.transformer.stringify(r))}}`;this.injectHtml(`<script class='tsr-once'>${i}; __TSR__.cleanScripts()<\/script>`)},this._handleNotFound=(s,r,{updateMatch:n=this.updateMatch}={})=>{const i=Object.fromEntries(s.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[W]:this.looseRoutesById[r.routeId])||this.looseRoutesById[W];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==W;)o=o.parentRoute,K(o);const a=i[o.id];K(a,"Could not find match for route: "+o.id),n(a.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(s,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??_r,parseSearch:e.parseSearch??br,transformer:e.transformer??{parse:JSON.parse,stringify:JSON.stringify}}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}}class Ar extends Error{}class Dr extends Error{}function kr(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Br(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function Ve(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function Ge(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const ae=E.createContext(void 0);function ot(t){const e=E.useContext(ae);return J({select:r=>{const n=r.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(K(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n}})}function Le(t){return ot({...t,select:e=>typeof t.select=="function"?t.select(e.loaderDeps):e.loaderDeps})}function xe(t){return ot({...t,select:e=>typeof t.select=="function"?t.select(e.loaderData):e.loaderData})}function Me(t){return ot({...t,select:e=>t.select?t.select(e.params):e.params})}function Fe(t){return ot({...t,select:e=>t.select?t.select(e.search):e.search})}function Ie(t){const{navigate:e}=Lt();return E.useCallback(s=>e({...s}),[e])}function si(t){return new $r({id:t})}class $r{constructor({id:e}){this.useMatch=s=>ot({select:s==null?void 0:s.select,from:this.id}),this.useRouteContext=s=>ot({from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Fe({...s,from:this.id}),this.useParams=s=>Me({...s,from:this.id}),this.useLoaderDeps=s=>Le({...s,from:this.id,strict:!1}),this.useLoaderData=s=>xe({...s,from:this.id,strict:!1}),this.useNavigate=()=>Ie({from:this.id}),this.notFound=s=>Mr({routeId:this.id,...s}),this.id=e}}let Es=class{constructor(e){this.init=s=>{var r,n;this.originalIndex=s.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(n=(r=this.options)==null?void 0:r.getParentRoute)==null?void 0:n.call(r),o?this.path=W:K(this.parentRoute);let a=o?W:i.path;a&&a!=="/"&&(a=Ee(a));const c=(i==null?void 0:i.id)||a;let u=o?W:yt([this.parentRoute.id===W?"":this.parentRoute.id,c]);a===W&&(a="/"),u!==W&&(u=yt(["/",u]));const h=u===W?"/":yt([this.parentRoute.fullPath,a]);this.path=a,this.id=u,this.fullPath=h,this.to=h},this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.useMatch=s=>ot({...s,from:this.id}),this.useRouteContext=s=>ot({...s,from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Fe({...s,from:this.id}),this.useParams=s=>Me({...s,from:this.id}),this.useLoaderDeps=s=>Le({...s,from:this.id}),this.useLoaderData=s=>xe({...s,from:this.id}),this.useNavigate=()=>Ie({from:this.id}),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),K(!(e!=null&&e.id&&(e!=null&&e.path))),this.$$typeof=Symbol.for("react.memo")}addChildren(e){return this.children=Array.isArray(e)?e:Object.values(e),this}};function qr(t){return new Es(t)}class Nr extends Es{constructor(e){super(e)}addChildren(e){return super.addChildren(e)}}function zr(t){return new Nr(t)}function Oe(t){return new Ur(t,{silent:!0}).createRoute}class Ur{constructor(e,s){this.path=e,this.createRoute=r=>{this.silent;const n=qr(r);return n.isRoot=!1,n},this.silent=s==null?void 0:s.silent}}class Kr{constructor(e){this.useMatch=s=>ot({select:s==null?void 0:s.select,from:this.options.id}),this.useRouteContext=s=>ot({from:this.options.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Fe({...s,from:this.options.id}),this.useParams=s=>Me({...s,from:this.options.id}),this.useLoaderDeps=s=>Le({...s,from:this.options.id}),this.useLoaderData=s=>xe({...s,from:this.options.id}),this.useNavigate=()=>Ie({from:this.options.id}),this.options=e,this.$$typeof=Symbol.for("react.memo")}}function ni(t){return e=>new Kr({id:t,...e})}function Hr(){const t=Lt(),e=E.useRef({router:t,mounted:!1}),s=J({select:u=>zt(u,["isLoading","location","resolvedLocation","isTransitioning"])}),[r,n]=E.useTransition(),i=J({select:u=>u.matches.some(h=>h.status==="pending")}),o=He(s.isLoading),a=s.isLoading||r||i,c=He(a);return t.isServer||(t.startReactTransition=n),E.useEffect(()=>{const u=t.history.subscribe(t.load),h=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0});return Pt(t.latestLocation.href)!==Pt(h.href)&&t.commitLocation({...h,replace:!0}),()=>{u()}},[t,t.history]),ge(()=>{var u;if((u=window.__TSR__)!=null&&u.dehydrated||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(d){console.error(d)}})()},[t]),ge(()=>{if(o&&!s.isLoading){const u=t.state.location,h=t.state.resolvedLocation,d=h.href!==u.href;t.emit({type:"onLoad",fromLocation:h,toLocation:u,pathChanged:d})}},[o,t,s.isLoading]),ge(()=>{if(c&&!a){const u=t.state.location,h=t.state.resolvedLocation,d=h.href!==u.href;if(t.emit({type:"onResolved",fromLocation:h,toLocation:u,pathChanged:d}),t.__store.setState(l=>({...l,status:"idle",resolvedLocation:l.location})),document.querySelector&&t.state.location.hash!==""){const l=document.getElementById(t.state.location.hash);l&&l.scrollIntoView()}}},[a,c,t]),null}function be(t){return P.jsx(P.Fragment,{children:t.children})}function Cs(t,e,s){return e.options.notFoundComponent?P.jsx(e.options.notFoundComponent,{data:s}):t.options.defaultNotFoundComponent?P.jsx(t.options.defaultNotFoundComponent,{data:s}):P.jsx(Ir,{})}const Ls=E.memo(function({matchId:e}){var s,r;const n=Lt(),i=J({select:p=>{var S;return(S=p.matches.find(g=>g.id===e))==null?void 0:S.routeId}});K(i);const o=n.routesById[i],a=o.options.pendingComponent??n.options.defaultPendingComponent,c=a?P.jsx(a,{}):null,u=o.options.errorComponent??n.options.defaultErrorComponent,h=o.options.onCatch??n.options.defaultOnCatch,d=o.isRoot?o.options.notFoundComponent??((s=n.options.notFoundRoute)==null?void 0:s.options.component):o.options.notFoundComponent,l=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??a??((r=o.options.errorComponent)==null?void 0:r.preload))?E.Suspense:be,f=u?Ce:be,y=d?Fr:be,v=J({select:p=>p.loadedAt});return P.jsx(ae.Provider,{value:e,children:P.jsx(l,{fallback:c,children:P.jsx(f,{getResetKey:()=>v,errorComponent:u||oe,onCatch:(p,S)=>{if(st(p))throw p;h==null||h(p,S)},children:P.jsx(y,{fallback:p=>{if(!d||p.routeId&&p.routeId!==i||!p.routeId&&!o.isRoot)throw p;return E.createElement(d,p)},children:P.jsx(Qr,{matchId:e})})})})})}),Qr=E.memo(function({matchId:e}){var s,r,n;const i=Lt(),{match:o,matchIndex:a,routeId:c}=J({select:l=>{const f=l.matches.findIndex(p=>p.id===e),y=l.matches[f];return{routeId:y.routeId,matchIndex:f,match:zt(y,["id","status","error","loadPromise"])}}}),u=i.routesById[c],h=E.useMemo(()=>{const l=u.options.component??i.options.defaultComponent;return l?P.jsx(l,{},c):P.jsx(xs,{})},[c,u.options.component,i.options.defaultComponent]),d=(u.options.errorComponent??i.options.defaultErrorComponent)||oe;if(o.status==="notFound"){let l;return Ve(o.error)?l=(((s=i.options.errorSerializer)==null?void 0:s.deserialize)??Ge)(o.error.data):l=o.error,K(st(l)),Cs(i,u,l)}if(o.status==="redirected")throw K(_t(o.error)),o.loadPromise;if(o.status==="error"){if(i.isServer)return P.jsx(d,{error:o.error,info:{componentStack:""}});throw Ve(o.error)?(((r=i.options.errorSerializer)==null?void 0:r.deserialize)??Ge)(o.error.data):o.error}if(o.status==="pending"){const l=u.options.pendingMinMs??i.options.defaultPendingMinMs;if(l&&!((n=i.getMatch(o.id))!=null&&n.minPendingPromise)&&!i.isServer){const f=Mt();Promise.resolve().then(()=>{i.updateMatch(o.id,y=>({...y,minPendingPromise:f}))}),setTimeout(()=>{f.resolve(),i.updateMatch(o.id,y=>({...y,minPendingPromise:void 0}))},l)}throw o.loadPromise}return P.jsxs(P.Fragment,{children:[h,i.AfterEachMatch?P.jsx(i.AfterEachMatch,{match:o,matchIndex:a}):null]})}),xs=E.memo(function(){const e=Lt(),s=E.useContext(ae),r=J({select:u=>{var h;return(h=u.matches.find(d=>d.id===s))==null?void 0:h.routeId}}),n=e.routesById[r],{parentGlobalNotFound:i}=J({select:u=>{const d=u.matches.find(l=>l.id===s);return K(d),{parentGlobalNotFound:d.globalNotFound}}}),o=J({select:u=>{var h;const d=u.matches,l=d.findIndex(f=>f.id===s);return(h=d[l+1])==null?void 0:h.id}});if(i)return Cs(e,n,void 0);if(!o)return null;const a=P.jsx(Ls,{matchId:o}),c=e.options.defaultPendingComponent?P.jsx(e.options.defaultPendingComponent,{}):null;return s===W?P.jsx(E.Suspense,{fallback:c,children:a}):a});function Wr(){const t=Lt(),e=t.options.defaultPendingComponent?P.jsx(t.options.defaultPendingComponent,{}):null,s=P.jsxs(E.Suspense,{fallback:e,children:[P.jsx(Hr,{}),P.jsx(Vr,{})]});return t.options.InnerWrap?P.jsx(t.options.InnerWrap,{children:s}):s}function Vr(){const t=J({select:s=>{var r;return(r=s.matches[0])==null?void 0:r.id}}),e=J({select:s=>s.loadedAt});return P.jsx(ae.Provider,{value:t,children:P.jsx(Ce,{getResetKey:()=>e,errorComponent:oe,onCatch:s=>{s.message||s.toString()},children:t?P.jsx(Ls,{matchId:t}):null})})}function Gr({router:t,children:e,...s}){t.update({...t.options,...s,context:{...t.options.context,...s.context}});const r=Ss(),n=P.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?P.jsx(t.options.Wrap,{children:n}):n}function Jr({router:t,...e}){return P.jsx(Gr,{router:t,...e,children:P.jsx(Wr,{})})}const Xr="modulepreload",Yr=function(t){return"/lets/"+t},Je={},je=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(s.map(a=>{if(a=Yr(a),a in Je)return;Je[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Xr,c||(h.as="script"),h.crossOrigin="",h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((d,l)=>{h.addEventListener("load",d),h.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Zr={BASE_URL:"/lets/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xe=t=>{let e;const s=new Set,r=(h,d)=>{const l=typeof h=="function"?h(e):h;if(!Object.is(l,e)){const f=e;e=d??(typeof l!="object"||l===null)?l:Object.assign({},e,l),s.forEach(y=>y(e,f))}},n=()=>e,c={setState:r,getState:n,getInitialState:()=>u,subscribe:h=>(s.add(h),()=>s.delete(h)),destroy:()=>{(Zr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=e=t(r,n,c);return c},tn=t=>t?Xe(t):Xe,Ms={BASE_URL:"/lets/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:en}=ms,{useSyncExternalStoreWithSelector:sn}=mr;let Ye=!1;const rn=t=>t;function nn(t,e=rn,s){(Ms?"production":void 0)!=="production"&&s&&!Ye&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ye=!0);const r=sn(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return en(r),r}const on=t=>{(Ms?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?tn(t):t,s=(r,n)=>nn(e,r,n);return Object.assign(s,e),s},ue=t=>on,an={BASE_URL:"/lets/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function un(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=s.getItem(n))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const Kt=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return Kt(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return Kt(r)(s)}}}},cn=(t,e)=>(s,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,S)=>({...S,...p}),...e},o=!1;const a=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...p)},r,n);const h=Kt(i.serialize),d=()=>{const p=i.partialize({...r()});let S;const g=h({state:p,version:i.version}).then(b=>u.setItem(i.name,b)).catch(b=>{S=b});if(S)throw S;return g},l=n.setState;n.setState=(p,S)=>{l(p,S),d()};const f=t((...p)=>{s(...p),d()},r,n);let y;const v=()=>{var p;if(!u)return;o=!1,a.forEach(g=>g(r()));const S=((p=i.onRehydrateStorage)==null?void 0:p.call(i,r()))||void 0;return Kt(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var b;return y=i.merge(g,(b=r())!=null?b:f),s(y,!0),d()}).then(()=>{S==null||S(y,void 0),o=!0,c.forEach(g=>g(y))}).catch(g=>{S==null||S(void 0,g)})};return n.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(u=p.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},v(),y||f},ln=(t,e)=>(s,r,n)=>{let i={storage:un(()=>localStorage),partialize:v=>v,version:0,merge:(v,p)=>({...p,...v}),...e},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...v)},r,n);const h=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},d=n.setState;n.setState=(v,p)=>{d(v,p),h()};const l=t((...v)=>{s(...v),h()},r,n);n.getInitialState=()=>l;let f;const y=()=>{var v,p;if(!u)return;o=!1,a.forEach(g=>{var b;return g((b=r())!=null?b:l)});const S=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(v=r())!=null?v:l))||void 0;return Kt(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[w,C]=g;if(f=i.merge(C,(b=r())!=null?b:l),s(f,!0),w)return h()}).then(()=>{S==null||S(f,void 0),f=r(),o=!0,c.forEach(g=>g(f))}).catch(g=>{S==null||S(void 0,g)})};return n.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||y(),f||l},hn=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((an?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),cn(t,e)):ln(t,e),ce=hn,Te=ue()(ce(t=>({columns:[],showSettings:!1,actions:{setColumns:e=>t(()=>({columns:e})),toggleSettings:()=>t(e=>({showSettings:!e.showSettings}))}}),{name:"lets-bike-table",partialize:t=>({columns:t.columns})})),ii=()=>Te(t=>t.actions),oi=()=>Te(t=>t.columns),ai=()=>Te(t=>t.showSettings),Fs=ue()(ce(t=>({items:[],actions:{addHistoryItem:e=>{t(s=>{const r=new Set(s.items);return e.length>2&&r.add(e),{items:Array.from(r)}})},removeHistoryItem:e=>t(s=>({items:s.items.filter(r=>r!==e)}))}}),{name:"lets-bike-search-history",partialize:t=>({items:t.items})})),ui=()=>Fs(t=>t.actions),ci=()=>Fs(t=>t.items.slice().reverse()),le=ue()(ce(t=>({view:"tile",mode:"search",theme:"light",actions:{setView:e=>t(()=>({view:e})),setMode:e=>t(()=>({mode:e})),setTheme:e=>t({theme:e}),toggleFavs:()=>t(e=>({mode:e.mode==="favs"?"search":"favs"}))}}),{name:"lets-bike-app",partialize:t=>({view:t.view,mode:t.mode,theme:t.theme})})),dn=()=>le(t=>t.actions),li=()=>le(t=>t.view),hi=()=>le(t=>t.mode),fn=()=>le(t=>t.theme),mn=ue()(ce(t=>({id:"",actions:{setId:e=>{t(()=>({id:e}))}}}),{name:"lets-bike-file-id",partialize:t=>({id:t.id})})),di=()=>mn(t=>t.id),pn=E.createContext({toggleColorMode:()=>{}}),vn=({children:t})=>{const e=fn(),{setTheme:s}=dn();E.useEffect(()=>{const i=document.getElementById("root");i&&i.classList.add(e)},[e]);const r={toggleColorMode:()=>{const i=document.getElementById("root");i&&(e==="dark"?(i.classList.remove("dark"),i.classList.add("light"),s("light")):(i.classList.remove("light"),i.classList.add("dark"),s("dark")))}},n=E.useMemo(()=>Ns({palette:{mode:e,primary:{main:"#ea2b06"},secondary:{main:"#434343"},background:{default:"#f8f8f8"}}}),[e]);return P.jsx(pn.Provider,{value:r,children:P.jsx(zs,{theme:n,children:t})})};var he=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},de=typeof window>"u"||"Deno"in globalThis;function Y(){}function yn(t,e){return typeof t=="function"?t(e):t}function gn(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sn(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ze(t,e){return typeof t=="function"?t(e):t}function bn(t,e){return typeof t=="function"?t(e):t}function ts(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ae(o,e.options))return!1}else if(!Qt(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function es(t,e){const{exact:s,status:r,predicate:n,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(Ht(e.options.mutationKey)!==Ht(i))return!1}else if(!Qt(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Ae(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ht)(t)}function Ht(t){return JSON.stringify(t,(e,s)=>Re(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Qt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Qt(t[s],e[s])):!1}function Is(t,e){if(t===e)return t;const s=ss(t)&&ss(e);if(s||Re(t)&&Re(e)){const r=s?t:Object.keys(t),n=r.length,i=s?e:Object.keys(e),o=i.length,a=s?[]:{};let c=0;for(let u=0;u<o;u++){const h=s?u:i[u];(!s&&r.includes(h)||s)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=Is(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return n===o&&c===n?t:a}return e}function fi(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function ss(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Re(t){if(!rs(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!rs(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rs(t){return Object.prototype.toString.call(t)==="[object Object]"}function _n(t){return new Promise(e=>{setTimeout(e,t)})}function Pn(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Is(t,e):e}function wn(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Rn(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Os=Symbol();function js(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Os?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var wt,dt,Ft,os,En=(os=class extends he{constructor(){super();L(this,wt);L(this,dt);L(this,Ft);R(this,Ft,e=>{if(!de&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){m(this,dt)||this.setEventListener(m(this,Ft))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,dt))==null||e.call(this),R(this,dt,void 0))}setEventListener(e){var s;R(this,Ft,e),(s=m(this,dt))==null||s.call(this),R(this,dt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){m(this,wt)!==e&&(R(this,wt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof m(this,wt)=="boolean"?m(this,wt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wt=new WeakMap,dt=new WeakMap,Ft=new WeakMap,os),Ts=new En,It,ft,Ot,as,Cn=(as=class extends he{constructor(){super();L(this,It,!0);L(this,ft);L(this,Ot);R(this,Ot,e=>{if(!de&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,ft)||this.setEventListener(m(this,Ot))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,ft))==null||e.call(this),R(this,ft,void 0))}setEventListener(e){var s;R(this,Ot,e),(s=m(this,ft))==null||s.call(this),R(this,ft,e(this.setOnline.bind(this)))}setOnline(e){m(this,It)!==e&&(R(this,It,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return m(this,It)}},It=new WeakMap,ft=new WeakMap,Ot=new WeakMap,as),re=new Cn;function Ln(t){return Math.min(1e3*2**t,3e4)}function As(t){return(t??"online")==="online"?re.isOnline():!0}var Ds=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _e(t){return t instanceof Ds}function ks(t){let e=!1,s=0,r=!1,n,i,o;const a=new Promise((S,g)=>{i=S,o=g}),c=S=>{var g;r||(y(new Ds(S)),(g=t.abort)==null||g.call(t))},u=()=>{e=!0},h=()=>{e=!1},d=()=>Ts.isFocused()&&(t.networkMode==="always"||re.isOnline())&&t.canRun(),l=()=>As(t.networkMode)&&t.canRun(),f=S=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,S),n==null||n(),i(S))},y=S=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,S),n==null||n(),o(S))},v=()=>new Promise(S=>{var g;n=b=>{(r||d())&&S(b)},(g=t.onPause)==null||g.call(t)}).then(()=>{var S;n=void 0,r||(S=t.onContinue)==null||S.call(t)}),p=()=>{if(r)return;let S;const g=s===0?t.initialPromise:void 0;try{S=g??t.fn()}catch(b){S=Promise.reject(b)}Promise.resolve(S).then(f).catch(b=>{var _;if(r)return;const w=t.retry??(de?0:3),C=t.retryDelay??Ln,M=typeof C=="function"?C(s,b):C,x=w===!0||typeof w=="number"&&s<w||typeof w=="function"&&w(s,b);if(e||!x){y(b);return}s++,(_=t.onFail)==null||_.call(t,s,b),_n(M).then(()=>d()?void 0:v()).then(()=>{e?y(b):p()})})};return{promise:a,cancel:c,continue:()=>(n==null||n(),a),cancelRetry:u,continueRetry:h,canStart:l,start:()=>(l()?p():v().then(p),a)}}function xn(){let t=[],e=0,s=l=>{l()},r=l=>{l()},n=l=>setTimeout(l,0);const i=l=>{n=l},o=l=>{let f;e++;try{f=l()}finally{e--,e||u()}return f},a=l=>{e?t.push(l):n(()=>{s(l)})},c=l=>(...f)=>{a(()=>{l(...f)})},u=()=>{const l=t;t=[],l.length&&n(()=>{r(()=>{l.forEach(f=>{s(f)})})})};return{batch:o,batchCalls:c,schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:i}}var N=xn(),Rt,us,Bs=(us=class{constructor(){L(this,Rt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gn(this.gcTime)&&R(this,Rt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(de?1/0:5*60*1e3))}clearGcTimeout(){m(this,Rt)&&(clearTimeout(m(this,Rt)),R(this,Rt,void 0))}},Rt=new WeakMap,us),jt,Tt,G,$,Wt,Et,Z,ct,cs,Mn=(cs=class extends Bs{constructor(e){super();L(this,Z);L(this,jt);L(this,Tt);L(this,G);L(this,$);L(this,Wt);L(this,Et);R(this,Et,!1),R(this,Wt,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(this,G,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,jt,In(this.options)),this.state=e.state??m(this,jt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=m(this,$))==null?void 0:e.promise}setOptions(e){this.options={...m(this,Wt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,G).remove(this)}setData(e,s){const r=Pn(this.state.data,e,this.options);return B(this,Z,ct).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){B(this,Z,ct).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,n;const s=(r=m(this,$))==null?void 0:r.promise;return(n=m(this,$))==null||n.cancel(e),s?s.then(Y).catch(Y):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,jt))}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Sn(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=m(this,$))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=m(this,$))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),m(this,G).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(m(this,$)&&(m(this,Et)?m(this,$).cancel({revert:!0}):m(this,$).cancelRetry()),this.scheduleGc()),m(this,G).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,Z,ct).call(this,{type:"invalidate"})}fetch(e,s){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(m(this,$))return m(this,$).continueRetry(),m(this,$).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(l=>l.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(R(this,Et,!0),r.signal)})},i=()=>{const d=js(this.options,s),l={queryKey:this.queryKey,meta:this.meta};return n(l),R(this,Et,!1),this.options.persister?this.options.persister(d,l,this):d(l)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(o),(c=this.options.behavior)==null||c.onFetch(o,this),R(this,Tt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&B(this,Z,ct).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=d=>{var l,f,y,v;_e(d)&&d.silent||B(this,Z,ct).call(this,{type:"error",error:d}),_e(d)||((f=(l=m(this,G).config).onError)==null||f.call(l,d,this),(v=(y=m(this,G).config).onSettled)==null||v.call(y,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return R(this,$,ks({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var l,f,y,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(f=(l=m(this,G).config).onSuccess)==null||f.call(l,d,this),(v=(y=m(this,G).config).onSettled)==null||v.call(y,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,l)=>{B(this,Z,ct).call(this,{type:"failed",failureCount:d,error:l})},onPause:()=>{B(this,Z,ct).call(this,{type:"pause"})},onContinue:()=>{B(this,Z,ct).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),m(this,$).start()}},jt=new WeakMap,Tt=new WeakMap,G=new WeakMap,$=new WeakMap,Wt=new WeakMap,Et=new WeakMap,Z=new WeakSet,ct=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Fn(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return _e(n)&&n.revert&&m(this,Tt)?{...m(this,Tt),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),N.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,G).notify({query:this,type:"updated",action:e})})},cs);function Fn(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:As(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function In(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var rt,ls,On=(ls=class extends he{constructor(e={}){super();L(this,rt);this.config=e,R(this,rt,new Map)}build(e,s,r){const n=s.queryKey,i=s.queryHash??Ae(n,s);let o=this.get(i);return o||(o=new Mn({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){m(this,rt).has(e.queryHash)||(m(this,rt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=m(this,rt).get(e.queryHash);s&&(e.destroy(),s===e&&m(this,rt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){N.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,rt).get(e)}getAll(){return[...m(this,rt).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>ts(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>ts(e,r)):s}notify(e){N.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){N.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){N.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rt=new WeakMap,ls),nt,q,Ct,it,ht,hs,jn=(hs=class extends Bs{constructor(e){super();L(this,it);L(this,nt);L(this,q);L(this,Ct);this.mutationId=e.mutationId,R(this,q,e.mutationCache),R(this,nt,[]),this.state=e.state||Tn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){m(this,nt).includes(e)||(m(this,nt).push(e),this.clearGcTimeout(),m(this,q).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,nt,m(this,nt).filter(s=>s!==e)),this.scheduleGc(),m(this,q).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){m(this,nt).length||(this.state.status==="pending"?this.scheduleGc():m(this,q).remove(this))}continue(){var e;return((e=m(this,Ct))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,i,o,a,c,u,h,d,l,f,y,v,p,S,g,b,w,C,M,x;R(this,Ct,ks({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,O)=>{B(this,it,ht).call(this,{type:"failed",failureCount:_,error:O})},onPause:()=>{B(this,it,ht).call(this,{type:"pause"})},onContinue:()=>{B(this,it,ht).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,q).canRun(this)}));const s=this.state.status==="pending",r=!m(this,Ct).canStart();try{if(!s){B(this,it,ht).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(n=m(this,q).config).onMutate)==null?void 0:i.call(n,e,this));const O=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));O!==this.state.context&&B(this,it,ht).call(this,{type:"pending",context:O,variables:e,isPaused:r})}const _=await m(this,Ct).start();return await((u=(c=m(this,q).config).onSuccess)==null?void 0:u.call(c,_,e,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,_,e,this.state.context)),await((f=(l=m(this,q).config).onSettled)==null?void 0:f.call(l,_,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,_,null,e,this.state.context)),B(this,it,ht).call(this,{type:"success",data:_}),_}catch(_){try{throw await((S=(p=m(this,q).config).onError)==null?void 0:S.call(p,_,e,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,_,e,this.state.context)),await((C=(w=m(this,q).config).onSettled)==null?void 0:C.call(w,void 0,_,this.state.variables,this.state.context,this)),await((x=(M=this.options).onSettled)==null?void 0:x.call(M,void 0,_,e,this.state.context)),_}finally{B(this,it,ht).call(this,{type:"error",error:_})}}finally{m(this,q).runNext(this)}}},nt=new WeakMap,q=new WeakMap,Ct=new WeakMap,it=new WeakSet,ht=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),N.batch(()=>{m(this,nt).forEach(r=>{r.onMutationUpdate(e)}),m(this,q).notify({mutation:this,type:"updated",action:e})})},hs);function Tn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Q,Vt,ds,An=(ds=class extends he{constructor(e={}){super();L(this,Q);L(this,Vt);this.config=e,R(this,Q,new Map),R(this,Vt,Date.now())}build(e,s,r){const n=new jn({mutationCache:this,mutationId:++Jt(this,Vt)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){const s=Zt(e),r=m(this,Q).get(s)??[];r.push(e),m(this,Q).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Zt(e);if(m(this,Q).has(s)){const n=(r=m(this,Q).get(s))==null?void 0:r.filter(i=>i!==e);n&&(n.length===0?m(this,Q).delete(s):m(this,Q).set(s,n))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=m(this,Q).get(Zt(e)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=m(this,Q).get(Zt(e)))==null?void 0:r.find(n=>n!==e&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){N.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...m(this,Q).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>es(s,r))}findAll(e={}){return this.getAll().filter(s=>es(e,s))}notify(e){N.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return N.batch(()=>Promise.all(e.map(s=>s.continue().catch(Y))))}},Q=new WeakMap,Vt=new WeakMap,ds);function Zt(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Dn(t){return{onFetch:(e,s)=>{const r=async()=>{var y,v,p,S,g;const n=e.options,i=(p=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:p.direction,o=((S=e.state.data)==null?void 0:S.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[],c={pages:[],pageParams:[]};let u=!1;const h=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},d=js(e.options,e.fetchOptions),l=async(b,w,C)=>{if(u)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};h(M);const x=await d(M),{maxPages:_}=e.options,O=C?Rn:wn;return{pages:O(b.pages,x,_),pageParams:O(b.pageParams,w,_)}};let f;if(i&&o.length){const b=i==="backward",w=b?kn:ns,C={pages:o,pageParams:a},M=w(n,C);f=await l(C,M,b)}else{f=await l(c,a[0]??n.initialPageParam);const b=t??o.length;for(let w=1;w<b;w++){const C=ns(n,f);if(C==null)break;f=await l(f,C)}}return f};e.options.persister?e.fetchFn=()=>{var n,i;return(i=(n=e.options).persister)==null?void 0:i.call(n,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function ns(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function kn(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var I,mt,pt,At,Dt,vt,kt,Bt,fs,Bn=(fs=class{constructor(t={}){L(this,I);L(this,mt);L(this,pt);L(this,At);L(this,Dt);L(this,vt);L(this,kt);L(this,Bt);R(this,I,t.queryCache||new On),R(this,mt,t.mutationCache||new An),R(this,pt,t.defaultOptions||{}),R(this,At,new Map),R(this,Dt,new Map),R(this,vt,0)}mount(){Jt(this,vt)._++,m(this,vt)===1&&(R(this,kt,Ts.subscribe(async t=>{t&&(await this.resumePausedMutations(),m(this,I).onFocus())})),R(this,Bt,re.subscribe(async t=>{t&&(await this.resumePausedMutations(),m(this,I).onOnline())})))}unmount(){var t,e;Jt(this,vt)._--,m(this,vt)===0&&((t=m(this,kt))==null||t.call(this),R(this,kt,void 0),(e=m(this,Bt))==null||e.call(this),R(this,Bt,void 0))}isFetching(t){return m(this,I).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return m(this,mt).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=m(this,I).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=m(this,I).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(Ze(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return m(this,I).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),n=m(this,I).get(r.queryHash),i=n==null?void 0:n.state.data,o=yn(e,i);if(o!==void 0)return m(this,I).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return N.batch(()=>m(this,I).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=m(this,I).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=m(this,I);N.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=m(this,I),r={type:"active",...t};return N.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=N.batch(()=>m(this,I).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(Y).catch(Y)}invalidateQueries(t={},e={}){return N.batch(()=>{if(m(this,I).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=N.batch(()=>m(this,I).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(Y)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Y)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=m(this,I).build(this,e);return s.isStaleByTime(Ze(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Y).catch(Y)}fetchInfiniteQuery(t){return t.behavior=Dn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Y).catch(Y)}resumePausedMutations(){return re.isOnline()?m(this,mt).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,I)}getMutationCache(){return m(this,mt)}getDefaultOptions(){return m(this,pt)}setDefaultOptions(t){R(this,pt,t)}setQueryDefaults(t,e){m(this,At).set(Ht(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...m(this,At).values()];let s={};return e.forEach(r=>{Qt(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){m(this,Dt).set(Ht(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...m(this,Dt).values()];let s={};return e.forEach(r=>{Qt(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...m(this,pt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ae(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Os&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...m(this,pt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){m(this,I).clear(),m(this,mt).clear()}},I=new WeakMap,mt=new WeakMap,pt=new WeakMap,At=new WeakMap,Dt=new WeakMap,vt=new WeakMap,kt=new WeakMap,Bt=new WeakMap,fs),$s=E.createContext(void 0),mi=t=>{const e=E.useContext($s);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$n=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),P.jsx($s.Provider,{value:t,children:e})),qn=function(){return null};const Nn=new Bn,fe=zr({component:()=>P.jsx(vn,{children:P.jsxs($n,{client:Nn,children:[P.jsx(qn,{initialIsOpen:!1,buttonPosition:"bottom-left"}),P.jsx(Us,{}),P.jsx(xs,{})]})})}),zn=Oe("/")({validateSearch:t=>({s:t!=null&&t.s?String(t.s):void 0})}),Un=Oe("/scanner")(),Kn=Oe("/colors")(),Hn=Un.update({path:"/scanner",getParentRoute:()=>fe}).lazy(()=>je(()=>import("./scanner.lazy-BGxb3SmG.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>t.Route)),Qn=Kn.update({path:"/colors",getParentRoute:()=>fe}).lazy(()=>je(()=>import("./colors.lazy-BvYVzVnx.js"),__vite__mapDeps([5,1,2,6,3])).then(t=>t.Route)),Wn=zn.update({path:"/",getParentRoute:()=>fe}).lazy(()=>je(()=>import("./index.lazy-CrVF5wck.js"),__vite__mapDeps([7,1,2,6,3,8,4,9])).then(t=>t.Route)),Vn=fe.addChildren({IndexRoute:Wn,ColorsLazyRoute:Qn,ScannerLazyRoute:Hn}),is=jr({routeTree:Vn}),Gn=()=>(E.useEffect(()=>{const t=e=>{if(e.data&&e.data.type==="navigate"){const s=e.data.to;is.navigate({to:s})}};return navigator.serviceWorker.addEventListener("message",t),()=>{navigator.serviceWorker.removeEventListener("message",t)}},[]),P.jsx(ms.StrictMode,{children:P.jsx(Jr,{router:is,basepath:"/lets/"})}));Pe.createRoot(document.getElementById("root")).render(P.jsx(Gn,{}));export{Sn as A,Ts as B,pn as C,Fn as D,Pn as E,N as F,mi as G,ce as H,di as I,he as S,oi as a,ii as b,ni as c,ue as d,li as e,dn as f,hi as g,ai as h,ci as i,ui as j,si as k,Lt as l,ti as m,J as n,ei as o,Ut as p,Zn as q,Qe as r,Xt as s,bn as t,Ie as u,fi as v,Ze as w,Y as x,de as y,gn as z};
