var Gs=e=>{throw TypeError(e)};var is=(e,t,s)=>t.has(e)||Gs("Cannot "+s);var l=(e,t,s)=>(is(e,t,"read from private field"),s?s.call(e):t.get(e)),O=(e,t,s)=>t.has(e)?Gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),b=(e,t,s,r)=>(is(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),T=(e,t,s)=>(is(e,t,"access private method"),s);var Be=(e,t,s,r)=>({set _(n){b(e,t,n,s)},get _(){return l(e,t,r)}});import{r as Ze,g as Or,a as sn}from"./react-18Fyy8LS.js";function rn(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var os={exports:{}},Re={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js;function nn(){if(Js)return Re;Js=1;var e=Ze(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var h,u={},f=null,p=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(h in c)r.call(c,h)&&!i.hasOwnProperty(h)&&(u[h]=c[h]);if(a&&a.defaultProps)for(h in c=a.defaultProps,c)u[h]===void 0&&(u[h]=c[h]);return{$$typeof:t,type:a,key:f,ref:p,props:u,_owner:n.current}}return Re.Fragment=s,Re.jsx=o,Re.jsxs=o,Re}var Xs;function on(){return Xs||(Xs=1,os.exports=nn()),os.exports}var F=on(),M=Ze();const an=Or(M),Ai=rn({__proto__:null,default:an},[M]),Ys="popstate",Zs="beforeunload";function Fr(e){let t=e.getLocation();const s=new Set,r=o=>{t=e.getLocation(),s.forEach(a=>a({location:t,action:o}))},n=()=>{t=e.getLocation(),s.forEach(o=>o({location:t,action:{type:"ROLLBACK"}}))},i=async({task:o,navigateOpts:a,...c})=>{var d,h;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const f=((d=e.getBlockers)==null?void 0:d.call(e))??[],p=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&f.length&&p)for(const v of f){const m=Fe(c.path,c.state);if(await v.blockerFn({currentLocation:t,nextLocation:m,action:c.type})){(h=e.onBlocked)==null||h.call(e,n);return}}o()};return{get location(){return t},get length(){return e.getLength()},subscribers:s,subscribe:o=>(s.add(o),()=>{s.delete(o)}),push:(o,a,c)=>{a=tr(a),i({task:()=>{e.pushState(o,a),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:a})},replace:(o,a,c)=>{a=tr(a),i({task:()=>{e.replaceState(o,a),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:a})},go:(o,a)=>{i({task:()=>{e.go(o),r({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{i({task:()=>{e.back((o==null?void 0:o.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{e.forward((o==null?void 0:o.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},createHref:o=>e.createHref(o),block:o=>{var a;if(!e.setBlockers)return()=>{};const c=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...c,o]),()=>{var d,h;const u=((d=e.getBlockers)==null?void 0:d.call(e))??[];(h=e.setBlockers)==null||h.call(e,u.filter(f=>f!==o))}},flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:r}}function tr(e){return e||(e={}),{...e,key:ln()}}function un(e){const t=typeof document<"u"?window:void 0,s=t.history.pushState,r=t.history.replaceState;let n=[];const i=()=>n,o=S=>n=S,a=S=>S,c=()=>Fe(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);let d=c(),h,u=!1,f=!1,p=!1;const v=()=>d;let m,y;const L=()=>{m&&(C._ignoreSubscribers=!0,(m.isPush?t.history.pushState:t.history.replaceState)(m.state,"",m.href),C._ignoreSubscribers=!1,m=void 0,y=void 0,h=void 0)},x=(S,w,E)=>{const D=a(w);y||(h=d),d=Fe(w,E),m={href:D,state:E,isPush:(m==null?void 0:m.isPush)||S==="push"},y||(y=Promise.resolve().then(()=>L()))},R=()=>{d=c(),C.notify({type:"POP"})},P=async()=>{if(u){u=!1;return}if(f)f=!1;else{const S=i();if(typeof document<"u"&&S.length)for(const w of S){const E=c();if(await w.blockerFn({currentLocation:d,nextLocation:E,action:"POP"})){u=!0,t.history.go(1),C.notify({type:"POP"});return}}}d=c(),C.notify({type:"POP"})},g=S=>{if(p){p=!1;return}let w=!1;const E=i();if(typeof document<"u"&&E.length)for(const D of E){const _=D.enableBeforeUnload??!0;if(_===!0){w=!0;break}if(typeof _=="function"&&_()===!0){w=!0;break}}if(w)return S.preventDefault(),S.returnValue=""},C=Fr({getLocation:v,getLength:()=>t.history.length,pushState:(S,w)=>x("push",S,w),replaceState:(S,w)=>x("replace",S,w),back:S=>(S&&(f=!0),p=!0,t.history.back()),forward:S=>{S&&(f=!0),p=!0,t.history.forward()},go:S=>t.history.go(S),createHref:S=>a(S),flush:L,destroy:()=>{t.history.pushState=s,t.history.replaceState=r,t.removeEventListener(Zs,g,{capture:!0}),t.removeEventListener(Ys,P)},onBlocked:S=>{h&&d!==h&&(d=h,S())},getBlockers:i,setBlockers:o});return t.addEventListener(Zs,g,{capture:!0}),t.addEventListener(Ys,P),t.history.pushState=function(...S){const w=s.apply(t.history,S);return C._ignoreSubscribers||R(),w},t.history.replaceState=function(...S){const w=r.apply(t.history,S);return C._ignoreSubscribers||R(),w},C}function cn(e={initialEntries:["/"]}){const t=e.initialEntries;let s=e.initialIndex??t.length-1;const r=t.map(()=>({}));return Fr({getLocation:()=>Fe(t[s],r[s]),getLength:()=>t.length,pushState:(i,o)=>{s<t.length-1&&(t.splice(s+1),r.splice(s+1)),r.push(o),t.push(i),s=Math.max(t.length-1,0)},replaceState:(i,o)=>{r[s]=o,t[s]=i},back:()=>{s=Math.max(s-1,0)},forward:()=>{s=Math.min(s+1,t.length-1)},go:i=>{s=Math.min(Math.max(s+i,0),t.length-1)},createHref:i=>i})}function Fe(e,t){const s=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,s>0?r>0?Math.min(s,r):s:r>0?r:e.length),hash:s>-1?e.substring(s):"",search:r>-1?e.slice(r,s===-1?void 0:s):"",state:t||{}}}function ln(){return(Math.random()+1).toString(36).substring(7)}var hn="Invariant failed";function it(e,t){if(!e)throw new Error(hn)}const as=M.createContext(null);function Ir(){return typeof document>"u"?as:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=as,as)}function Lt(e){const t=M.useContext(Ir());return e==null||e.warn,t}var us={exports:{}},cs={},ls={exports:{}},hs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er;function dn(){if(er)return hs;er=1;var e=Ze();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var s=typeof Object.is=="function"?Object.is:t,r=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(u,f){var p=f(),v=r({inst:{value:p,getSnapshot:f}}),m=v[0].inst,y=v[1];return i(function(){m.value=p,m.getSnapshot=f,c(m)&&y({inst:m})},[u,p,f]),n(function(){return c(m)&&y({inst:m}),u(function(){c(m)&&y({inst:m})})},[u]),o(p),p}function c(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!s(u,p)}catch{return!0}}function d(u,f){return f()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return hs.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,hs}var sr;function fn(){return sr||(sr=1,ls.exports=dn()),ls.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr;function pn(){if(rr)return cs;rr=1;var e=Ze(),t=fn();function s(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return cs.useSyncExternalStoreWithSelector=function(d,h,u,f,p){var v=i(null);if(v.current===null){var m={hasValue:!1,value:null};v.current=m}else m=v.current;v=a(function(){function L(C){if(!x){if(x=!0,R=C,C=f(C),p!==void 0&&m.hasValue){var S=m.value;if(p(S,C))return P=S}return P=C}if(S=P,r(R,C))return S;var w=f(C);return p!==void 0&&p(S,w)?(R=C,S):(R=C,P=w)}var x=!1,R,P,g=u===void 0?null:u;return[function(){return L(h())},g===null?void 0:function(){return L(g())}]},[h,u,f,p]);var y=n(d,v[0],v[1]);return o(function(){m.hasValue=!0,m.value=y},[y]),c(y),y},cs}var nr;function mn(){return nr||(nr=1,us.exports=pn()),us.exports}var vn=mn();const ne=new WeakMap,Ke=new WeakMap,We={current:[]};let ds=!1,Le=0;const Ce=new Set,Ue=new Map;function Tr(e){const t=Array.from(e).sort((s,r)=>s instanceof ie&&s.options.deps.includes(r)?1:r instanceof ie&&r.options.deps.includes(s)?-1:0);for(const s of t){if(We.current.includes(s))continue;We.current.push(s),s.recompute();const r=Ke.get(s);if(r)for(const n of r){const i=ne.get(n);i&&Tr(i)}}}function yn(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function gn(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Dr(e){if(Le>0&&!Ue.has(e)&&Ue.set(e,e.prevState),Ce.add(e),!(Le>0)&&!ds)try{for(ds=!0;Ce.size>0;){const t=Array.from(Ce);Ce.clear();for(const s of t){const r=Ue.get(s)??s.prevState;s.prevState=r,yn(s)}for(const s of t){const r=ne.get(s);r&&(We.current.push(s),Tr(r))}for(const s of t){const r=ne.get(s);if(r)for(const n of r)gn(n)}}}finally{ds=!1,We.current=[],Ue.clear()}}function fs(e){Le++;try{e()}finally{if(Le--,Le===0){const t=Array.from(Ce)[0];t&&Dr(t)}}}class Ss{constructor(t,s){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var n,i,o;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),Dr(this)},this.prevState=t,this.state=t,this.options=s}}class ie{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const s=[],r=[];for(const n of this.options.deps)s.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:s,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var s,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:i,prevVal:o}),(r=(s=this.options).onUpdate)==null||r.call(s)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof ie&&i.checkIfRecalculationNeededDeeply();let s=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let i=0;i<n.length;i++)if(n[i]!==r[i]){s=!0;break}s&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const s of this._subscriptions)s()}),this.subscribe=s=>{var r,n;this.listeners.add(s);const i=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,s,this);return()=>{this.listeners.delete(s),i==null||i()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const s of t)if(s instanceof ie)s.registerOnGraph(),this.registerOnGraph(s.options.deps);else if(s instanceof Ss){let r=ne.get(s);r||(r=new Set,ne.set(s,r)),r.add(this);let n=Ke.get(this);n||(n=new Set,Ke.set(this,n)),n.add(s)}}unregisterFromGraph(t=this.options.deps){for(const s of t)if(s instanceof ie)this.unregisterFromGraph(s.options.deps);else if(s instanceof Ss){const r=ne.get(s);r&&r.delete(this);const n=Ke.get(this);n&&n.delete(s)}}}function Sn(e,t=s=>s){return vn.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,bn)}function bn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,n]of e)if(!t.has(r)||!Object.is(n,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!1;for(let r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(t,s[r])||!Object.is(e[s[r]],t[s[r]]))return!1;return!0}const nt="__root__";function _n(e,t){let s,r,n,i="";for(s in e)if((n=e[s])!==void 0)if(Array.isArray(n))for(r=0;r<n.length;r++)i&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(n[r]);else i&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(n);return""+i}function ir(e){if(!e)return"";const t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function Pn(e,t){let s,r;const n={},i=e.split("&");for(;s=i.shift();){const o=s.indexOf("=");if(o!==-1){r=s.slice(0,o),r=decodeURIComponent(r);const a=s.slice(o+1);n[r]!==void 0?n[r]=[].concat(n[r],ir(a)):n[r]=ir(a)}else r=s,r=decodeURIComponent(r),n[r]=""}return n}const wn=Cn(JSON.parse),Rn=Mn(JSON.stringify,JSON.parse);function Cn(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const s=Pn(t);for(const r in s){const n=s[r];if(typeof n=="string")try{s[r]=e(n)}catch{}}return s}}function Mn(e,t){function s(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=s(o)});const n=_n(r).toString();return n?`?${n}`:""}}function Oe(e){return e[e.length-1]}function xn(e){return typeof e=="function"}function re(e,t){return xn(e)?e(t):e}function ze(e,t){return t.reduce((s,r)=>(s[r]=e[r],s),{})}function ct(e,t){if(e===t)return e;const s=t,r=ar(e)&&ar(s);if(r||Qt(e)&&Qt(s)){const n=r?e:Object.keys(e),i=n.length,o=r?s:Object.keys(s),a=o.length,c=r?[]:{};let d=0;for(let h=0;h<a;h++){const u=r?h:o[h];(!r&&n.includes(u)||r)&&e[u]===void 0&&s[u]===void 0?(c[u]=void 0,d++):(c[u]=ct(e[u],s[u]),c[u]===e[u]&&e[u]!==void 0&&d++)}return i===a&&d===i?e:c}return s}function Qt(e){if(!or(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const s=t.prototype;return!(!or(s)||!s.hasOwnProperty("isPrototypeOf"))}function or(e){return Object.prototype.toString.call(e)==="[object Object]"}function ar(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ur(e,t){let s=Object.keys(e);return t&&(s=s.filter(r=>e[r]!==void 0)),s}function oe(e,t,s){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Qt(e)&&Qt(t)){const r=(s==null?void 0:s.ignoreUndefined)??!0,n=ur(e,r),i=ur(t,r);return!(s!=null&&s.partial)&&n.length!==i.length?!1:i.every(o=>oe(e[o],t[o],s))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((r,n)=>!oe(r,t[n],s)):!1}const Me=typeof window<"u"?M.useLayoutEffect:M.useEffect;function se(e){let t,s;const r=new Promise((n,i)=>{t=n,s=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,t(n),e==null||e(n)},r.reject=n=>{r.status="rejected",s(n)},r}function ps(e){const t=M.useRef({value:e,prev:null}),s=t.current.value;return e!==s&&(t.current={value:e,prev:s}),t.current.prev}function En(e,t,s={},r={}){const n=M.useRef(typeof IntersectionObserver=="function"),i=M.useRef(null);return M.useEffect(()=>{if(!(!e.current||!n.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{t(o)},s),i.current.observe(e.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[t,s,r.disabled,e]),i.current}function Ln(e){const t=M.useRef(null);return M.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function xt(e){return ts(e.filter(t=>t!==void 0).join("/"))}function ts(e){return e.replace(/\/{2,}/g,"/")}function ks(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function zt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function On(e){return zt(ks(e))}function Ge(e,t){return e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function Fn(e,t,s){return Ge(e,s)===Ge(t,s)}function In({basepath:e,base:t,to:s,trailingSlash:r="never",caseSensitive:n}){var i,o;t=Je(e,t,n),s=Je(e,s,n);let a=_e(t);const c=_e(s);a.length>1&&((i=Oe(a))==null?void 0:i.value)==="/"&&a.pop(),c.forEach((h,u)=>{h.value==="/"?u?u===c.length-1&&a.push(h):a=[h]:h.value===".."?a.pop():h.value==="."||a.push(h)}),a.length>1&&(((o=Oe(a))==null?void 0:o.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const d=xt([e,...a.map(h=>h.value)]);return ts(d)}function _e(e){if(!e)return[];e=ts(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const s=e.split("/").filter(Boolean);return t.push(...s.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function Ve({path:e,params:t,leaveWildcards:s,leaveParams:r,decodeCharMap:n}){const i=_e(e),o={};for(const[a,c]of Object.entries(t)){const d=typeof c=="string";["*","_splat"].includes(a)?o[a]=d?encodeURI(c):c:o[a]=d?Tn(c,n):c}return xt(i.map(a=>{if(a.type==="wildcard"){const c=o._splat;return s?`${a.value}${c??""}`:c}if(a.type==="param"){if(r){const c=o[a.value];return`${a.value}${c??""}`}return o[a.value.substring(1)]??"undefined"}return a.value}))}function Tn(e,t){let s=encodeURIComponent(e);if(t)for(const[r,n]of t)s=s.replaceAll(r,n);return s}function Qe(e,t,s){const r=Dn(e,t,s);if(!(s.to&&!r))return r??{}}function Je(e,t,s=!1){const r=s?e:e.toLowerCase(),n=s?t:t.toLowerCase();switch(!0){case r==="/":return t;case n===r:return"";case t.length<e.length:return t;case n[r.length]!=="/":return t;case n.startsWith(r):return t.slice(e.length);default:return t}}function Dn(e,t,s){if(e!=="/"&&!t.startsWith(e))return;t=Je(e,t,s.caseSensitive);const r=Je(e,`${s.to??"$"}`,s.caseSensitive),n=_e(t),i=_e(r);t.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(n.length,i.length);c++){const d=n[c],h=i[c],u=c>=n.length-1,f=c>=i.length-1;if(h){if(h.type==="wildcard"){const p=decodeURI(xt(n.slice(c).map(v=>v.value)));return o["*"]=p,o._splat=p,!0}if(h.type==="pathname"){if(h.value==="/"&&!(d!=null&&d.value))return!0;if(d){if(s.caseSensitive){if(h.value!==d.value)return!1}else if(h.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(h.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[h.value.substring(1)]=decodeURIComponent(d.value))}}if(!u&&f)return o["**"]=xt(n.slice(c+1).map(p=>p.value)),!!s.fuzzy&&(h==null?void 0:h.value)!=="/"}return!0})()?o:void 0}function Kt(e){return!!(e!=null&&e.isRedirect)}function ms(e){return!!(e!=null&&e.isRedirect)&&e.href}function js(e){const t=e.errorComponent??es;return F.jsx(kn,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:s,reset:r})=>s?M.createElement(t,{error:s,reset:r}):e.children})}class kn extends M.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,s){this.props.onCatch&&this.props.onCatch(t,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function es({error:e}){const[t,s]=M.useState(!1);return F.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[F.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),F.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(r=>!r),children:t?"Hide Error":"Show Error"})]}),F.jsx("div",{style:{height:".25rem"}}),t?F.jsx("div",{children:F.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?F.jsx("code",{children:e.message}):null})}):null]})}function tt(e){const t=Lt({warn:(e==null?void 0:e.router)===void 0}),s=(e==null?void 0:e.router)||t,r=M.useRef();return Sn(s.__store,n=>{if(e!=null&&e.select){if(e.structuralSharing??s.options.defaultStructuralSharing){const i=ct(r.current,e.select(n));return r.current=i,i}return e.select(n)}return n})}function jn(e={}){if(e.isNotFound=!0,e.throw)throw e;return e}function yt(e){return!!(e!=null&&e.isNotFound)}function An(e){const t=tt({select:s=>`not-found-${s.location.pathname}-${s.status}`});return F.jsx(js,{getResetKey:()=>t,onCatch:(s,r)=>{var n;if(yt(s))(n=e.onCatch)==null||n.call(e,s,r);else throw s},errorComponent:({error:s})=>{var r;if(yt(s))return(r=e.fallback)==null?void 0:r.call(e,s);throw s},children:e.children})}function Bn(){return F.jsx("p",{children:"Not Found"})}const xe={stringify:e=>JSON.stringify(e,function(s,r){const n=this[s],i=Ne.find(o=>o.stringifyCondition(n));return i?i.stringify(n):r}),parse:e=>JSON.parse(e,function(s,r){const n=this[s];if(Qt(n)){const i=Ne.find(o=>o.parseCondition(n));if(i)return i.parse(n)}return r}),encode:e=>{if(Array.isArray(e))return e.map(s=>xe.encode(s));if(Qt(e))return Object.fromEntries(Object.entries(e).map(([s,r])=>[s,xe.encode(r)]));const t=Ne.find(s=>s.stringifyCondition(e));return t?t.stringify(e):e},decode:e=>{if(Qt(e)){const t=Ne.find(s=>s.parseCondition(e));if(t)return t.parse(e)}return Array.isArray(e)?e.map(t=>xe.decode(t)):Qt(e)?Object.fromEntries(Object.entries(e).map(([t,s])=>[t,xe.decode(s)])):e}},vs=(e,t,s=n=>n,r=n=>n)=>({key:e,stringifyCondition:t,stringify:n=>({[`$${e}`]:s(n)}),parseCondition:n=>Object.hasOwn(n,`$${e}`),parse:n=>r(n[`$${e}`])}),Ne=[vs("undefined",e=>e===void 0,()=>0,()=>{}),vs("date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),vs("error",e=>e instanceof Error,e=>({...e,message:e.message,stack:e.stack,cause:e.cause}),e=>Object.assign(new Error(e.message),e))],kr=["component","errorComponent","pendingComponent","notFoundComponent"];function Un(e){var t;for(const s of kr)if((t=e.options[s])!=null&&t.preload)return!0;return!1}function ys(e,t){if(e==null)return{};if("~standard"in e){const s=e["~standard"].validate(t);if(s instanceof Promise)throw new bs("Async validation not supported");if(s.issues)throw new bs(JSON.stringify(s.issues,void 0,2));return s.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function Bi(e){return new Vn(e)}class Vn{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=s=>s(),this.update=s=>{var r;s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...s},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||s.basepath&&s.basepath!==n.basepath)&&(s.basepath===void 0||s.basepath===""||s.basepath==="/"?this.basepath="/":this.basepath=`/${On(s.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?cn({initialEntries:[this.basepath||"/"]}):un()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Ss(Nn(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[s.id]=s);const r=o=>{o.forEach((a,c)=>{a.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[a.id];if(it(!d,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const u=zt(a.fullPath);(!this.routesByPath[u]||a.fullPath.endsWith("/"))&&(this.routesByPath[u]=a)}const h=a.children;h!=null&&h.length&&r(h)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((o,a)=>{var c;if(o.isRoot||!o.path)return;const d=ks(o.fullPath),h=_e(d);for(;h.length>1&&((c=h[0])==null?void 0:c.value)==="/";)h.shift();const u=h.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);n.push({child:o,trimmed:d,parsed:h,index:a,scores:u})}),this.flatRoutes=n.sort((o,a)=>{const c=Math.min(o.scores.length,a.scores.length);for(let d=0;d<c;d++)if(o.scores[d]!==a.scores[d])return a.scores[d]-o.scores[d];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let d=0;d<c;d++)if(o.parsed[d].value!==a.parsed[d].value)return o.parsed[d].value>a.parsed[d].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(s,r)=>{const n={eventType:s,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=s=>{this.subscribers.forEach(r=>{r.eventType===s.type&&r.fn(s)})},this.parseLocation=(s,r)=>{const n=({pathname:c,search:d,hash:h,state:u})=>{const f=this.options.parseSearch(d),p=this.options.stringifySearch(f);return{pathname:c,searchStr:p,search:ct(s==null?void 0:s.search,f),hash:h.split("#").reverse()[0]??"",href:`${c}${p}${h}`,state:ct(s==null?void 0:s.state,u)}},i=n(r??this.history.location),{__tempLocation:o,__tempKey:a}=i.state;if(o&&(!a||a===this.tempLocationKey)){const c=n(o);return c.state.key=i.state.key,delete c.state.__tempLocation,{...c,maskedLocation:i}}return i},this.resolvePathWithBase=(s,r)=>In({basepath:this.basepath,base:s,to:ts(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(s,r)=>{let n={};const i=zt(s.pathname),o=h=>Qe(this.basepath,i,{to:h.fullPath,caseSensitive:h.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?n=o(a):a=this.flatRoutes.find(h=>{const u=o(h);return u?(n=u,!0):!1});let c=a||this.routesById[nt];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:n,foundRoute:a}},this.cancelMatch=s=>{const r=this.getMatch(s);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var s;(s=this.state.pendingMatches)==null||s.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=s=>{const r=(i={},o)=>{var a,c,d,h,u,f;const p=i._fromLocation?this.matchRoutes(i._fromLocation,{_buildLocation:!0}):this.state.matches,v=i.from!=null?p.find(_=>Qe(this.basepath,zt(_.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,m=(v==null?void 0:v.pathname)||this.latestLocation.pathname;it(i.from==null||v!=null,"Could not find match for from: "+i.from);const y=(a=this.state.pendingMatches)!=null&&a.length?(c=Oe(this.state.pendingMatches))==null?void 0:c.search:((d=Oe(p))==null?void 0:d.search)||this.latestLocation.search,L=o==null?void 0:o.matchedRoutes.filter(_=>p.find(I=>I.routeId===_.id));let x;if(i.to)x=this.resolvePathWithBase(m,`${i.to}`);else{const _=this.routesById[(h=L==null?void 0:L.find(I=>{const A=Ve({path:I.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return xt([this.basepath,A])===m}))==null?void 0:h.id];x=this.resolvePathWithBase(m,(_==null?void 0:_.to)??m)}const R={...(u=Oe(p))==null?void 0:u.params};let P=(i.params??!0)===!0?R:{...R,...re(i.params,R)};Object.keys(P).length>0&&(o==null||o.matchedRoutes.map(_=>{var I;return((I=_.options.params)==null?void 0:I.stringify)??_.options.stringifyParams}).filter(Boolean).forEach(_=>{P={...P,..._(P)}})),x=Ve({path:x,params:P??{},leaveWildcards:!1,leaveParams:s.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let g=y;if(s._includeValidateSearch&&((f=this.options.search)!=null&&f.strict)){let _={};o==null||o.matchedRoutes.forEach(I=>{try{I.options.validateSearch&&(_={..._,...ys(I.options.validateSearch,{..._,...g})??{}})}catch{}}),g=_}g=(_=>{const I=(o==null?void 0:o.matchedRoutes.reduce((B,N)=>{var ot;const dt=[];if("search"in N.options)(ot=N.options.search)!=null&&ot.middlewares&&dt.push(...N.options.search.middlewares);else if(N.options.preSearchFilters||N.options.postSearchFilters){const ft=({search:at,next:bt})=>{let Q=at;"preSearchFilters"in N.options&&N.options.preSearchFilters&&(Q=N.options.preSearchFilters.reduce((z,q)=>q(z),at));const J=bt(Q);return"postSearchFilters"in N.options&&N.options.postSearchFilters?N.options.postSearchFilters.reduce((z,q)=>q(z),J):J};dt.push(ft)}if(s._includeValidateSearch&&N.options.validateSearch){const ft=({search:at,next:bt})=>{try{const Q=bt(at);return{...Q,...ys(N.options.validateSearch,Q)??{}}}catch{}};dt.push(ft)}return B.concat(dt)},[]))??[],A=({search:B})=>i.search?i.search===!0?B:re(i.search,B):{};I.push(A);const V=(B,N)=>{if(B>=I.length)return N;const ot=I[B];return ot({search:N,next:ft=>V(B+1,ft)})};return V(0,_)})(g),g=ct(y,g);const S=this.options.stringifySearch(g),w=i.hash===!0?this.latestLocation.hash:i.hash?re(i.hash,this.latestLocation.hash):void 0,E=w?`#${w}`:"";let D=i.state===!0?this.latestLocation.state:i.state?re(i.state,this.latestLocation.state):{};return D=ct(this.latestLocation.state,D),{pathname:x,search:g,searchStr:S,state:D,hash:w??"",href:`${x}${S}${E}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var a;const c=r(i);let d=o?r(o):void 0;if(!d){let f={};const p=(a=this.options.routeMasks)==null?void 0:a.find(v=>{const m=Qe(this.basepath,c.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1});return m?(f=m,!0):!1});if(p){const{from:v,...m}=p;o={...ze(s,["from"]),...m,params:f},d=r(o)}}const h=this.getMatchedRoutes(c,i),u=r(i,h);if(d){const f=this.getMatchedRoutes(d,o),p=r(o,f);u.maskedLocation=p}return u};return s.mask?n(s,{...ze(s,["from"]),...s.mask}):n(s)},this.commitLocation=({viewTransition:s,ignoreBlocker:r,...n})=>{const i=()=>{n.state.key=this.latestLocation.state.key;const c=oe(n.state,this.latestLocation.state);return delete n.state.key,c},o=this.latestLocation.href===n.href,a=this.commitLocationPromise;if(this.commitLocationPromise=se(()=>{a==null||a.resolve()}),o&&i())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...h}=n;c&&(h={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...h,search:h.searchStr,state:{...h.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(h.unmaskOnReload??this.options.unmaskOnReload??!1)&&(h.state.__tempKey=this.tempLocationKey)),h.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=s,this.history[n.replace?"replace":"push"](h.href,h.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:o,href:a,...c}={})=>{if(a){const h=Fe(a,{});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:i,replace:s,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:o})},this.navigate=({to:s,reloadDocument:r,href:n,...i})=>{if(r){n||(n=this.buildLocation({to:s,...i}).href),i.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...i,href:n,to:s})},this.load=async s=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,i;for(i=new Promise(o=>{this.startReactTransition(async()=>{var a;try{const c=this.latestLocation,d=this.state.resolvedLocation,h=d.href!==c.href,u=d.pathname!==c.pathname;this.cancelMatches();let f;fs(()=>{f=this.matchRoutes(c),this.__store.setState(p=>({...p,status:"pending",isLoading:!0,location:c,pendingMatches:f,cachedMatches:p.cachedMatches.filter(v=>!f.find(m=>m.id===v.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:u,hrefChanged:h}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:u,hrefChanged:h}),await this.loadMatches({sync:s==null?void 0:s.sync,matches:f,location:c,onReady:async()=>{this.startViewTransition(async()=>{let p,v,m;fs(()=>{this.__store.setState(y=>{const L=y.matches,x=y.pendingMatches||y.matches;return p=L.filter(R=>!x.find(P=>P.id===R.id)),v=x.filter(R=>!L.find(P=>P.id===R.id)),m=L.filter(R=>x.find(P=>P.id===R.id)),{...y,isLoading:!1,loadedAt:Date.now(),matches:x,pendingMatches:void 0,cachedMatches:[...y.cachedMatches,...p.filter(R=>R.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[v,"onEnter"],[m,"onStay"]].forEach(([y,L])=>{y.forEach(x=>{var R,P;(P=(R=this.looseRoutesById[x.routeId].options)[L])==null||P.call(R,x)})})})}})}catch(c){ms(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):yt(c)&&(n=c),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(h=>h.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=s=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;typeof r=="object"&&this.isViewTransitionTypesSupported?n={update:s,types:r.types}:n=s,document.startViewTransition(n)}else s()},this.updateMatch=(s,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(h=>h.id===s),a=this.state.matches.find(h=>h.id===s),c=this.state.cachedMatches.find(h=>h.id===s),d=o?"pendingMatches":a?"matches":c?"cachedMatches":"";return d&&this.__store.setState(h=>{var u;return{...h,[d]:(u=h[d])==null?void 0:u.map(f=>f.id===s?i=r(f):f)}}),i},this.getMatch=s=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===s),this.loadMatches=async({location:s,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch,sync:a})=>{let c,d=!1;const h=async()=>{d||(d=!0,await(i==null?void 0:i()))},u=p=>!!(n&&!this.state.matches.find(v=>v.id===p));!this.isServer&&!this.state.matches.length&&h();const f=(p,v)=>{var m,y,L;if(ms(v)&&!v.reloadDocument)throw v;if(Kt(v)||yt(v)){if(o(p.id,x=>({...x,status:Kt(v)?"redirected":yt(v)?"notFound":"error",isFetching:!1,error:v,beforeLoadPromise:void 0,loaderPromise:void 0})),v.routeId||(v.routeId=p.routeId),(m=p.beforeLoadPromise)==null||m.resolve(),(y=p.loaderPromise)==null||y.resolve(),(L=p.loadPromise)==null||L.resolve(),Kt(v))throw d=!0,v=this.resolveRedirect({...v,_fromLocation:s}),v;if(yt(v))throw this._handleNotFound(r,v,{updateMatch:o}),v}};try{await new Promise((p,v)=>{(async()=>{var m,y,L;try{const x=(g,C,S)=>{var w,E;const{id:D,routeId:_}=r[g],I=this.looseRoutesById[_];if(C instanceof Promise)throw C;C.routerCode=S,c=c??g,f(this.getMatch(D),C);try{(E=(w=I.options).onError)==null||E.call(w,C)}catch(A){C=A,f(this.getMatch(D),C)}o(D,A=>{var V,B;return(V=A.beforeLoadPromise)==null||V.resolve(),(B=A.loadPromise)==null||B.resolve(),{...A,error:C,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[g,{id:C,routeId:S}]of r.entries()){const w=this.getMatch(C),E=(m=r[g-1])==null?void 0:m.id,D=this.looseRoutesById[S],_=D.options.pendingMs??this.options.defaultPendingMs,I=!!(i&&!this.isServer&&!u(C)&&(D.options.loader||D.options.beforeLoad)&&typeof _=="number"&&_!==1/0&&(D.options.pendingComponent??this.options.defaultPendingComponent));let A=!0;if((w.beforeLoadPromise||w.loaderPromise)&&(I&&setTimeout(()=>{try{h()}catch{}},_),await w.beforeLoadPromise,A=this.getMatch(C).status!=="success"),A){try{o(C,H=>({...H,loadPromise:se(()=>{var ut;(ut=H.loadPromise)==null||ut.resolve()}),beforeLoadPromise:se()}));const V=new AbortController;let B;I&&(B=setTimeout(()=>{try{h()}catch{}},_));const{paramsError:N,searchError:ot}=this.getMatch(C);N&&x(g,N,"PARSE_PARAMS"),ot&&x(g,ot,"VALIDATE_SEARCH");const dt=()=>E?this.getMatch(E).context:this.options.context??{};o(C,H=>({...H,isFetching:"beforeLoad",fetchCount:H.fetchCount+1,abortController:V,pendingTimeout:B,context:{...dt(),...H.__routeContext}}));const{search:ft,params:at,context:bt,cause:Q}=this.getMatch(C),J=u(C),z={search:ft,abortController:V,params:at,preload:J,context:bt,location:s,navigate:H=>this.navigate({...H,_fromLocation:s}),buildLocation:this.buildLocation,cause:J?"preload":Q,matches:r};let q=await((L=(y=D.options).beforeLoad)==null?void 0:L.call(y,z))??{};this.serializeLoaderData&&(q=this.serializeLoaderData("__beforeLoadContext",q,{router:this,match:this.getMatch(C)})),(Kt(q)||yt(q))&&x(g,q,"BEFORE_LOAD"),o(C,H=>({...H,__beforeLoadContext:q,context:{...dt(),...H.__routeContext,...q},abortController:V}))}catch(V){x(g,V,"BEFORE_LOAD")}o(C,V=>{var B;return(B=V.beforeLoadPromise)==null||B.resolve(),{...V,beforeLoadPromise:void 0,isFetching:!1}})}}const R=r.slice(0,c),P=[];R.forEach(({id:g,routeId:C},S)=>{P.push((async()=>{const{loaderPromise:w}=this.getMatch(g);let E=!1,D=!1;if(w){await w;const _=this.getMatch(g);_.error&&f(_,_.error)}else{const _=P[S-1],I=this.looseRoutesById[C],A=()=>{const{params:Q,loaderDeps:J,abortController:z,context:q,cause:H}=this.getMatch(g),ut=u(g);return{params:Q,deps:J,preload:!!ut,parentMatchPromise:_,abortController:z,context:q,location:s,navigate:pt=>this.navigate({...pt,_fromLocation:s}),cause:ut?"preload":H,route:I}},V=Date.now()-this.getMatch(g).updatedAt,B=u(g),N=B?I.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:I.options.staleTime??this.options.defaultStaleTime??0,ot=I.options.shouldReload,dt=typeof ot=="function"?ot(A()):ot;o(g,Q=>({...Q,loaderPromise:se(),preload:!!B&&!this.state.matches.find(J=>J.id===g)}));const ft=async()=>{var Q,J,z,q,H,ut,pt,Ae;try{const ee=async()=>{const W=this.getMatch(g);W.minPendingPromise&&await W.minPendingPromise};try{this.loadRouteChunk(I),o(g,qt=>({...qt,isFetching:"loader"}));let W=await((J=(Q=I.options).loader)==null?void 0:J.call(Q,A()));this.serializeLoaderData&&(W=this.serializeLoaderData("loaderData",W,{router:this,match:this.getMatch(g)})),f(this.getMatch(g),W),await I._lazyPromise,await ee();const mt=(q=(z=I.options).head)==null?void 0:q.call(z,{matches:r,match:this.getMatch(g),params:this.getMatch(g).params,loaderData:W}),Ot=mt==null?void 0:mt.meta,rs=mt==null?void 0:mt.links,Nt=mt==null?void 0:mt.scripts,we=(ut=(H=I.options).headers)==null?void 0:ut.call(H,{loaderData:W});o(g,qt=>({...qt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:W,meta:Ot,links:rs,scripts:Nt,headers:we}))}catch(W){let mt=W;await ee(),f(this.getMatch(g),W);try{(Ae=(pt=I.options).onError)==null||Ae.call(pt,W)}catch(Ot){mt=Ot,f(this.getMatch(g),Ot)}o(g,Ot=>({...Ot,error:mt,status:"error",isFetching:!1}))}await I._componentsPromise}catch(ee){o(g,W=>({...W,loaderPromise:void 0})),f(this.getMatch(g),ee)}},{status:at,invalid:bt}=this.getMatch(g);E=at==="success"&&(bt||(dt??V>N)),B&&I.options.preload===!1||(E&&!a?(D=!0,(async()=>{try{await ft();const{loaderPromise:Q,loadPromise:J}=this.getMatch(g);Q==null||Q.resolve(),J==null||J.resolve(),o(g,z=>({...z,loaderPromise:void 0}))}catch(Q){ms(Q)&&await this.navigate(Q)}})()):(at!=="success"||E&&a)&&await ft())}if(!D){const{loaderPromise:_,loadPromise:I}=this.getMatch(g);_==null||_.resolve(),I==null||I.resolve()}return o(g,_=>({..._,isFetching:D?_.isFetching:!1,loaderPromise:D?_.loaderPromise:void 0,invalid:!1})),this.getMatch(g)})())}),await Promise.all(P),p()}catch(x){v(x)}})()}),await h()}catch(p){if(Kt(p)||yt(p))throw yt(p)&&!n&&await h(),p}return r},this.invalidate=s=>{const r=n=>{var i;return((i=s==null?void 0:s.filter)==null?void 0:i.call(s,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var i;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(i=n.pendingMatches)==null?void 0:i.map(r)}}),this.load({sync:s==null?void 0:s.sync})},this.resolveRedirect=s=>{const r=s;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=s=>{const r=s==null?void 0:s.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const s=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:s})},this.loadRouteChunk=s=>(s._lazyPromise===void 0&&(s.lazyFn?s._lazyPromise=s.lazyFn().then(r=>{const{id:n,...i}=r.options;Object.assign(s.options,i)}):s._lazyPromise=Promise.resolve()),s._componentsPromise===void 0&&(s._componentsPromise=s._lazyPromise.then(()=>Promise.all(kr.map(async r=>{const n=s.options[r];n!=null&&n.preload&&await n.preload()})))),s._componentsPromise),this.preloadRoute=async s=>{const r=this.buildLocation(s);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:s});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...i,...this.state.cachedMatches.map(a=>a.id)]);fs(()=>{n.forEach(a=>{o.has(a.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(a,c)=>{i.has(a)?n=n.map(d=>d.id===a?c(d):d):this.updateMatch(a,c)}}),n}catch(a){if(Kt(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});console.error(a);return}},this.matchRoute=(s,r)=>{const n={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},i=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=Qe(this.basepath,a.pathname,{...r,to:i.pathname});return!c||s.params&&!oe(c,s.params,{partial:!0})?!1:c&&((r==null?void 0:r.includeSearch)??!0)?oe(a.search,i.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var s;const r=((s=this.options.errorSerializer)==null?void 0:s.serialize)??qn;return{state:{dehydratedMatches:this.state.matches.map(n=>({...ze(n,["id","status","updatedAt"]),error:n.error?{data:r(n.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var s,r,n;let i;typeof document<"u"&&(i=this.options.transformer.parse((s=window.__TSR__)==null?void 0:s.dehydrated)),it(i),this.dehydratedData=i.payload,(n=(r=this.options).hydrate)==null||n.call(r,i.payload);const o=i.router.state,a=this.matchRoutes(this.state.location).map(c=>{const d=o.dehydratedMatches.find(h=>h.id===c.id);return it(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:a})),this.manifest=i.router.manifest},this.injectedHtml=[],this.injectHtml=s=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(n=>n!==r),s);this.injectedHtml.push(r)},this.injectScript=(s,r)=>{this.injectHtml(`<script class='tsr-once'>${s}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()<\/script>`)},this.streamedKeys=new Set,this.getStreamedValue=s=>{var r;if(this.isServer)return;const n=(r=window.__TSR__)==null?void 0:r.streamedValues[s];if(n)return n.parsed||(n.parsed=this.options.transformer.parse(n.value)),n.parsed},this.streamValue=(s,r)=>{var n;this.streamedKeys.has(s),this.streamedKeys.add(s),this.injectScript(`__TSR__.streamedValues['${s}'] = { value: ${(n=this.serializer)==null?void 0:n.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(s,r,{updateMatch:n=this.updateMatch}={})=>{const i=Object.fromEntries(s.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[nt]:this.looseRoutesById[r.routeId])||this.looseRoutesById[nt];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==nt;)o=o.parentRoute,it(o);const a=i[o.id];it(a,"Could not find match for route: "+o.id),n(a.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(s,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??Rn,parseSearch:t.parseSearch??wn,transformer:t.transformer??xe}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,s,r){return typeof t=="string"?this.matchRoutesInternal({pathname:t,search:s},r):this.matchRoutesInternal(t,s)}matchRoutesInternal(t,s){const{foundRoute:r,matchedRoutes:n,routeParams:i}=this.getMatchedRoutes(t,s==null?void 0:s.dest);let o=!1;(r?r.path!=="/"&&i["**"]:zt(t.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):o=!0);const a=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let u=n.length-1;u>=0;u--){const f=n[u];if(f.children)return f.id}return nt}})(),c=n.map(u=>{var f;let p;const v=((f=u.options.params)==null?void 0:f.parse)??u.options.parseParams;if(v)try{const m=v(i);Object.assign(i,m)}catch(m){if(p=new Qn(m.message,{cause:m}),s!=null&&s.throwOnError)throw p;return p}}),d=[],h=u=>(u==null?void 0:u.id)?u.context??this.options.context??{}:this.options.context??{};return n.forEach((u,f)=>{var p,v,m,y;const L=d[f-1],[x,R]=(()=>{const A=(L==null?void 0:L.search)??t.search;try{const V=ys(u.options.validateSearch,A)??{};return[{...A,...V},void 0]}catch(V){const B=new bs(V.message,{cause:V});if(s!=null&&s.throwOnError)throw B;return[A,B]}})(),P=((v=(p=u.options).loaderDeps)==null?void 0:v.call(p,{search:x}))??"",g=P?JSON.stringify(P):"",C=Ve({path:u.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),S=Ve({path:u.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+g,w=this.getMatch(S),E=this.state.matches.find(A=>A.routeId===u.id),D=E?"stay":"enter";let _;if(w)_={...w,cause:D,params:E?ct(E.params,i):i,search:ct(E?E.search:w.search,x)};else{const A=u.options.loader||u.options.beforeLoad||u.lazyFn||Un(u)?"pending":"success";_={id:S,index:f,routeId:u.id,params:E?ct(E.params,i):i,pathname:xt([this.basepath,C]),updatedAt:Date.now(),search:E?ct(E.search,x):x,searchError:void 0,status:A,isFetching:!1,error:void 0,paramsError:c[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:E?ct(E.loaderDeps,P):P,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:u.options.staticData||{},loadPromise:se(),fullPath:u.fullPath}}_.status==="success"&&(_.headers=(y=(m=u.options).headers)==null?void 0:y.call(m,{loaderData:_.loaderData})),s!=null&&s.preload||(_.globalNotFound=a===u.id),_.searchError=R;const I=h(L);_.context={...I,..._.__routeContext,..._.__beforeLoadContext},d.push(_)}),d.forEach((u,f)=>{var p,v,m,y;const L=this.looseRoutesById[u.routeId];if(!this.getMatch(u.id)&&(s==null?void 0:s._buildLocation)!==!0){const P=d[f-1],g=h(P),C={deps:u.loaderDeps,params:u.params,context:g,location:t,navigate:S=>this.navigate({...S,_fromLocation:t}),buildLocation:this.buildLocation,cause:u.cause,abortController:u.abortController,preload:!!u.preload,matches:d};u.__routeContext=((v=(p=L.options).context)==null?void 0:v.call(p,C))??{},u.context={...g,...u.__routeContext,...u.__beforeLoadContext}}const R=(y=(m=L.options).head)==null?void 0:y.call(m,{matches:d,match:u,params:u.params,loaderData:u.loaderData??void 0});u.links=R==null?void 0:R.links,u.scripts=R==null?void 0:R.scripts,u.meta=R==null?void 0:R.meta}),d}}class bs extends Error{}class Qn extends Error{}function Nn(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function qn(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function cr(e){return!(typeof e=="object"&&e&&"data"in e)||!("__isServerError"in e&&e.__isServerError)||!(typeof e.data=="object"&&e.data)?!1:e.__isServerError===!0}function lr(e){if("name"in e&&"message"in e){const t=new Error(e.message);return t.name=e.name,t}return e.data}const ss=M.createContext(void 0),Kn=M.createContext(void 0);function St(e){const t=M.useContext(e.from?Kn:ss);return tt({select:r=>{const n=r.matches.find(i=>e.from?e.from===i.routeId:i.id===t);if(it(!((e.shouldThrow??!0)&&!n),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),n!==void 0)return e.select?e.select(n):n},structuralSharing:e.structuralSharing})}function As(e){return St({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function Bs(e){const{select:t,...s}=e;return St({...s,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function Us(e){return St({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function Vs(e){return St({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Qs(e){const{navigate:t}=Lt();return M.useCallback(s=>t({...s}),[t])}function Ui(e){return new zn({id:e})}class zn{constructor({id:t}){this.useMatch=s=>St({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>St({from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Vs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Us({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>Bs({...s,from:this.id,strict:!1}),this.useLoaderData=s=>As({...s,from:this.id,strict:!1}),this.useNavigate=()=>Qs({from:this.id}),this.notFound=s=>jn({routeId:this.id,...s}),this.id=t}}class jr{constructor(t){this.init=s=>{var r,n;this.originalIndex=s.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),o?this._path=nt:it(this.parentRoute);let a=o?nt:i.path;a&&a!=="/"&&(a=ks(a));const c=(i==null?void 0:i.id)||a;let d=o?nt:xt([this.parentRoute.id===nt?"":this.parentRoute.id,c]);a===nt&&(a="/"),d!==nt&&(d=xt(["/",d]));const h=d===nt?"/":xt([this.parentRoute.fullPath,a]);this._path=a,this._id=d,this._fullPath=h,this._to=h,this._ssr=(i==null?void 0:i.ssr)??s.defaultSsr??!0},this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.useMatch=s=>St({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>St({...s,from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Vs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Us({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>Bs({...s,from:this.id}),this.useLoaderData=s=>As({...s,from:this.id}),this.useNavigate=()=>Qs({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),it(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this}}function $n(e){return new jr(e)}class Hn extends jr{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function Vi(e){return new Hn(e)}function Qi(e){return new Wn(e,{silent:!0}).createRoute}class Wn{constructor(t,s){this.path=t,this.createRoute=r=>{this.silent;const n=$n(r);return n.isRoot=!1,n},this.silent=s==null?void 0:s.silent}}class Gn{constructor(t){this.useMatch=s=>St({select:s==null?void 0:s.select,from:this.options.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>St({from:this.options.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Vs({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useParams=s=>Us({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useLoaderDeps=s=>Bs({...s,from:this.options.id}),this.useLoaderData=s=>As({...s,from:this.options.id}),this.useNavigate=()=>Qs({from:this.options.id}),this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Ni(e){return t=>new Gn({id:e,...t})}function $e(e){return F.jsx(F.Fragment,{children:e.children})}function Ar(e,t,s){return t.options.notFoundComponent?F.jsx(t.options.notFoundComponent,{data:s}):e.options.defaultNotFoundComponent?F.jsx(e.options.defaultNotFoundComponent,{data:s}):F.jsx(Bn,{})}const Br=M.memo(function({matchId:t}){var s,r;const n=Lt(),i=tt({select:y=>{var L;return(L=y.matches.find(x=>x.id===t))==null?void 0:L.routeId}});it(i);const o=n.routesById[i],a=o.options.pendingComponent??n.options.defaultPendingComponent,c=a?F.jsx(a,{}):null,d=o.options.errorComponent??n.options.defaultErrorComponent,h=o.options.onCatch??n.options.defaultOnCatch,u=o.isRoot?o.options.notFoundComponent??((s=n.options.notFoundRoute)==null?void 0:s.options.component):o.options.notFoundComponent,f=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??a??((r=o.options.errorComponent)==null?void 0:r.preload))?M.Suspense:$e,p=d?js:$e,v=u?An:$e,m=tt({select:y=>y.loadedAt});return F.jsx(ss.Provider,{value:t,children:F.jsx(f,{fallback:c,children:F.jsx(p,{getResetKey:()=>m,errorComponent:d||es,onCatch:(y,L)=>{if(yt(y))throw y;h==null||h(y,L)},children:F.jsx(v,{fallback:y=>{if(!u||y.routeId&&y.routeId!==i||!y.routeId&&!o.isRoot)throw y;return M.createElement(u,y)},children:F.jsx(Jn,{matchId:t})})})})})}),Jn=M.memo(function({matchId:t}){var s,r,n,i,o;const a=Lt(),{match:c,matchIndex:d,routeId:h}=tt({select:v=>{const m=v.matches.findIndex(x=>x.id===t),y=v.matches[m];return{routeId:y.routeId,matchIndex:m,match:ze(y,["id","status","error"])}},structuralSharing:!0}),u=a.routesById[h],f=M.useMemo(()=>{const v=u.options.component??a.options.defaultComponent;return v?F.jsx(v,{}):F.jsx(Xn,{})},[u.options.component,a.options.defaultComponent]),p=(u.options.errorComponent??a.options.defaultErrorComponent)||es;if(c.status==="notFound"){let v;return cr(c.error)?v=(((s=a.options.errorSerializer)==null?void 0:s.deserialize)??lr)(c.error.data):v=c.error,it(yt(v)),Ar(a,u,v)}if(c.status==="redirected")throw it(Kt(c.error)),(r=a.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(a.isServer)return F.jsx(p,{error:c.error,info:{componentStack:""}});throw cr(c.error)?(((n=a.options.errorSerializer)==null?void 0:n.deserialize)??lr)(c.error.data):c.error}if(c.status==="pending"){const v=u.options.pendingMinMs??a.options.defaultPendingMinMs;if(v&&!((i=a.getMatch(c.id))!=null&&i.minPendingPromise)&&!a.isServer){const m=se();Promise.resolve().then(()=>{a.updateMatch(c.id,y=>({...y,minPendingPromise:m}))}),setTimeout(()=>{m.resolve(),a.updateMatch(c.id,y=>({...y,minPendingPromise:void 0}))},v)}throw(o=a.getMatch(c.id))==null?void 0:o.loadPromise}return F.jsxs(F.Fragment,{children:[f,a.AfterEachMatch?F.jsx(a.AfterEachMatch,{match:c,matchIndex:d}):null]})}),Xn=M.memo(function(){const t=Lt(),s=M.useContext(ss),r=tt({select:d=>{var h;return(h=d.matches.find(u=>u.id===s))==null?void 0:h.routeId}}),n=t.routesById[r],i=tt({select:d=>{const u=d.matches.find(f=>f.id===s);return it(u),u.globalNotFound}}),o=tt({select:d=>{var h;const u=d.matches,f=u.findIndex(p=>p.id===s);return(h=u[f+1])==null?void 0:h.id}});if(i)return Ar(t,n,void 0);if(!o)return null;const a=F.jsx(Br,{matchId:o}),c=t.options.defaultPendingComponent?F.jsx(t.options.defaultPendingComponent,{}):null;return s===nt?F.jsx(M.Suspense,{fallback:c,children:a}):a});var Ur=sn();const qi=Or(Ur),Yn="Error preloading route! ";function Zn(e,t){const s=Lt(),[r,n]=M.useState(!1),i=M.useRef(!1),o=Ln(t),{activeProps:a=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:h,preload:u,preloadDelay:f,hashScrollIntoView:p,replace:v,startTransition:m,resetScroll:y,viewTransition:L,children:x,target:R,disabled:P,style:g,className:C,onClick:S,onFocus:w,onMouseEnter:E,onMouseLeave:D,onTouchStart:_,ignoreBlocker:I,...A}=e,{params:V,search:B,hash:N,state:ot,mask:dt,reloadDocument:ft,...at}=A,bt=M.useMemo(()=>{try{return new URL(`${h}`),"external"}catch{}return"internal"},[h]),Q=tt({select:U=>U.location.search,structuralSharing:!0});e={from:St({strict:!1,select:U=>U.pathname}),...e};const z=M.useMemo(()=>s.buildLocation(e),[s,e,Q]),q=M.useMemo(()=>e.reloadDocument?!1:u??s.options.defaultPreload,[s.options.defaultPreload,u,e.reloadDocument]),H=f??s.options.defaultPreloadDelay??0,ut=tt({select:U=>{if(d!=null&&d.exact){if(!Fn(U.location.pathname,z.pathname,s.basepath))return!1}else{const G=Ge(U.location.pathname,s.basepath).split("/");if(!Ge(z.pathname,s.basepath).split("/").every((tn,en)=>tn===G[en]))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!oe(U.location.search,z.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?U.location.hash===z.hash:!0}}),pt=M.useCallback(()=>{s.preloadRoute(e).catch(U=>{console.warn(U),console.warn(Yn)})},[e,s]),Ae=M.useCallback(U=>{U!=null&&U.isIntersecting&&pt()},[pt]);if(En(o,Ae,{rootMargin:"100px"},{disabled:!!P||q!=="viewport"}),Me(()=>{i.current||!P&&q==="render"&&(pt(),i.current=!0)},[P,pt,q]),bt==="external")return{...at,ref:o,type:bt,href:h,...x&&{children:x},...R&&{target:R},...P&&{disabled:P},...g&&{style:g},...C&&{className:C},...S&&{onClick:S},...w&&{onFocus:w},...E&&{onMouseEnter:E},...D&&{onMouseLeave:D},..._&&{onTouchStart:_}};const ee=U=>{if(!P&&!ei(U)&&!U.defaultPrevented&&(!R||R==="_self")&&U.button===0){U.preventDefault(),Ur.flushSync(()=>{n(!0)});const G=s.subscribe("onResolved",()=>{G(),n(!1)});return s.navigate({...e,replace:v,resetScroll:y,hashScrollIntoView:p,startTransition:m,viewTransition:L,ignoreBlocker:I})}},W=U=>{P||q&&pt()},mt=W,Ot=U=>{if(P)return;const G=U.target||{};if(q){if(G.preloadTimeout)return;G.preloadTimeout=setTimeout(()=>{G.preloadTimeout=null,pt()},H)}},rs=U=>{if(P)return;const G=U.target||{};G.preloadTimeout&&(clearTimeout(G.preloadTimeout),G.preloadTimeout=null)},Nt=U=>G=>{var ns;(ns=G.persist)==null||ns.call(G),U.filter(Boolean).forEach(Ws=>{G.defaultPrevented||Ws(G)})},we=ut?re(a,{})??{}:{},qt=ut?{}:re(c,{}),$s=[C,we.className,qt.className].filter(Boolean).join(" "),Hs={...g,...we.style,...qt.style};return{...at,...we,...qt,href:P?void 0:z.maskedLocation?s.history.createHref(z.maskedLocation.href):s.history.createHref(z.href),ref:o,onClick:Nt([S,ee]),onFocus:Nt([w,W]),onMouseEnter:Nt([E,Ot]),onMouseLeave:Nt([D,rs]),onTouchStart:Nt([_,mt]),disabled:!!P,target:R,...Object.keys(Hs).length&&{style:Hs},...$s&&{className:$s},...P&&{role:"link","aria-disabled":!0},...ut&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function Ki(e){return M.forwardRef(function(s,r){return F.jsx(ti,{...s,_asChild:e,ref:r})})}const ti=M.forwardRef((e,t)=>{const{_asChild:s,...r}=e,{type:n,ref:i,...o}=Zn(r,t),a=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof s>"u"&&delete o.disabled,M.createElement(s||"a",{...o,ref:i},a)});function ei(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function si(){const e=Lt(),t=M.useRef({router:e,mounted:!1}),s=tt({select:({isLoading:u})=>u}),[r,n]=M.useState(!1),i=tt({select:u=>u.matches.some(f=>f.status==="pending"),structuralSharing:!0}),o=ps(s),a=s||r||i,c=ps(a),d=s||i,h=ps(d);return e.isServer||(e.startReactTransition=u=>{n(!0),M.startTransition(()=>{u(),n(!1)})}),M.useEffect(()=>{const u=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return zt(e.latestLocation.href)!==zt(f.href)&&e.commitLocation({...f,replace:!0}),()=>{u()}},[e,e.history]),Me(()=>{var u;if(typeof window<"u"&&((u=window.__TSR__)!=null&&u.dehydrated)||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(p){console.error(p)}})()},[e]),Me(()=>{if(o&&!s){const u=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==u.pathname,v=f.href!==u.href;e.emit({type:"onLoad",fromLocation:f,toLocation:u,pathChanged:p,hrefChanged:v})}},[o,e,s]),Me(()=>{if(h&&!d){const u=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==u.pathname,v=f.href!==u.href;e.emit({type:"onBeforeRouteMount",fromLocation:f,toLocation:u,pathChanged:p,hrefChanged:v})}},[d,h,e]),Me(()=>{if(c&&!a){const u=e.state.location,f=e.state.resolvedLocation,p=f.pathname!==u.pathname,v=f.href!==u.href;if(e.emit({type:"onResolved",fromLocation:f,toLocation:u,pathChanged:p,hrefChanged:v}),e.__store.setState(m=>({...m,status:"idle",resolvedLocation:m.location})),typeof document<"u"&&document.querySelector){const m=e.state.location.state.__hashScrollIntoViewOptions??!0;if(m&&e.state.location.hash!==""){const y=document.getElementById(e.state.location.hash);y&&y.scrollIntoView(m)}}}},[a,c,e]),null}function ri(){const e=Lt(),t=e.options.defaultPendingComponent?F.jsx(e.options.defaultPendingComponent,{}):null,s=e.isServer||typeof document<"u"&&window.__TSR__?$e:M.Suspense,r=F.jsxs(s,{fallback:t,children:[F.jsx(si,{}),F.jsx(ni,{})]});return e.options.InnerWrap?F.jsx(e.options.InnerWrap,{children:r}):r}function ni(){const e=tt({select:s=>{var r;return(r=s.matches[0])==null?void 0:r.id}}),t=tt({select:s=>s.loadedAt});return F.jsx(ss.Provider,{value:e,children:F.jsx(js,{getResetKey:()=>t,errorComponent:es,onCatch:s=>{s.message||s.toString()},children:e?F.jsx(Br,{matchId:e}):null})})}function zi(){const e=Lt();return tt({select:t=>[t.location.href,t.resolvedLocation.href,t.status],structuralSharing:!0}),M.useCallback(t=>{const{pending:s,caseSensitive:r,fuzzy:n,includeSearch:i,...o}=t;return e.matchRoute(o,{pending:s,caseSensitive:r,fuzzy:n,includeSearch:i})},[e])}function ii({router:e,children:t,...s}){e.update({...e.options,...s,context:{...e.options.context,...s.context}});const r=Ir(),n=F.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?F.jsx(e.options.Wrap,{children:n}):n}function $i({router:e,...t}){return F.jsx(ii,{router:e,...t,children:F.jsx(ri,{})})}var Pe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zt=typeof window>"u"||"Deno"in globalThis;function ht(){}function oi(e,t){return typeof e=="function"?e(t):e}function _s(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vr(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ae(e,t){return typeof e=="function"?e(t):e}function gt(e,t){return typeof e=="function"?e(t):e}function hr(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Ns(o,t.options))return!1}else if(!Ie(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||i&&!i(t))}function dr(e,t){const{exact:s,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(te(t.options.mutationKey)!==te(i))return!1}else if(!Ie(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function Ns(e,t){return((t==null?void 0:t.queryKeyHashFn)||te)(e)}function te(e){return JSON.stringify(e,(t,s)=>Ps(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Ie(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Ie(e[s],t[s])):!1}function Qr(e,t){if(e===t)return e;const s=fr(e)&&fr(t);if(s||Ps(e)&&Ps(t)){const r=s?e:Object.keys(e),n=r.length,i=s?t:Object.keys(t),o=i.length,a=s?[]:{};let c=0;for(let d=0;d<o;d++){const h=s?d:i[d];(!s&&r.includes(h)||s)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Qr(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return n===o&&c===n?e:a}return t}function Xe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function fr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ps(e){if(!pr(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!pr(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pr(e){return Object.prototype.toString.call(e)==="[object Object]"}function ai(e){return new Promise(t=>{setTimeout(t,e)})}function ws(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Qr(e,t):t}function ui(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function ci(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var qs=Symbol();function Nr(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qs?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $t,It,ue,br,li=(br=class extends Pe{constructor(){super();O(this,$t);O(this,It);O(this,ue);b(this,ue,t=>{if(!Zt&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){l(this,It)||this.setEventListener(l(this,ue))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,It))==null||t.call(this),b(this,It,void 0))}setEventListener(t){var s;b(this,ue,t),(s=l(this,It))==null||s.call(this),b(this,It,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){l(this,$t)!==t&&(b(this,$t,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof l(this,$t)=="boolean"?l(this,$t):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$t=new WeakMap,It=new WeakMap,ue=new WeakMap,br),Ks=new li,ce,Tt,le,_r,hi=(_r=class extends Pe{constructor(){super();O(this,ce,!0);O(this,Tt);O(this,le);b(this,le,t=>{if(!Zt&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){l(this,Tt)||this.setEventListener(l(this,le))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,Tt))==null||t.call(this),b(this,Tt,void 0))}setEventListener(t){var s;b(this,le,t),(s=l(this,Tt))==null||s.call(this),b(this,Tt,t(this.setOnline.bind(this)))}setOnline(t){l(this,ce)!==t&&(b(this,ce,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return l(this,ce)}},ce=new WeakMap,Tt=new WeakMap,le=new WeakMap,_r),Ye=new hi;function Rs(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}function di(e){return Math.min(1e3*2**e,3e4)}function qr(e){return(e??"online")==="online"?Ye.isOnline():!0}var Kr=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gs(e){return e instanceof Kr}function zr(e){let t=!1,s=0,r=!1,n;const i=Rs(),o=m=>{var y;r||(f(new Kr(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},d=()=>Ks.isFocused()&&(e.networkMode==="always"||Ye.isOnline())&&e.canRun(),h=()=>qr(e.networkMode)&&e.canRun(),u=m=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,m),n==null||n(),i.resolve(m))},f=m=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,m),n==null||n(),i.reject(m))},p=()=>new Promise(m=>{var y;n=L=>{(r||d())&&m(L)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;n=void 0,r||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(r)return;let m;const y=s===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(L){m=Promise.reject(L)}Promise.resolve(m).then(u).catch(L=>{var C;if(r)return;const x=e.retry??(Zt?0:3),R=e.retryDelay??di,P=typeof R=="function"?R(s,L):R,g=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,L);if(t||!g){f(L);return}s++,(C=e.onFail)==null||C.call(e,s,L),ai(P).then(()=>d()?void 0:p()).then(()=>{t?f(L):v()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?v():p().then(v),i)}}function fi(){let e=[],t=0,s=a=>{a()},r=a=>{a()},n=a=>setTimeout(a,0);const i=a=>{t?e.push(a):n(()=>{s(a)})},o=()=>{const a=e;e=[],a.length&&n(()=>{r(()=>{a.forEach(c=>{s(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{n=a}}}var $=fi(),Ht,Pr,$r=(Pr=class{constructor(){O(this,Ht)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_s(this.gcTime)&&b(this,Ht,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zt?1/0:5*60*1e3))}clearGcTimeout(){l(this,Ht)&&(clearTimeout(l(this,Ht)),b(this,Ht,void 0))}},Ht=new WeakMap,Pr),he,de,lt,X,Te,Wt,vt,Ct,wr,pi=(wr=class extends $r{constructor(t){super();O(this,vt);O(this,he);O(this,de);O(this,lt);O(this,X);O(this,Te);O(this,Wt);b(this,Wt,!1),b(this,Te,t.defaultOptions),this.setOptions(t.options),this.observers=[],b(this,lt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,b(this,he,mi(this.options)),this.state=t.state??l(this,he),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=l(this,X))==null?void 0:t.promise}setOptions(t){this.options={...l(this,Te),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,lt).remove(this)}setData(t,s){const r=ws(this.state.data,t,this.options);return T(this,vt,Ct).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){T(this,vt,Ct).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,n;const s=(r=l(this,X))==null?void 0:r.promise;return(n=l(this,X))==null||n.cancel(t),s?s.then(ht).catch(ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,he))}isActive(){return this.observers.some(t=>gt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qs||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Vr(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=l(this,X))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=l(this,X))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),l(this,lt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(l(this,X)&&(l(this,Wt)?l(this,X).cancel({revert:!0}):l(this,X).cancelRetry()),this.scheduleGc()),l(this,lt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,vt,Ct).call(this,{type:"invalidate"})}fetch(t,s){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(l(this,X))return l(this,X).continueRetry(),l(this,X).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(b(this,Wt,!0),r.signal)})},i=()=>{const u=Nr(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return n(f),b(this,Wt,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(o),(c=this.options.behavior)==null||c.onFetch(o,this),b(this,de,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&T(this,vt,Ct).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=u=>{var f,p,v,m;gs(u)&&u.silent||T(this,vt,Ct).call(this,{type:"error",error:u}),gs(u)||((p=(f=l(this,lt).config).onError)==null||p.call(f,u,this),(m=(v=l(this,lt).config).onSettled)==null||m.call(v,this.state.data,u,this)),this.scheduleGc()};return b(this,X,zr({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var f,p,v,m;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(y){a(y);return}(p=(f=l(this,lt).config).onSuccess)==null||p.call(f,u,this),(m=(v=l(this,lt).config).onSettled)==null||m.call(v,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,f)=>{T(this,vt,Ct).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{T(this,vt,Ct).call(this,{type:"pause"})},onContinue:()=>{T(this,vt,Ct).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),l(this,X).start()}},he=new WeakMap,de=new WeakMap,lt=new WeakMap,X=new WeakMap,Te=new WeakMap,Wt=new WeakMap,vt=new WeakSet,Ct=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hr(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return gs(n)&&n.revert&&l(this,de)?{...l(this,de),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),$.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),l(this,lt).notify({query:this,type:"updated",action:t})})},wr);function Hr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qr(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mi(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var _t,Rr,vi=(Rr=class extends Pe{constructor(t={}){super();O(this,_t);this.config=t,b(this,_t,new Map)}build(t,s,r){const n=s.queryKey,i=s.queryHash??Ns(n,s);let o=this.get(i);return o||(o=new pi({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){l(this,_t).has(t.queryHash)||(l(this,_t).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=l(this,_t).get(t.queryHash);s&&(t.destroy(),s===t&&l(this,_t).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return l(this,_t).get(t)}getAll(){return[...l(this,_t).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>hr(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>hr(t,r)):s}notify(t){$.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){$.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_t=new WeakMap,Rr),Pt,Y,Gt,wt,Ft,Cr,yi=(Cr=class extends $r{constructor(t){super();O(this,wt);O(this,Pt);O(this,Y);O(this,Gt);this.mutationId=t.mutationId,b(this,Y,t.mutationCache),b(this,Pt,[]),this.state=t.state||Wr(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){l(this,Pt).includes(t)||(l(this,Pt).push(t),this.clearGcTimeout(),l(this,Y).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){b(this,Pt,l(this,Pt).filter(s=>s!==t)),this.scheduleGc(),l(this,Y).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){l(this,Pt).length||(this.state.status==="pending"?this.scheduleGc():l(this,Y).remove(this))}continue(){var t;return((t=l(this,Gt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,i,o,a,c,d,h,u,f,p,v,m,y,L,x,R,P,g,C,S;b(this,Gt,zr({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,E)=>{T(this,wt,Ft).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{T(this,wt,Ft).call(this,{type:"pause"})},onContinue:()=>{T(this,wt,Ft).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,Y).canRun(this)}));const s=this.state.status==="pending",r=!l(this,Gt).canStart();try{if(!s){T(this,wt,Ft).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(n=l(this,Y).config).onMutate)==null?void 0:i.call(n,t,this));const E=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));E!==this.state.context&&T(this,wt,Ft).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const w=await l(this,Gt).start();return await((d=(c=l(this,Y).config).onSuccess)==null?void 0:d.call(c,w,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,w,t,this.state.context)),await((p=(f=l(this,Y).config).onSettled)==null?void 0:p.call(f,w,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,w,null,t,this.state.context)),T(this,wt,Ft).call(this,{type:"success",data:w}),w}catch(w){try{throw await((L=(y=l(this,Y).config).onError)==null?void 0:L.call(y,w,t,this.state.context,this)),await((R=(x=this.options).onError)==null?void 0:R.call(x,w,t,this.state.context)),await((g=(P=l(this,Y).config).onSettled)==null?void 0:g.call(P,void 0,w,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,w,t,this.state.context)),w}finally{T(this,wt,Ft).call(this,{type:"error",error:w})}}finally{l(this,Y).runNext(this)}}},Pt=new WeakMap,Y=new WeakMap,Gt=new WeakMap,wt=new WeakSet,Ft=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),$.batch(()=>{l(this,Pt).forEach(r=>{r.onMutationUpdate(t)}),l(this,Y).notify({mutation:this,type:"updated",action:t})})},Cr);function Wr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rt,De,Mr,gi=(Mr=class extends Pe{constructor(t={}){super();O(this,rt);O(this,De);this.config=t,b(this,rt,new Map),b(this,De,Date.now())}build(t,s,r){const n=new yi({mutationCache:this,mutationId:++Be(this,De)._,options:t.defaultMutationOptions(s),state:r});return this.add(n),n}add(t){const s=qe(t),r=l(this,rt).get(s)??[];r.push(t),l(this,rt).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=qe(t);if(l(this,rt).has(s)){const n=(r=l(this,rt).get(s))==null?void 0:r.filter(i=>i!==t);n&&(n.length===0?l(this,rt).delete(s):l(this,rt).set(s,n))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=l(this,rt).get(qe(t)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=l(this,rt).get(qe(t)))==null?void 0:r.find(n=>n!==t&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){$.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...l(this,rt).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>dr(s,r))}findAll(t={}){return this.getAll().filter(s=>dr(t,s))}notify(t){$.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return $.batch(()=>Promise.all(t.map(s=>s.continue().catch(ht))))}},rt=new WeakMap,De=new WeakMap,Mr);function qe(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function mr(e){return{onFetch:(t,s)=>{var h,u,f,p,v;const r=t.options,n=(f=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},L=Nr(t.options,t.fetchOptions),x=async(R,P,g)=>{if(m)return Promise.reject();if(P==null&&R.pages.length)return Promise.resolve(R);const C={queryKey:t.queryKey,pageParam:P,direction:g?"backward":"forward",meta:t.options.meta};y(C);const S=await L(C),{maxPages:w}=t.options,E=g?ci:ui;return{pages:E(R.pages,S,w),pageParams:E(R.pageParams,P,w)}};if(n&&i.length){const R=n==="backward",P=R?Si:vr,g={pages:i,pageParams:o},C=P(r,g);a=await x(g,C,R)}else{const R=e??i.length;do{const P=c===0?o[0]??r.initialPageParam:vr(r,a);if(c>0&&P==null)break;a=await x(a,P),c++}while(c<R)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function vr(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Si(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var K,Dt,kt,fe,pe,jt,me,ve,xr,Hi=(xr=class{constructor(e={}){O(this,K);O(this,Dt);O(this,kt);O(this,fe);O(this,pe);O(this,jt);O(this,me);O(this,ve);b(this,K,e.queryCache||new vi),b(this,Dt,e.mutationCache||new gi),b(this,kt,e.defaultOptions||{}),b(this,fe,new Map),b(this,pe,new Map),b(this,jt,0)}mount(){Be(this,jt)._++,l(this,jt)===1&&(b(this,me,Ks.subscribe(async e=>{e&&(await this.resumePausedMutations(),l(this,K).onFocus())})),b(this,ve,Ye.subscribe(async e=>{e&&(await this.resumePausedMutations(),l(this,K).onOnline())})))}unmount(){var e,t;Be(this,jt)._--,l(this,jt)===0&&((e=l(this,me))==null||e.call(this),b(this,me,void 0),(t=l(this,ve))==null||t.call(this),b(this,ve,void 0))}isFetching(e){return l(this,K).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return l(this,Dt).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=l(this,K).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=l(this,K).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(ae(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return l(this,K).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=l(this,K).get(r.queryHash),i=n==null?void 0:n.state.data,o=oi(t,i);if(o!==void 0)return l(this,K).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return $.batch(()=>l(this,K).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=l(this,K).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=l(this,K);$.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=l(this,K),r={type:"active",...e};return $.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=$.batch(()=>l(this,K).findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(ht).catch(ht)}invalidateQueries(e,t={}){return $.batch(()=>{if(l(this,K).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const s={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(s,t)})}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=$.batch(()=>l(this,K).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(ht)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ht)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=l(this,K).build(this,t);return s.isStaleByTime(ae(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ht).catch(ht)}fetchInfiniteQuery(e){return e.behavior=mr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ht).catch(ht)}ensureInfiniteQueryData(e){return e.behavior=mr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ye.isOnline()?l(this,Dt).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,K)}getMutationCache(){return l(this,Dt)}getDefaultOptions(){return l(this,kt)}setDefaultOptions(e){b(this,kt,e)}setQueryDefaults(e,t){l(this,fe).set(te(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...l(this,fe).values()],s={};return t.forEach(r=>{Ie(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){l(this,pe).set(te(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...l(this,pe).values()];let s={};return t.forEach(r=>{Ie(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...l(this,kt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ns(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qs&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...l(this,kt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){l(this,K).clear(),l(this,Dt).clear()}},K=new WeakMap,Dt=new WeakMap,kt=new WeakMap,fe=new WeakMap,pe=new WeakMap,jt=new WeakMap,me=new WeakMap,ve=new WeakMap,xr),et,k,ke,Z,Jt,ye,At,Rt,je,ge,Se,Xt,Yt,Bt,be,j,Ee,Cs,Ms,xs,Es,Ls,Os,Fs,Gr,Er,bi=(Er=class extends Pe{constructor(t,s){super();O(this,j);O(this,et);O(this,k);O(this,ke);O(this,Z);O(this,Jt);O(this,ye);O(this,At);O(this,Rt);O(this,je);O(this,ge);O(this,Se);O(this,Xt);O(this,Yt);O(this,Bt);O(this,be,new Set);this.options=s,b(this,et,t),b(this,Rt,null),b(this,At,Rs()),this.options.experimental_prefetchInRender||l(this,At).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,k).addObserver(this),yr(l(this,k),this.options)?T(this,j,Ee).call(this):this.updateResult(),T(this,j,Es).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Is(l(this,k),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Is(l(this,k),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,j,Ls).call(this),T(this,j,Os).call(this),l(this,k).removeObserver(this)}setOptions(t,s){const r=this.options,n=l(this,k);if(this.options=l(this,et).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gt(this.options.enabled,l(this,k))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,j,Fs).call(this),l(this,k).setOptions(this.options),r._defaulted&&!Xe(this.options,r)&&l(this,et).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,k),observer:this});const i=this.hasListeners();i&&gr(l(this,k),n,this.options,r)&&T(this,j,Ee).call(this),this.updateResult(s),i&&(l(this,k)!==n||gt(this.options.enabled,l(this,k))!==gt(r.enabled,l(this,k))||ae(this.options.staleTime,l(this,k))!==ae(r.staleTime,l(this,k)))&&T(this,j,Cs).call(this);const o=T(this,j,Ms).call(this);i&&(l(this,k)!==n||gt(this.options.enabled,l(this,k))!==gt(r.enabled,l(this,k))||o!==l(this,Bt))&&T(this,j,xs).call(this,o)}getOptimisticResult(t){const s=l(this,et).getQueryCache().build(l(this,et),t),r=this.createResult(s,t);return Pi(this,r)&&(b(this,Z,r),b(this,ye,this.options),b(this,Jt,l(this,k).state)),r}getCurrentResult(){return l(this,Z)}trackResult(t,s){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),r}trackProp(t){l(this,be).add(t)}getCurrentQuery(){return l(this,k)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=l(this,et).defaultQueryOptions(t),r=l(this,et).getQueryCache().build(l(this,et),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return T(this,j,Ee).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,Z)))}createResult(t,s){var w;const r=l(this,k),n=this.options,i=l(this,Z),o=l(this,Jt),a=l(this,ye),d=t!==r?t.state:l(this,ke),{state:h}=t;let u={...h},f=!1,p;if(s._optimisticResults){const E=this.hasListeners(),D=!E&&yr(t,s),_=E&&gr(t,r,s,n);(D||_)&&(u={...u,...Hr(h.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=u;if(s.select&&u.data!==void 0)if(i&&u.data===(o==null?void 0:o.data)&&s.select===l(this,je))p=l(this,ge);else try{b(this,je,s.select),p=s.select(u.data),p=ws(i==null?void 0:i.data,p,s),b(this,ge,p),b(this,Rt,null)}catch(E){b(this,Rt,E)}else p=u.data;if(s.placeholderData!==void 0&&p===void 0&&y==="pending"){let E;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof s.placeholderData=="function"?s.placeholderData((w=l(this,Se))==null?void 0:w.state.data,l(this,Se)):s.placeholderData,s.select&&E!==void 0)try{E=s.select(E),b(this,Rt,null)}catch(D){b(this,Rt,D)}E!==void 0&&(y="success",p=ws(i==null?void 0:i.data,E,s),f=!0)}l(this,Rt)&&(v=l(this,Rt),p=l(this,ge),m=Date.now(),y="error");const L=u.fetchStatus==="fetching",x=y==="pending",R=y==="error",P=x&&L,g=p!==void 0,S={status:y,fetchStatus:u.fetchStatus,isPending:x,isSuccess:y==="success",isError:R,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:L,isRefetching:L&&!x,isLoadingError:R&&!g,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:R&&g,isStale:zs(t,s),refetch:this.refetch,promise:l(this,At)};if(this.options.experimental_prefetchInRender){const E=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},D=()=>{const I=b(this,At,S.promise=Rs());E(I)},_=l(this,At);switch(_.status){case"pending":t.queryHash===r.queryHash&&E(_);break;case"fulfilled":(S.status==="error"||S.data!==_.value)&&D();break;case"rejected":(S.status!=="error"||S.error!==_.reason)&&D();break}}return S}updateResult(t){const s=l(this,Z),r=this.createResult(l(this,k),this.options);if(b(this,Jt,l(this,k).state),b(this,ye,this.options),l(this,Jt).data!==void 0&&b(this,Se,l(this,k)),Xe(r,s))return;b(this,Z,r);const n={},i=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!l(this,be).size)return!0;const c=new Set(a??l(this,be));return this.options.throwOnError&&c.add("error"),Object.keys(l(this,Z)).some(d=>{const h=d;return l(this,Z)[h]!==s[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&i()&&(n.listeners=!0),T(this,j,Gr).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,j,Es).call(this)}},et=new WeakMap,k=new WeakMap,ke=new WeakMap,Z=new WeakMap,Jt=new WeakMap,ye=new WeakMap,At=new WeakMap,Rt=new WeakMap,je=new WeakMap,ge=new WeakMap,Se=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Bt=new WeakMap,be=new WeakMap,j=new WeakSet,Ee=function(t){T(this,j,Fs).call(this);let s=l(this,k).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ht)),s},Cs=function(){T(this,j,Ls).call(this);const t=ae(this.options.staleTime,l(this,k));if(Zt||l(this,Z).isStale||!_s(t))return;const r=Vr(l(this,Z).dataUpdatedAt,t)+1;b(this,Xt,setTimeout(()=>{l(this,Z).isStale||this.updateResult()},r))},Ms=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,k)):this.options.refetchInterval)??!1},xs=function(t){T(this,j,Os).call(this),b(this,Bt,t),!(Zt||gt(this.options.enabled,l(this,k))===!1||!_s(l(this,Bt))||l(this,Bt)===0)&&b(this,Yt,setInterval(()=>{(this.options.refetchIntervalInBackground||Ks.isFocused())&&T(this,j,Ee).call(this)},l(this,Bt)))},Es=function(){T(this,j,Cs).call(this),T(this,j,xs).call(this,T(this,j,Ms).call(this))},Ls=function(){l(this,Xt)&&(clearTimeout(l(this,Xt)),b(this,Xt,void 0))},Os=function(){l(this,Yt)&&(clearInterval(l(this,Yt)),b(this,Yt,void 0))},Fs=function(){const t=l(this,et).getQueryCache().build(l(this,et),this.options);if(t===l(this,k))return;const s=l(this,k);b(this,k,t),b(this,ke,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Gr=function(t){$.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(l(this,Z))}),l(this,et).getQueryCache().notify({query:l(this,k),type:"observerResultsUpdated"})})},Er);function _i(e,t){return gt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yr(e,t){return _i(e,t)||e.state.data!==void 0&&Is(e,t,t.refetchOnMount)}function Is(e,t,s){if(gt(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&zs(e,t)}return!1}function gr(e,t,s,r){return(e!==t||gt(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&zs(e,s)}function zs(e,t){return gt(t.enabled,e)!==!1&&e.isStaleByTime(ae(t.staleTime,e))}function Pi(e,t){return!Xe(e.getCurrentResult(),t)}var Ut,Vt,st,Mt,Et,He,Ts,Lr,wi=(Lr=class extends Pe{constructor(t,s){super();O(this,Et);O(this,Ut);O(this,Vt);O(this,st);O(this,Mt);b(this,Ut,t),this.setOptions(s),this.bindMethods(),T(this,Et,He).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=l(this,Ut).defaultMutationOptions(t),Xe(this.options,s)||l(this,Ut).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,st),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&te(s.mutationKey)!==te(this.options.mutationKey)?this.reset():((r=l(this,st))==null?void 0:r.state.status)==="pending"&&l(this,st).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=l(this,st))==null||t.removeObserver(this)}onMutationUpdate(t){T(this,Et,He).call(this),T(this,Et,Ts).call(this,t)}getCurrentResult(){return l(this,Vt)}reset(){var t;(t=l(this,st))==null||t.removeObserver(this),b(this,st,void 0),T(this,Et,He).call(this),T(this,Et,Ts).call(this)}mutate(t,s){var r;return b(this,Mt,s),(r=l(this,st))==null||r.removeObserver(this),b(this,st,l(this,Ut).getMutationCache().build(l(this,Ut),this.options)),l(this,st).addObserver(this),l(this,st).execute(t)}},Ut=new WeakMap,Vt=new WeakMap,st=new WeakMap,Mt=new WeakMap,Et=new WeakSet,He=function(){var s;const t=((s=l(this,st))==null?void 0:s.state)??Wr();b(this,Vt,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ts=function(t){$.batch(()=>{var s,r,n,i,o,a,c,d;if(l(this,Mt)&&this.hasListeners()){const h=l(this,Vt).variables,u=l(this,Vt).context;(t==null?void 0:t.type)==="success"?((r=(s=l(this,Mt)).onSuccess)==null||r.call(s,t.data,h,u),(i=(n=l(this,Mt)).onSettled)==null||i.call(n,t.data,null,h,u)):(t==null?void 0:t.type)==="error"&&((a=(o=l(this,Mt)).onError)==null||a.call(o,t.error,h,u),(d=(c=l(this,Mt)).onSettled)==null||d.call(c,void 0,t.error,h,u))}this.listeners.forEach(h=>{h(l(this,Vt))})})},Lr),Jr=M.createContext(void 0),Xr=e=>{const t=M.useContext(Jr);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wi=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F.jsx(Jr.Provider,{value:e,children:t})),Yr=M.createContext(!1),Ri=()=>M.useContext(Yr);Yr.Provider;function Ci(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mi=M.createContext(Ci()),xi=()=>M.useContext(Mi);function Zr(e,t){return typeof e=="function"?e(...t):!!e}function Ds(){}var Ei=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Li=e=>{M.useEffect(()=>{e.clearReset()},[e])},Oi=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Zr(s,[e.error,r]),Fi=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ii=(e,t)=>e.isLoading&&e.isFetching&&!t,Ti=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sr=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Di(e,t,s){var h,u,f,p,v;const r=Xr(),n=Ri(),i=xi(),o=r.defaultQueryOptions(e);(u=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",Fi(o),Ei(o,i),Li(i);const a=!r.getQueryCache().get(o.queryHash),[c]=M.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(M.useSyncExternalStore(M.useCallback(m=>{const y=n?Ds:c.subscribe($.batchCalls(m));return c.updateResult(),y},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),M.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Ti(o,d))throw Sr(o,c,i);if(Oi({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,d),o.experimental_prefetchInRender&&!Zt&&Ii(d,n)){const m=a?Sr(o,c,i):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;m==null||m.catch(Ds).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Gi(e,t){return Di(e,bi)}function Ji(e,t){const s=Xr(),[r]=M.useState(()=>new wi(s,e));M.useEffect(()=>{r.setOptions(e)},[r,e]);const n=M.useSyncExternalStore(M.useCallback(o=>r.subscribe($.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=M.useCallback((o,a)=>{r.mutate(o,a).catch(Ds)},[r]);if(n.error&&Zr(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}export{ti as L,Xn as O,Hi as Q,Ai as R,an as a,qi as b,Ur as c,Ki as d,Ji as e,Gi as f,Vi as g,Wi as h,zi as i,F as j,Qi as k,Ui as l,Us as m,Qs as n,Bi as o,$i as p,Ni as q,M as r,Xr as u};
