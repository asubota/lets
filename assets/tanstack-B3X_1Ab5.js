import{r as _,R as At}from"./reactColor-BJavlsXM.js";import{r as bs,g as Hs,a as zs}from"./react-Csw2ODfV.js";var ne={exports:{}},Tt={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe;function Gs(){if(qe)return Tt;qe=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function e(r,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var c in n)c!=="key"&&(i[c]=n[c])}else i=n;return n=i.ref,{$$typeof:t,type:r,key:o,ref:n!==void 0?n:null,props:i}}return Tt.Fragment=s,Tt.jsx=e,Tt.jsxs=e,Tt}var We;function Js(){return We||(We=1,ne.exports=Gs()),ne.exports}var w=Js(),Ys="Invariant failed";function ht(t,s){if(!t)throw new Error(Ys)}const wt=new WeakMap,qt=new WeakMap,Wt={current:[]};let ie=!1,Dt=0;const kt=new Set,Ut=new Map;function Rs(t){const s=Array.from(t).sort((e,r)=>e instanceof Ct&&e.options.deps.includes(r)?1:r instanceof Ct&&r.options.deps.includes(e)?-1:0);for(const e of s){if(Wt.current.includes(e))continue;Wt.current.push(e),e.recompute();const r=qt.get(e);if(r)for(const n of r){const i=wt.get(n);i&&Rs(i)}}}function Xs(t){t.listeners.forEach(s=>s({prevVal:t.prevState,currentVal:t.state}))}function Zs(t){t.listeners.forEach(s=>s({prevVal:t.prevState,currentVal:t.state}))}function _s(t){if(Dt>0&&!Ut.has(t)&&Ut.set(t,t.prevState),kt.add(t),!(Dt>0)&&!ie)try{for(ie=!0;kt.size>0;){const s=Array.from(kt);kt.clear();for(const e of s){const r=Ut.get(e)??e.prevState;e.prevState=r,Xs(e)}for(const e of s){const r=wt.get(e);r&&(Wt.current.push(e),Rs(r))}for(const e of s){const r=wt.get(e);if(r)for(const n of r)Zs(n)}}}finally{ie=!1,Wt.current=[],Ut.clear()}}function He(t){Dt++;try{t()}finally{if(Dt--,Dt===0){const s=Array.from(kt)[0];s&&_s(s)}}}class ye{constructor(s,e){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const o=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var n,i,o;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),_s(this)},this.prevState=s,this.state=s,this.options=e}}class Ct{constructor(s){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const e=[],r=[];for(const n of this.options.deps)e.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:e,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var e,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:i,prevVal:o}),(r=(e=this.options).onUpdate)==null||r.call(e)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof Ct&&i.checkIfRecalculationNeededDeeply();let e=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let i=0;i<n.length;i++)if(n[i]!==r[i]){e=!0;break}e&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const e of this._subscriptions)e()}),this.subscribe=e=>{var r,n;this.listeners.add(e);const i=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,e,this);return()=>{this.listeners.delete(e),i?.()}},this.options=s,this.state=s.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(s=this.options.deps){for(const e of s)if(e instanceof Ct)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof ye){let r=wt.get(e);r||(r=new Set,wt.set(e,r)),r.add(this);let n=qt.get(this);n||(n=new Set,qt.set(this,n)),n.add(e)}}unregisterFromGraph(s=this.options.deps){for(const e of s)if(e instanceof Ct)this.unregisterFromGraph(e.options.deps);else if(e instanceof ye){const r=wt.get(e);r&&r.delete(this);const n=qt.get(this);n&&n.delete(e)}}}const ft="__TSR_index",ze="popstate",Ge="beforeunload";function Ps(t){let s=t.getLocation();const e=new Set,r=o=>{s=t.getLocation(),e.forEach(c=>c({location:s,action:o}))},n=o=>{t.notifyOnIndexChange??!0?r(o):s=t.getLocation()},i=async({task:o,navigateOpts:c,...a})=>{var d,u;if(c?.ignoreBlocker??!1){o();return}const h=((d=t.getBlockers)==null?void 0:d.call(t))??[],p=a.type==="PUSH"||a.type==="REPLACE";if(typeof document<"u"&&h.length&&p)for(const m of h){const f=$t(a.path,a.state);if(await m.blockerFn({currentLocation:s,nextLocation:f,action:a.type})){(u=t.onBlocked)==null||u.call(t);return}}o()};return{get location(){return s},get length(){return t.getLength()},subscribers:e,subscribe:o=>(e.add(o),()=>{e.delete(o)}),push:(o,c,a)=>{const d=s.state[ft];c=ge(d+1,c),i({task:()=>{t.pushState(o,c),r({type:"PUSH"})},navigateOpts:a,type:"PUSH",path:o,state:c})},replace:(o,c,a)=>{const d=s.state[ft];c=ge(d,c),i({task:()=>{t.replaceState(o,c),r({type:"REPLACE"})},navigateOpts:a,type:"REPLACE",path:o,state:c})},go:(o,c)=>{i({task:()=>{t.go(o),n({type:"GO",index:o})},navigateOpts:c,type:"GO"})},back:o=>{i({task:()=>{t.back(o?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{t.forward(o?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>s.state[ft]!==0,createHref:o=>t.createHref(o),block:o=>{var c;if(!t.setBlockers)return()=>{};const a=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...a,o]),()=>{var d,u;const l=((d=t.getBlockers)==null?void 0:d.call(t))??[];(u=t.setBlockers)==null||u.call(t,l.filter(h=>h!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function ge(t,s){s||(s={});const e=Le();return{...s,key:e,__TSR_key:e,[ft]:t}}function tr(t){var s,e;const r=typeof document<"u"?window:void 0,n=r.history.pushState,i=r.history.replaceState;let o=[];const c=()=>o,a=g=>o=g,d=g=>g,u=()=>$t(`${r.location.pathname}${r.location.search}${r.location.hash}`,r.history.state);if(!((s=r.history.state)!=null&&s.__TSR_key)&&!((e=r.history.state)!=null&&e.key)){const g=Le();r.history.replaceState({[ft]:0,key:g,__TSR_key:g},"")}let l=u(),h,p=!1,m=!1,f=!1,v=!1;const y=()=>l;let C,R;const b=()=>{C&&(E._ignoreSubscribers=!0,(C.isPush?r.history.pushState:r.history.replaceState)(C.state,"",C.href),E._ignoreSubscribers=!1,C=void 0,R=void 0,h=void 0)},O=(g,M,x)=>{const k=d(M);R||(h=l),l=$t(M,x),C={href:k,state:x,isPush:C?.isPush||g==="push"},R||(R=Promise.resolve().then(()=>b()))},T=g=>{l=u(),E.notify({type:g})},S=async()=>{if(m){m=!1;return}const g=u(),M=g.state[ft]-l.state[ft],x=M===1,k=M===-1,A=!x&&!k||p;p=!1;const q=A?"GO":k?"BACK":"FORWARD",L=A?{type:"GO",index:M}:{type:k?"BACK":"FORWARD"};if(f)f=!1;else{const $=c();if(typeof document<"u"&&$.length){for(const F of $)if(await F.blockerFn({currentLocation:l,nextLocation:g,action:q})){m=!0,r.history.go(1),E.notify(L);return}}}l=u(),E.notify(L)},P=g=>{if(v){v=!1;return}let M=!1;const x=c();if(typeof document<"u"&&x.length)for(const k of x){const A=k.enableBeforeUnload??!0;if(A===!0){M=!0;break}if(typeof A=="function"&&A()===!0){M=!0;break}}if(M)return g.preventDefault(),g.returnValue=""},E=Ps({getLocation:y,getLength:()=>r.history.length,pushState:(g,M)=>O("push",g,M),replaceState:(g,M)=>O("replace",g,M),back:g=>(g&&(f=!0),v=!0,r.history.back()),forward:g=>{g&&(f=!0),v=!0,r.history.forward()},go:g=>{p=!0,r.history.go(g)},createHref:g=>d(g),flush:b,destroy:()=>{r.history.pushState=n,r.history.replaceState=i,r.removeEventListener(Ge,P,{capture:!0}),r.removeEventListener(ze,S)},onBlocked:()=>{h&&l!==h&&(l=h)},getBlockers:c,setBlockers:a,notifyOnIndexChange:!1});return r.addEventListener(Ge,P,{capture:!0}),r.addEventListener(ze,S),r.history.pushState=function(...g){const M=n.apply(r.history,g);return E._ignoreSubscribers||T("PUSH"),M},r.history.replaceState=function(...g){const M=i.apply(r.history,g);return E._ignoreSubscribers||T("REPLACE"),M},E}function er(t={initialEntries:["/"]}){const s=t.initialEntries;let e=t.initialIndex?Math.min(Math.max(t.initialIndex,0),s.length-1):s.length-1;const r=s.map((i,o)=>ge(o,void 0));return Ps({getLocation:()=>$t(s[e],r[e]),getLength:()=>s.length,pushState:(i,o)=>{e<s.length-1&&(s.splice(e+1),r.splice(e+1)),r.push(o),s.push(i),e=Math.max(s.length-1,0)},replaceState:(i,o)=>{r[e]=o,s[e]=i},back:()=>{e=Math.max(e-1,0)},forward:()=>{e=Math.min(e+1,s.length-1)},go:i=>{e=Math.min(Math.max(e+i,0),s.length-1)},createHref:i=>i})}function $t(t,s){const e=t.indexOf("#"),r=t.indexOf("?"),n=Le();return{href:t,pathname:t.substring(0,e>0?r>0?Math.min(e,r):e:r>0?r:t.length),hash:e>-1?t.substring(e):"",search:r>-1?t.slice(r,e===-1?void 0:e):"",state:s||{[ft]:0,key:n,__TSR_key:n}}}function Le(){return(Math.random()+1).toString(36).substring(7)}function Se(t){return t[t.length-1]}function sr(t){return typeof t=="function"}function mt(t,s){return sr(t)?t(s):t}function Ht(t,s){return s.reduce((e,r)=>(e[r]=t[r],e),{})}function rt(t,s){if(t===s)return t;const e=s,r=Xe(t)&&Xe(e);if(r||Je(t)&&Je(e)){const n=r?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),i=n.length,o=r?e:Object.keys(e).concat(Object.getOwnPropertySymbols(e)),c=o.length,a=r?[]:{};let d=0;for(let u=0;u<c;u++){const l=r?u:o[u];(!r&&n.includes(l)||r)&&t[l]===void 0&&e[l]===void 0?(a[l]=void 0,d++):(a[l]=rt(t[l],e[l]),a[l]===t[l]&&t[l]!==void 0&&d++)}return i===c&&d===i?t:a}return e}function Je(t){return be(t)&&Object.getOwnPropertyNames(t).length===Object.keys(t).length}function be(t){if(!Ye(t))return!1;const s=t.constructor;if(typeof s>"u")return!0;const e=s.prototype;return!(!Ye(e)||!e.hasOwnProperty("isPrototypeOf"))}function Ye(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ze(t,s){let e=Object.keys(t);return s&&(e=e.filter(r=>t[r]!==void 0)),e}function xt(t,s,e){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(be(t)&&be(s)){const r=e?.ignoreUndefined??!0,n=Ze(t,r),i=Ze(s,r);return!e?.partial&&n.length!==i.length?!1:i.every(o=>xt(t[o],s[o],e))}return Array.isArray(t)&&Array.isArray(s)?t.length!==s.length?!1:!t.some((r,n)=>!xt(r,s[n],e)):!1}function _t(t){let s,e;const r=new Promise((n,i)=>{s=n,e=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,s(n),t?.(n)},r.reject=n=>{r.status="rejected",e(n)},r}const ut=0,yt=1,gt=2,Mt=3;function lt(t){return Oe(t.filter(s=>s!==void 0).join("/"))}function Oe(t){return t.replace(/\/{2,}/g,"/")}function Te(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Et(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function oe(t){return Et(Te(t))}function zt(t,s){return t?.endsWith("/")&&t!=="/"&&t!==`${s}/`?t.slice(0,-1):t}function rr(t,s,e){return zt(t,e)===zt(s,e)}function nr(t){const{type:s,value:e}=t;if(s===ut)return e;const{prefixSegment:r,suffixSegment:n}=t;if(s===yt){const i=e.substring(1);if(r&&n)return`${r}{$${i}}${n}`;if(r)return`${r}{$${i}}`;if(n)return`{$${i}}${n}`}if(s===Mt){const i=e.substring(1);return r&&n?`${r}{-$${i}}${n}`:r?`${r}{-$${i}}`:n?`{-$${i}}${n}`:`{-$${i}}`}if(s===gt){if(r&&n)return`${r}{$}${n}`;if(r)return`${r}{$}`;if(n)return`{$}${n}`}return e}function ir({basepath:t,base:s,to:e,trailingSlash:r="never",caseSensitive:n}){var i;s=Gt(t,s,n),e=Gt(t,e,n);let o=Lt(s).slice();const c=Lt(e);o.length>1&&((i=Se(o))==null?void 0:i.value)==="/"&&o.pop();for(let u=0,l=c.length;u<l;u++){const h=c[u],p=h.value;p==="/"?u?u===l-1&&o.push(h):o=[h]:p===".."?o.pop():p==="."||o.push(h)}o.length>1&&(Se(o).value==="/"?r==="never"&&o.pop():r==="always"&&o.push({type:ut,value:"/"}));const a=o.map(nr);return lt([t,...a])}const or=/^\$.{1,}$/,ar=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,cr=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,ur=/^\$$/,lr=/^(.*?)\{\$\}(.*)$/;function Lt(t){if(!t)return[];t=Oe(t);const s=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),s.push({type:ut,value:"/"})),!t)return s;const e=t.split("/").filter(Boolean);return s.push(...e.map(r=>{const n=r.match(lr);if(n){const c=n[1],a=n[2];return{type:gt,value:"$",prefixSegment:c||void 0,suffixSegment:a||void 0}}const i=r.match(cr);if(i){const c=i[1],a=i[2],d=i[3];return{type:Mt,value:a,prefixSegment:c||void 0,suffixSegment:d||void 0}}const o=r.match(ar);if(o){const c=o[1],a=o[2],d=o[3];return{type:yt,value:""+a,prefixSegment:c||void 0,suffixSegment:d||void 0}}if(or.test(r)){const c=r.substring(1);return{type:yt,value:"$"+c,prefixSegment:void 0,suffixSegment:void 0}}return ur.test(r)?{type:gt,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ut,value:r.includes("%25")?r.split("%25").map(c=>decodeURI(c)).join("%25"):decodeURI(r)}})),t.slice(-1)==="/"&&(t=t.substring(1),s.push({type:ut,value:"/"})),s}function Vt({path:t,params:s,leaveWildcards:e,leaveParams:r,decodeCharMap:n}){const i=Lt(t);function o(u){const l=s[u],h=typeof l=="string";return u==="*"||u==="_splat"?h?encodeURI(l):l:h?hr(l,n):l}let c=!1;const a={},d=lt(i.map(u=>{if(u.type===ut)return u.value;if(u.type===gt){a._splat=s._splat;const l=u.prefixSegment||"",h=u.suffixSegment||"";if(!("_splat"in s))return c=!0,e?`${l}${u.value}${h}`:l||h?`${l}${h}`:void 0;const p=o("_splat");return e?`${l}${u.value}${p??""}${h}`:`${l}${p}${h}`}if(u.type===yt){const l=u.value.substring(1);!c&&!(l in s)&&(c=!0),a[l]=s[l];const h=u.prefixSegment||"",p=u.suffixSegment||"";if(r){const m=o(u.value);return`${h}${u.value}${m??""}${p}`}return`${h}${o(l)??"undefined"}${p}`}if(u.type===Mt){const l=u.value.substring(1),h=u.prefixSegment||"",p=u.suffixSegment||"";if(!(l in s)||s[l]==null)return e?`${h}${l}${p}`:h||p?`${h}${p}`:void 0;if(a[l]=s[l],r){const m=o(u.value);return`${h}${u.value}${m??""}${p}`}return`${h}${o(l)??""}${p}`}return u.value}));return{usedParams:a,interpolatedPath:d,isMissingParams:c}}function hr(t,s){let e=encodeURIComponent(t);if(s)for(const[r,n]of s)e=e.replaceAll(r,n);return e}function Re(t,s,e){const r=dr(t,s,e);if(!(e.to&&!r))return r??{}}function Gt(t,s,e=!1){const r=e?t:t.toLowerCase(),n=e?s:s.toLowerCase();switch(!0){case r==="/":return s;case n===r:return"";case s.length<t.length:return s;case n[r.length]!=="/":return s;case n.startsWith(r):return s.slice(t.length);default:return s}}function dr(t,s,{to:e,fuzzy:r,caseSensitive:n}){if(t!=="/"&&!s.startsWith(t))return;s=Gt(t,s,n),e=Gt(t,`${e??"$"}`,n);const i=Lt(s.startsWith("/")?s:`/${s}`),o=Lt(e.startsWith("/")?e:`/${e}`),c={};return fr(i,o,c,r,n)?c:void 0}function fr(t,s,e,r,n){var i,o,c;let a=0,d=0;for(;a<t.length||d<s.length;){const u=t[a],l=s[d];if(l){if(l.type===gt){const h=t.slice(a);let p;if(l.prefixSegment||l.suffixSegment){if(!u)return!1;const m=l.prefixSegment||"",f=l.suffixSegment||"",v=u.value;if("prefixSegment"in l&&!v.startsWith(m)||"suffixSegment"in l&&!((i=t[t.length-1])!=null&&i.value.endsWith(f)))return!1;let y=decodeURI(lt(h.map(C=>C.value)));m&&y.startsWith(m)&&(y=y.slice(m.length)),f&&y.endsWith(f)&&(y=y.slice(0,y.length-f.length)),p=y}else p=decodeURI(lt(h.map(m=>m.value)));return e["*"]=p,e._splat=p,!0}if(l.type===ut){if(l.value==="/"&&!u?.value){d++;continue}if(u){if(n){if(l.value!==u.value)return!1}else if(l.value.toLowerCase()!==u.value.toLowerCase())return!1;a++,d++;continue}else return!1}if(l.type===yt){if(!u||u.value==="/")return!1;let h="",p=!1;if(l.prefixSegment||l.suffixSegment){const m=l.prefixSegment||"",f=l.suffixSegment||"",v=u.value;if(m&&!v.startsWith(m)||f&&!v.endsWith(f))return!1;let y=v;m&&y.startsWith(m)&&(y=y.slice(m.length)),f&&y.endsWith(f)&&(y=y.slice(0,y.length-f.length)),h=decodeURIComponent(y),p=!0}else h=decodeURIComponent(u.value),p=!0;p&&(e[l.value.substring(1)]=h,a++),d++;continue}if(l.type===Mt){if(!u){d++;continue}if(u.value==="/"){d++;continue}let h="",p=!1;if(l.prefixSegment||l.suffixSegment){const m=l.prefixSegment||"",f=l.suffixSegment||"",v=u.value;if((!m||v.startsWith(m))&&(!f||v.endsWith(f))){let y=v;m&&y.startsWith(m)&&(y=y.slice(m.length)),f&&y.endsWith(f)&&(y=y.slice(0,y.length-f.length)),h=decodeURIComponent(y),p=!0}}else{let m=!0;for(let f=d+1;f<s.length;f++){const v=s[f];if(v?.type===ut&&v.value===u.value){m=!1;break}if(v?.type===yt||v?.type===gt)break}m&&(h=decodeURIComponent(u.value),p=!0)}p&&(e[l.value.substring(1)]=h,a++),d++;continue}}if(a<t.length&&d>=s.length)return e["**"]=lt(t.slice(a).map(h=>h.value)),!!r&&((o=s[s.length-1])==null?void 0:o.value)!=="/";if(d<s.length&&a>=t.length){for(let h=d;h<s.length;h++)if(((c=s[h])==null?void 0:c.type)!==Mt)return!1;break}break}return!0}function nt(t){return!!t?.isNotFound}function pr(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Jt="tsr-scroll-restoration-v1_3",mr=(t,s)=>{let e;return(...r)=>{e||(e=setTimeout(()=>{t(...r),e=null},s))}};function vr(){const t=pr();if(!t)return;const s=t.getItem(Jt);let e=s?JSON.parse(s):{};return{state:e,set:r=>(e=mt(r,e)||e,t.setItem(Jt,JSON.stringify(e)))}}const ae=vr(),_e=t=>t.state.__TSR_key||t.href;function yr(t){const s=[];let e;for(;e=t.parentNode;)s.unshift(`${t.tagName}:nth-child(${[].indexOf.call(e.children,t)+1})`),t=e;return`${s.join(" > ")}`.toLowerCase()}let Yt=!1;function ws(t,s,e,r,n){var i;let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(d){console.error(d);return}const c=s||((i=window.history.state)==null?void 0:i.key),a=o[c];Yt=!0,(()=>{if(r&&a){for(const u in a){const l=a[u];if(u==="window")window.scrollTo({top:l.scrollY,left:l.scrollX,behavior:e});else if(u){const h=document.querySelector(u);h&&(h.scrollLeft=l.scrollX,h.scrollTop=l.scrollY)}}return}const d=window.location.hash.split("#")[1];if(d){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const l=document.getElementById(d);l&&l.scrollIntoView(u)}return}["window",...n?.filter(u=>u!=="window")??[]].forEach(u=>{const l=u==="window"?window:typeof u=="function"?u():document.querySelector(u);l&&l.scrollTo({top:0,left:0,behavior:e})})})(),Yt=!1}function gr(t,s){if(ae===void 0||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup))return;t.isScrollRestorationSetup=!0,Yt=!1;const r=t.options.getScrollRestorationKey||_e;window.history.scrollRestoration="manual";const n=i=>{if(Yt||!t.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const a=i.target.getAttribute("data-scroll-restoration-id");a?o=`[data-scroll-restoration-id="${a}"]`:o=yr(i.target)}const c=r(t.state.location);ae.set(a=>{const d=a[c]=a[c]||{},u=d[o]=d[o]||{};if(o==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(o){const l=document.querySelector(o);l&&(u.scrollX=l.scrollLeft||0,u.scrollY=l.scrollTop||0)}return a})};typeof document<"u"&&document.addEventListener("scroll",mr(n,100),!0),t.subscribe("onRendered",i=>{const o=r(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}ws(Jt,o,t.options.scrollRestorationBehavior||void 0,t.isScrollRestoring||void 0,t.options.scrollToTopSelectors||void 0),t.isScrollRestoring&&ae.set(c=>(c[o]=c[o]||{},c))})}function Sr(t){if(typeof document<"u"&&document.querySelector){const s=t.state.location.state.__hashScrollIntoViewOptions??!0;if(s&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(s)}}}function br(t,s){const e=Object.entries(t).flatMap(([n,i])=>Array.isArray(i)?i.map(o=>[n,String(o)]):[[n,String(i)]]);return""+new URLSearchParams(e).toString()}function ce(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function Rr(t,s){const e=t;return[...new URLSearchParams(e).entries()].reduce((i,[o,c])=>{const a=i[o];return a==null?i[o]=ce(c):i[o]=Array.isArray(a)?[...a,ce(c)]:[a,ce(c)],i},{})}const _r=wr(JSON.parse),Pr=Cr(JSON.stringify,JSON.parse);function wr(t){return s=>{s.substring(0,1)==="?"&&(s=s.substring(1));const e=Rr(s);for(const r in e){const n=e[r];if(typeof n=="string")try{e[r]=t(n)}catch{}}return e}}function Cr(t,s){function e(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof s=="function")try{return s(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=e(o)});const n=br(r).toString();return n?`?${n}`:""}}const it="__root__";function xr(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument)try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}const s=new Headers(t.headers||{});t.href&&s.get("Location")===null&&s.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:s});if(e.options=t,t.throw)throw e;return e}function ct(t){return t instanceof Response&&!!t.options}function vt(t){const s=t.resolvedLocation,e=t.location,r=s?.pathname!==e.pathname,n=s?.href!==e.href,i=s?.hash!==e.hash;return{fromLocation:s,toLocation:e,pathChanged:r,hrefChanged:n,hashChanged:i}}class Mr{constructor(s){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{var r;e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||e.basepath&&e.basepath!==n.basepath)&&(e.basepath===void 0||e.basepath===""||e.basepath==="/"?this.basepath="/":this.basepath=`/${oe(e.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?er({initialEntries:[this.basepath||"/"]}):tr()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new ye(Lr(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),gr(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{const{routesById:e,routesByPath:r,flatRoutes:n}=Ir({routeTree:this.routeTree,initRoute:(o,c)=>{o.init({originalIndex:c})}});this.routesById=e,this.routesByPath=r,this.flatRoutes=n;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999}),this.routesById[i.id]=i)},this.subscribe=(e,r)=>{const n={eventType:e,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=e=>{this.subscribers.forEach(r=>{r.eventType===e.type&&r.fn(e)})},this.parseLocation=(e,r)=>{const n=({pathname:a,search:d,hash:u,state:l})=>{const h=this.options.parseSearch(d),p=this.options.stringifySearch(h);return{pathname:a,searchStr:p,search:rt(e?.search,h),hash:u.split("#").reverse()[0]??"",href:`${a}${p}${u}`,state:rt(e?.state,l)}},i=n(r??this.history.location),{__tempLocation:o,__tempKey:c}=i.state;if(o&&(!c||c===this.tempLocationKey)){const a=n(o);return a.state.key=i.state.key,a.state.__TSR_key=i.state.__TSR_key,delete a.state.__tempLocation,{...a,maskedLocation:i}}return i},this.resolvePathWithBase=(e,r)=>ir({basepath:this.basepath,base:e,to:Oe(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(e,r,n)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r),this.getMatchedRoutes=(e,r)=>kr({pathname:e,routePathname:r,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=e=>{const r=this.getMatch(e);r&&(r.abortController.abort(),this.updateMatch(e,n=>(clearTimeout(n.pendingTimeout),{...n,pendingTimeout:void 0})))},this.cancelMatches=()=>{var e;(e=this.state.pendingMatches)==null||e.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const r=(i={})=>{var o;const c=i._fromLocation||this.latestLocation,a=this.matchRoutes(c,{_buildLocation:!0}),d=Se(a);let u=d.fullPath;const l=i.to?this.resolvePathWithBase(u,`${i.to}`):this.resolvePathWithBase(u,"."),h=!!i.to&&!this.comparePaths(i.to.toString(),u)&&!this.comparePaths(l,u);i.unsafeRelative==="path"?u=c.pathname:h&&i.from&&(u=i.from);const p=d.search,m={...d.params},f=i.to?this.resolvePathWithBase(u,`${i.to}`):this.resolvePathWithBase(u,".");let v=i.params===!1||i.params===null?{}:(i.params??!0)===!0?m:{...m,...mt(i.params,m)};const y=Vt({path:f,params:v??{}}).interpolatedPath,C=this.matchRoutes(y,{},{_buildLocation:!0}).map(E=>this.looseRoutesById[E.routeId]);Object.keys(v).length>0&&C.map(E=>{var g;return((g=E.options.params)==null?void 0:g.stringify)??E.options.stringifyParams}).filter(Boolean).forEach(E=>{v={...v,...E(v)}});const R=Vt({path:f,params:v??{},leaveWildcards:!1,leaveParams:e.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let b=p;if(e._includeValidateSearch&&((o=this.options.search)!=null&&o.strict)){let E={};C.forEach(g=>{try{g.options.validateSearch&&(E={...E,...Pe(g.options.validateSearch,{...E,...b})??{}})}catch{}}),b=E}b=Dr({search:b,dest:i,destRoutes:C,_includeValidateSearch:e._includeValidateSearch}),b=rt(p,b);const O=this.options.stringifySearch(b),T=i.hash===!0?c.hash:i.hash?mt(i.hash,c.hash):void 0,S=T?`#${T}`:"";let P=i.state===!0?c.state:i.state?mt(i.state,c.state):{};return P=rt(c.state,P),{pathname:R,search:b,searchStr:O,state:P,hash:T??"",href:`${R}${O}${S}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},o)=>{var c;const a=r(i);let d=o?r(o):void 0;if(!d){let u={};const l=(c=this.options.routeMasks)==null?void 0:c.find(h=>{const p=Re(this.basepath,a.pathname,{to:h.from,caseSensitive:!1,fuzzy:!1});return p?(u=p,!0):!1});if(l){const{from:h,...p}=l;o={...Ht(e,["from"]),...p,params:u},d=r(o)}}if(d){const u=r(o);a.maskedLocation=u}return a};return e.mask?n(e,{...Ht(e,["from"]),...e.mask}):n(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:r,...n})=>{const i=()=>{const a=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];a.forEach(u=>{n.state[u]=this.latestLocation.state[u]});const d=xt(n.state,this.latestLocation.state);return a.forEach(u=>{delete n.state[u]}),d},o=this.latestLocation.href===n.href,c=this.commitLocationPromise;if(this.commitLocationPromise=_t(()=>{c?.resolve()}),o&&i())this.load();else{let{maskedLocation:a,hashScrollIntoView:d,...u}=n;a&&(u={...a,state:{...a.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[n.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:o,href:c,...a}={})=>{if(c){const u=this.history.location.state.__TSR_index,l=$t(c,{__TSR_index:e?u:u+1});a.to=l.pathname,a.search=this.options.parseSearch(l.search),a.hash=l.hash.slice(1)}const d=this.buildLocation({...a,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:i,replace:e,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:o})},this.navigate=({to:e,reloadDocument:r,href:n,...i})=>{if(!r&&n)try{new URL(`${n}`),r=!0}catch{}if(r){if(!n){const o=this.buildLocation({to:e,...i});n=this.history.createHref(o.href)}i.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...i,href:n,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),n=i=>{try{return encodeURI(decodeURI(i))}catch{return i}};if(oe(n(this.latestLocation.href))!==oe(n(r.href)))throw xr({href:r.href})}const e=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:r.cachedMatches.filter(n=>!e.find(i=>i.id===n.id))}))},this.load=async e=>{let r,n,i;for(i=new Promise(o=>{this.startTransition(async()=>{var c;try{this.beforeLoad();const a=this.latestLocation,d=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...vt({resolvedLocation:d,location:a})}),this.emit({type:"onBeforeLoad",...vt({resolvedLocation:d,location:a})}),await this.loadMatches({sync:e?.sync,matches:this.state.pendingMatches,location:a,onReady:async()=>{this.startViewTransition(async()=>{let u,l,h;He(()=>{this.__store.setState(p=>{const m=p.matches,f=p.pendingMatches||p.matches;return u=m.filter(v=>!f.find(y=>y.id===v.id)),l=f.filter(v=>!m.find(y=>y.id===v.id)),h=m.filter(v=>f.find(y=>y.id===v.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:f,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...u.filter(v=>v.status!=="error")]}}),this.clearExpiredCache()}),[[u,"onLeave"],[l,"onEnter"],[h,"onStay"]].forEach(([p,m])=>{p.forEach(f=>{var v,y;(y=(v=this.looseRoutesById[f.routeId].options)[m])==null||y.call(v,f)})})})}})}catch(a){ct(a)?(r=a,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):nt(a)&&(n=a),this.__store.setState(d=>({...d,statusCode:r?r.status:n?404:d.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((c=this.commitLocationPromise)==null||c.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=e=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,o=this.state.resolvedLocation,c=typeof r.types=="function"?r.types(vt({resolvedLocation:o,location:i})):r.types;n={update:e,types:c}}else n=e;document.startViewTransition(n)}else e()},this.updateMatch=(e,r)=>{var n;let i;const o=(n=this.state.pendingMatches)==null?void 0:n.find(u=>u.id===e),c=this.state.matches.find(u=>u.id===e),a=this.state.cachedMatches.find(u=>u.id===e),d=o?"pendingMatches":c?"matches":a?"cachedMatches":"";return d&&this.__store.setState(u=>{var l;return{...u,[d]:(l=u[d])==null?void 0:l.map(h=>h.id===e?i=r(h):h)}}),i},this.getMatch=e=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===e),this.loadMatches=async({location:e,matches:r,preload:n,onReady:i,updateMatch:o=this.updateMatch,sync:c})=>{let a,d=!1;const u=async()=>{d||(d=!0,await i?.())},l=m=>!!(n&&!this.state.matches.find(f=>f.id===m));!this.isServer&&this.state.matches.find(m=>m._forcePending)&&u();const h=(m,f)=>{var v,y,C;if(ct(f)||nt(f)){if(ct(f)&&f.redirectHandled&&!f.options.reloadDocument)throw f;if((v=m.beforeLoadPromise)==null||v.resolve(),(y=m.loaderPromise)==null||y.resolve(),o(m.id,R=>({...R,status:ct(f)?"redirected":nt(f)?"notFound":"error",isFetching:!1,error:f,beforeLoadPromise:void 0,loaderPromise:void 0})),f.routeId||(f.routeId=m.routeId),(C=m.loadPromise)==null||C.resolve(),ct(f))throw d=!0,f.options._fromLocation=e,f.redirectHandled=!0,f=this.resolveRedirect(f),f;if(nt(f))throw this._handleNotFound(r,f,{updateMatch:o}),f}},p=m=>{const f=this.getMatch(m);return!!(!this.isServer&&f._dehydrated||this.isServer&&f.ssr===!1)};try{await new Promise((m,f)=>{(async()=>{var v,y,C,R;try{const b=(S,P,E)=>{var g,M;const{id:x,routeId:k}=r[S],A=this.looseRoutesById[k];if(P instanceof Promise)throw P;P.routerCode=E,a=a??S,h(this.getMatch(x),P);try{(M=(g=A.options).onError)==null||M.call(g,P)}catch(q){P=q,h(this.getMatch(x),P)}o(x,q=>{var L,$;return(L=q.beforeLoadPromise)==null||L.resolve(),($=q.loadPromise)==null||$.resolve(),{...q,error:P,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[S,{id:P,routeId:E}]of r.entries()){const g=this.getMatch(P),M=(v=r[S-1])==null?void 0:v.id,x=M?this.getMatch(M):void 0,k=this.looseRoutesById[E],A=k.options.pendingMs??this.options.defaultPendingMs;if(this.isServer){let F;if(this.isShell())F=P===it;else{const N=this.options.defaultSsr??!0;if(x?.ssr===!1)F=!1;else{let z;if(k.options.ssr===void 0)z=N;else if(typeof k.options.ssr=="function"){let G=function(D,I){return I?{status:"error",error:I}:{status:"success",value:D}};const{search:Z,params:tt}=this.getMatch(P),W={search:G(Z,g.searchError),params:G(tt,g.paramsError),location:e,matches:r.map(D=>({index:D.index,pathname:D.pathname,fullPath:D.fullPath,staticData:D.staticData,id:D.id,routeId:D.routeId,search:G(D.search,D.searchError),params:G(D.params,D.paramsError),ssr:D.ssr}))};z=await k.options.ssr(W)??N}else z=k.options.ssr;z===!0&&x?.ssr==="data-only"?F="data-only":F=z}}o(P,N=>({...N,ssr:F}))}if(p(P))continue;const q=!!(i&&!this.isServer&&!l(P)&&(k.options.loader||k.options.beforeLoad||ts(k))&&typeof A=="number"&&A!==1/0&&(k.options.pendingComponent??((y=this.options)==null?void 0:y.defaultPendingComponent)));let L=!0;const $=()=>{if(q&&this.getMatch(P).pendingTimeout===void 0){const F=setTimeout(()=>{try{u()}catch{}},A);o(P,N=>({...N,pendingTimeout:F}))}};if(g.beforeLoadPromise||g.loaderPromise){$(),await g.beforeLoadPromise;const F=this.getMatch(P);F.status==="error"?L=!0:F.preload&&(F.status==="redirected"||F.status==="notFound")&&h(F,F.error)}if(L){try{o(P,B=>{const Q=B.loadPromise;return{...B,loadPromise:_t(()=>{Q?.resolve()}),beforeLoadPromise:_t()}});const{paramsError:F,searchError:N}=this.getMatch(P);F&&b(S,F,"PARSE_PARAMS"),N&&b(S,N,"VALIDATE_SEARCH"),$();const z=new AbortController,G=x?.context??this.options.context??{};o(P,B=>({...B,isFetching:"beforeLoad",fetchCount:B.fetchCount+1,abortController:z,context:{...G,...B.__routeContext}}));const{search:Z,params:tt,context:W,cause:D}=this.getMatch(P),I=l(P),V={search:Z,abortController:z,params:tt,preload:I,context:W,location:e,navigate:B=>this.navigate({...B,_fromLocation:e}),buildLocation:this.buildLocation,cause:I?"preload":D,matches:r},U=await((R=(C=k.options).beforeLoad)==null?void 0:R.call(C,V));(ct(U)||nt(U))&&b(S,U,"BEFORE_LOAD"),o(P,B=>({...B,__beforeLoadContext:U,context:{...G,...B.__routeContext,...U},abortController:z}))}catch(F){b(S,F,"BEFORE_LOAD")}o(P,F=>{var N;return(N=F.beforeLoadPromise)==null||N.resolve(),{...F,beforeLoadPromise:void 0,isFetching:!1}})}}const O=r.slice(0,a),T=[];O.forEach(({id:S,routeId:P},E)=>{T.push((async()=>{let g=!1,M=!1;const x=this.looseRoutesById[P],k=async()=>{var L,$,F,N,z,G;const Z=this.getMatch(S);if(!Z)return;const tt={matches:r,match:Z,params:Z.params,loaderData:Z.loaderData},W=await(($=(L=x.options).head)==null?void 0:$.call(L,tt)),D=W?.meta,I=W?.links,V=W?.scripts,U=W?.styles,B=await((N=(F=x.options).scripts)==null?void 0:N.call(F,tt)),Q=await((G=(z=x.options).headers)==null?void 0:G.call(z,tt));return{meta:D,links:I,headScripts:V,headers:Q,scripts:B,styles:U}},A=async()=>{const L=this.getMatch(S);L.minPendingPromise&&await L.minPendingPromise},q=this.getMatch(S);if(p(S)){if(this.isServer){const L=await k();return o(S,$=>({...$,...L})),this.getMatch(S)}}else if(q.loaderPromise){if(q.status==="success"&&!c&&!q.preload)return this.getMatch(S);await q.loaderPromise;const L=this.getMatch(S);L.error&&h(L,L.error)}else{const L=T[E-1],$=()=>{const{params:I,loaderDeps:V,abortController:U,context:B,cause:Q}=this.getMatch(S),H=l(S);return{params:I,deps:V,preload:!!H,parentMatchPromise:L,abortController:U,context:B,location:e,navigate:et=>this.navigate({...et,_fromLocation:e}),cause:H?"preload":Q,route:x}},F=Date.now()-this.getMatch(S).updatedAt,N=l(S),z=N?x.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:x.options.staleTime??this.options.defaultStaleTime??0,G=x.options.shouldReload,Z=typeof G=="function"?G($()):G;o(S,I=>({...I,loaderPromise:_t(),preload:!!N&&!this.state.matches.find(V=>V.id===S)}));const tt=async()=>{var I,V,U,B;try{try{(!this.isServer||this.isServer&&this.getMatch(S).ssr===!0)&&this.loadRouteChunk(x),o(S,et=>({...et,isFetching:"loader"}));const Q=await((V=(I=x.options).loader)==null?void 0:V.call(I,$()));h(this.getMatch(S),Q),o(S,et=>({...et,loaderData:Q})),await x._lazyPromise;const H=await k();await A(),await x._componentsPromise,o(S,et=>({...et,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...H}))}catch(Q){let H=Q;await A(),h(this.getMatch(S),Q);try{(B=(U=x.options).onError)==null||B.call(U,Q)}catch(Rt){H=Rt,h(this.getMatch(S),Rt)}const et=await k();o(S,Rt=>({...Rt,error:H,status:"error",isFetching:!1,...et}))}}catch(Q){const H=await k();o(S,et=>({...et,loaderPromise:void 0,...H})),h(this.getMatch(S),Q)}},{status:W,invalid:D}=this.getMatch(S);if(g=W==="success"&&(D||(Z??F>z)),!(N&&x.options.preload===!1))if(g&&!c)M=!0,(async()=>{try{await tt();const{loaderPromise:I,loadPromise:V}=this.getMatch(S);I?.resolve(),V?.resolve(),o(S,U=>({...U,loaderPromise:void 0}))}catch(I){ct(I)&&await this.navigate(I.options)}})();else if(W!=="success"||g&&c)await tt();else{const I=await k();o(S,V=>({...V,...I}))}}if(!M){const{loaderPromise:L,loadPromise:$}=this.getMatch(S);L?.resolve(),$?.resolve()}return o(S,L=>(clearTimeout(L.pendingTimeout),{...L,isFetching:M?L.isFetching:!1,loaderPromise:M?L.loaderPromise:void 0,invalid:!1,pendingTimeout:void 0,_dehydrated:void 0})),this.getMatch(S)})())}),await Promise.all(T),m()}catch(b){f(b)}})()}),await u()}catch(m){if(ct(m)||nt(m))throw nt(m)&&!n&&await u(),m}return r},this.invalidate=e=>{const r=n=>{var i;return((i=e?.filter)==null?void 0:i.call(e,n))??!0?{...n,invalid:!0,...e?.forcePending||n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var i;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(i=n.pendingMatches)==null?void 0:i.map(r)}}),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.resolveRedirect=e=>(e.options.href||(e.options.href=this.buildLocation(e.options).href,e.headers.set("Location",e.options.href)),e.headers.get("Location")||e.headers.set("Location",e.options.href),e),this.clearCache=e=>{const r=e?.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:e})},this.loadRouteChunk=e=>(e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(r=>{const{id:n,...i}=r.options;Object.assign(e.options,i)}):e._lazyPromise=Promise.resolve()),e._componentsPromise===void 0&&(e._componentsPromise=e._lazyPromise.then(()=>Promise.all(Cs.map(async r=>{const n=e.options[r];n?.preload&&await n.preload()})))),e._componentsPromise),this.preloadRoute=async e=>{const r=this.buildLocation(e);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:e});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),o=new Set([...i,...this.state.cachedMatches.map(c=>c.id)]);He(()=>{n.forEach(c=>{o.has(c.id)||this.__store.setState(a=>({...a,cachedMatches:[...a.cachedMatches,c]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(c,a)=>{i.has(c)?n=n.map(d=>d.id===c?a(d):d):this.updateMatch(c,a)}}),n}catch(c){if(ct(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:r});nt(c)||console.error(c);return}},this.matchRoute=(e,r)=>{const n={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},i=this.buildLocation(n);if(r?.pending&&this.state.status!=="pending")return!1;const c=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,a=Re(this.basepath,c.pathname,{...r,to:i.pathname});return!a||e.params&&!xt(a,e.params,{partial:!0})?!1:a&&(r?.includeSearch??!0)?xt(c.search,i.search,{partial:!0})?a:!1:a},this._handleNotFound=(e,r,{updateMatch:n=this.updateMatch}={})=>{var i;const o=this.routesById[r.routeId??""]??this.routeTree,c={};for(const d of e)c[d.routeId]=d;!o.options.notFoundComponent&&((i=this.options)!=null&&i.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),ht(o.options.notFoundComponent);const a=c[o.id];ht(a,"Could not find match for route: "+o.id),n(a.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(e,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...s,caseSensitive:s.caseSensitive??!1,notFoundMode:s.notFoundMode??"fuzzy",stringifySearch:s.stringifySearch??Pr,parseSearch:s.parseSearch??_r}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return this.options.isShell}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(s,e){var r;const{foundRoute:n,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(s.pathname,(r=e?.dest)==null?void 0:r.to);let c=!1;(n?n.path!=="/"&&o["**"]:Et(s.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):c=!0);const a=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const p=i[h];if(p.children)return p.id}return it}})(),d=i.map(h=>{var p;let m;const f=((p=h.options.params)==null?void 0:p.parse)??h.options.parseParams;if(f)try{const v=f(o);Object.assign(o,v)}catch(v){if(m=new Er(v.message,{cause:v}),e?.throwOnError)throw m;return m}}),u=[],l=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,p)=>{var m,f;const v=u[p-1],[y,C,R]=(()=>{const A=v?.search??s.search,q=v?._strictSearch??{};try{const L=Pe(h.options.validateSearch,{...A})??{};return[{...A,...L},{...q,...L},void 0]}catch(L){let $=L;if(L instanceof Xt||($=new Xt(L.message,{cause:L})),e?.throwOnError)throw $;return[A,{},$]}})(),b=((f=(m=h.options).loaderDeps)==null?void 0:f.call(m,{search:y}))??"",O=b?JSON.stringify(b):"",{usedParams:T,interpolatedPath:S}=Vt({path:h.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),P=Vt({path:h.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+O,E=this.getMatch(P),g=this.state.matches.find(A=>A.routeId===h.id),M=g?"stay":"enter";let x;if(E)x={...E,cause:M,params:g?rt(g.params,o):o,_strictParams:T,search:rt(g?g.search:E.search,y),_strictSearch:C};else{const A=h.options.loader||h.options.beforeLoad||h.lazyFn||ts(h)?"pending":"success";x={id:P,index:p,routeId:h.id,params:g?rt(g.params,o):o,_strictParams:T,pathname:lt([this.basepath,S]),updatedAt:Date.now(),search:g?rt(g.search,y):y,_strictSearch:C,searchError:void 0,status:A,isFetching:!1,error:void 0,paramsError:d[p],__routeContext:{},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:g?rt(g.loaderDeps,b):b,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:_t(),fullPath:h.fullPath}}e?.preload||(x.globalNotFound=a===h.id),x.searchError=R;const k=l(v);x.context={...k,...x.__routeContext,...x.__beforeLoadContext},u.push(x)}),u.forEach((h,p)=>{var m,f;const v=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&e?._buildLocation!==!0){const C=u[p-1],R=l(C),b={deps:h.loaderDeps,params:h.params,context:R,location:s,navigate:O=>this.navigate({...O,_fromLocation:s}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:u};h.__routeContext=((f=(m=v.options).context)==null?void 0:f.call(m,b))??{},h.context={...R,...h.__routeContext,...h.__beforeLoadContext}}}),u}comparePaths(s,e){return s.replace(/(.+)\/$/,"$1")===e.replace(/(.+)\/$/,"$1")}}class Xt extends Error{}class Er extends Error{}function Lr(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Pe(t,s){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(s);if(e instanceof Promise)throw new Xt("Async validation not supported");if(e.issues)throw new Xt(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(s):typeof t=="function"?t(s):{}}const Cs=["component","errorComponent","pendingComponent","notFoundComponent"];function ts(t){var s;for(const e of Cs)if((s=t.options[e])!=null&&s.preload)return!0;return!1}const Or=.5,Tr=.4,Fr=.25;function es(t,s){return t.prefixSegment&&t.suffixSegment?s+.05:t.prefixSegment?s+.02:t.suffixSegment?s+.01:s}function Ir({routeTree:t,initRoute:s}){const e={},r={},n=a=>{a.forEach((d,u)=>{s?.(d,u);const l=e[d.id];if(ht(!l,`Duplicate routes found with id: ${String(d.id)}`),e[d.id]=d,!d.isRoot&&d.path){const p=Et(d.fullPath);(!r[p]||d.fullPath.endsWith("/"))&&(r[p]=d)}const h=d.children;h?.length&&n(h)})};n([t]);const i=[];Object.values(e).forEach((a,d)=>{var u;if(a.isRoot||!a.path)return;const l=Te(a.fullPath);let h=Lt(l),p=0;for(;h.length>p+1&&((u=h[p])==null?void 0:u.value)==="/";)p++;p>0&&(h=h.slice(p));let m=0,f=!1;const v=h.map((y,C)=>{if(y.value==="/")return .75;let R;if(y.type===yt?R=Or:y.type===Mt?(R=Tr,m++):y.type===gt&&(R=Fr),R){for(let b=C+1;b<h.length;b++){const O=h[b];if(O.type===ut&&O.value!=="/")return f=!0,es(y,R+.2)}return es(y,R)}return 1});i.push({child:a,trimmed:l,parsed:h,index:d,scores:v,optionalParamCount:m,hasStaticAfter:f})});const c=i.sort((a,d)=>{const u=Math.min(a.scores.length,d.scores.length);for(let l=0;l<u;l++)if(a.scores[l]!==d.scores[l])return d.scores[l]-a.scores[l];if(a.scores.length!==d.scores.length){if(a.optionalParamCount!==d.optionalParamCount){if(a.hasStaticAfter===d.hasStaticAfter)return a.optionalParamCount-d.optionalParamCount;if(a.hasStaticAfter&&!d.hasStaticAfter)return-1;if(!a.hasStaticAfter&&d.hasStaticAfter)return 1}return d.scores.length-a.scores.length}for(let l=0;l<u;l++)if(a.parsed[l].value!==d.parsed[l].value)return a.parsed[l].value>d.parsed[l].value?1:-1;return a.index-d.index}).map((a,d)=>(a.child.rank=d,a.child));return{routesById:e,routesByPath:r,flatRoutes:c}}function kr({pathname:t,routePathname:s,basepath:e,caseSensitive:r,routesByPath:n,routesById:i,flatRoutes:o}){let c={};const a=Et(t),d=p=>{var m;return Re(e,a,{to:p.fullPath,caseSensitive:((m=p.options)==null?void 0:m.caseSensitive)??r,fuzzy:!0})};let u=s!==void 0?n[s]:void 0;if(u)c=d(u);else{let p;for(const m of o){const f=d(m);if(f)if(m.path!=="/"&&f["**"])p||(p={foundRoute:m,routeParams:f});else{u=m,c=f;break}}!u&&p&&(u=p.foundRoute,c=p.routeParams)}let l=u||i[it];const h=[l];for(;l.parentRoute;)l=l.parentRoute,h.push(l);return h.reverse(),{matchedRoutes:h,routeParams:c,foundRoute:u}}function Dr({search:t,dest:s,destRoutes:e,_includeValidateSearch:r}){const n=e.reduce((c,a)=>{var d;const u=[];if("search"in a.options)(d=a.options.search)!=null&&d.middlewares&&u.push(...a.options.search.middlewares);else if(a.options.preSearchFilters||a.options.postSearchFilters){const l=({search:h,next:p})=>{let m=h;"preSearchFilters"in a.options&&a.options.preSearchFilters&&(m=a.options.preSearchFilters.reduce((v,y)=>y(v),h));const f=p(m);return"postSearchFilters"in a.options&&a.options.postSearchFilters?a.options.postSearchFilters.reduce((v,y)=>y(v),f):f};u.push(l)}if(r&&a.options.validateSearch){const l=({search:h,next:p})=>{const m=p(h);try{return{...m,...Pe(a.options.validateSearch,m)??{}}}catch{return m}};u.push(l)}return c.concat(u)},[])??[],i=({search:c})=>s.search?s.search===!0?c:mt(s.search,c):{};n.push(i);const o=(c,a)=>{if(c>=n.length)return a;const d=n[c];return d({search:a,next:l=>o(c+1,l)})};return o(0,t)}const Ar="Error preloading route! ☝️";class xs{constructor(s){if(this.init=e=>{var r,n;this.originalIndex=e.originalIndex;const i=this.options,o=!i?.path&&!i?.id;this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),o?this._path=it:this.parentRoute||ht(!1);let c=o?it:i?.path;c&&c!=="/"&&(c=Te(c));const a=i?.id||c;let d=o?it:lt([this.parentRoute.id===it?"":this.parentRoute.id,a]);c===it&&(c="/"),d!==it&&(d=lt(["/",d]));const u=d===it?"/":lt([this.parentRoute.fullPath,c]);this._path=c,this._id=d,this._fullPath=u,this._to=u},this.clone=e=>{this._path=e._path,this._id=e._id,this._fullPath=e._fullPath,this._to=e._to,this.options.getParentRoute=e.options.getParentRoute,this.children=e.children},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=s||{},this.isRoot=!s?.getParentRoute,s?.id&&s?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class $r extends xs{constructor(s){super(s)}}function Fe(t){const s=t.errorComponent??ee;return w.jsx(jr,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:r})=>e?_.createElement(s,{error:e,reset:r}):t.children})}class jr extends _.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(s){return{resetKey:s.getResetKey()}}static getDerivedStateFromError(s){return{error:s}}reset(){this.setState({error:null})}componentDidUpdate(s,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(s,e){this.props.onCatch&&this.props.onCatch(s,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ee({error:t}){const[s,e]=_.useState(!1);return w.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[w.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),w.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(r=>!r),children:s?"Hide Error":"Show Error"})]}),w.jsx("div",{style:{height:".25rem"}}),s?w.jsx("div",{children:w.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?w.jsx("code",{children:t.message}):null})}):null]})}function Br({children:t,fallback:s=null}){return Nr()?w.jsx(At.Fragment,{children:t}):w.jsx(At.Fragment,{children:s})}function Nr(){return At.useSyncExternalStore(Ur,()=>!0,()=>!1)}function Ur(){return()=>{}}var ue={exports:{}},le={},he={exports:{}},de={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss;function Vr(){if(ss)return de;ss=1;var t=bs();function s(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var e=typeof Object.is=="function"?Object.is:s,r=t.useState,n=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(l,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),f=m[0].inst,v=m[1];return i(function(){f.value=p,f.getSnapshot=h,a(f)&&v({inst:f})},[l,p,h]),n(function(){return a(f)&&v({inst:f}),l(function(){a(f)&&v({inst:f})})},[l]),o(p),p}function a(l){var h=l.getSnapshot;l=l.value;try{var p=h();return!e(l,p)}catch{return!0}}function d(l,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return de.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,de}var rs;function Qr(){return rs||(rs=1,he.exports=Vr()),he.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns;function Kr(){if(ns)return le;ns=1;var t=bs(),s=Qr();function e(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=s.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,a=t.useDebugValue;return le.useSyncExternalStoreWithSelector=function(d,u,l,h,p){var m=i(null);if(m.current===null){var f={hasValue:!1,value:null};m.current=f}else f=m.current;m=c(function(){function y(T){if(!C){if(C=!0,R=T,T=h(T),p!==void 0&&f.hasValue){var S=f.value;if(p(S,T))return b=S}return b=T}if(S=b,r(R,T))return S;var P=h(T);return p!==void 0&&p(S,P)?(R=T,S):(R=T,b=P)}var C=!1,R,b,O=l===void 0?null:l;return[function(){return y(u())},O===null?void 0:function(){return y(O())}]},[u,l,h,p]);var v=n(d,m[0],m[1]);return o(function(){f.hasValue=!0,f.value=v},[v]),a(v),v},le}var is;function qr(){return is||(is=1,ue.exports=Kr()),ue.exports}var Wr=qr();function Hr(t,s=e=>e){return Wr.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,s,zr)}function zr(t,s){if(Object.is(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;if(t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(const[r,n]of t)if(!s.has(r)||!Object.is(n,s.get(r)))return!1;return!0}if(t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(const r of t)if(!s.has(r))return!1;return!0}const e=Object.keys(t);if(e.length!==Object.keys(s).length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(s,e[r])||!Object.is(t[e[r]],s[e[r]]))return!1;return!0}const fe=_.createContext(null);function Ms(){return typeof document>"u"?fe:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=fe,fe)}function st(t){const s=_.useContext(Ms());return t?.warn,s}function Y(t){const s=st({warn:t?.router===void 0}),e=t?.router||s,r=_.useRef(void 0);return Hr(e.__store,n=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const i=rt(r.current,t.select(n));return r.current=i,i}return t.select(n)}return n})}const se=_.createContext(void 0),Gr=_.createContext(void 0);function at(t){const s=_.useContext(t.from?Gr:se);return Y({select:r=>{const n=r.matches.find(i=>t.from?t.from===i.routeId:i.id===s);if(ht(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function Ie(t){return at({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:s=>t.select?t.select(s.loaderData):s.loaderData})}function ke(t){const{select:s,...e}=t;return at({...e,select:r=>s?s(r.loaderDeps):r.loaderDeps})}function De(t){return at({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:s=>t.select?t.select(s.params):s.params})}function Ae(t){return at({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:s=>t.select?t.select(s.search):s.search})}function re(t){const{navigate:s,state:e}=st(),r=at({strict:!1,select:n=>n.index});return _.useCallback(n=>{const i=n.from??t?.from??e.matches[r].fullPath;return s({...n,from:i})},[t?.from,s])}function Zn(t){const s=st(),e=re(),r=_.useRef(null);return _.useEffect(()=>{r.current!==t&&(e(t),r.current=t)},[s,t,e]),null}var Es=zs();const ti=Hs(Es),Qt=typeof window<"u"?_.useLayoutEffect:_.useEffect;function pe(t){const s=_.useRef({value:t,prev:null}),e=s.current.value;return t!==e&&(s.current={value:t,prev:e}),s.current.prev}function Jr(t,s,e={},r={}){_.useEffect(()=>{if(!t.current||r.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([i])=>{s(i)},e);return n.observe(t.current),()=>{n.disconnect()}},[s,e,r.disabled,t])}function Yr(t){const s=_.useRef(null);return _.useImperativeHandle(t,()=>s.current,[]),s}function Xr(t,s){const e=st(),[r,n]=_.useState(!1),i=_.useRef(!1),o=Yr(s),{activeProps:c,inactiveProps:a,activeOptions:d,to:u,preload:l,preloadDelay:h,hashScrollIntoView:p,replace:m,startTransition:f,resetScroll:v,viewTransition:y,children:C,target:R,disabled:b,style:O,className:T,onClick:S,onFocus:P,onMouseEnter:E,onMouseLeave:g,onTouchStart:M,ignoreBlocker:x,params:k,search:A,hash:q,state:L,mask:$,reloadDocument:F,unsafeRelative:N,from:z,_fromLocation:G,...Z}=t,tt=_.useMemo(()=>{try{return new URL(u),"external"}catch{}return"internal"},[u]),W=Y({select:j=>j.location.search,structuralSharing:!0}),D=at({strict:!1,select:j=>t.from??j.fullPath}),I=_.useMemo(()=>e.buildLocation({...t,from:D}),[e,W,t._fromLocation,D,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),V=tt==="external",U=t.reloadDocument||V?!1:l??e.options.defaultPreload,B=h??e.options.defaultPreloadDelay??0,Q=Y({select:j=>{if(V)return!1;if(d?.exact){if(!rr(j.location.pathname,I.pathname,e.basepath))return!1}else{const X=zt(j.location.pathname,e.basepath),dt=zt(I.pathname,e.basepath);if(!(X.startsWith(dt)&&(X.length===dt.length||X[dt.length]==="/")))return!1}return(d?.includeSearch??!0)&&!xt(j.location.search,I.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?j.location.hash===I.hash:!0}}),H=_.useCallback(()=>{e.preloadRoute({...t,from:D}).catch(j=>{console.warn(j),console.warn(Ar)})},[e,t.to,t._fromLocation,D,t.search,t.hash,t.params,t.state,t.mask,t.unsafeRelative,t.hashScrollIntoView,t.href,t.ignoreBlocker,t.reloadDocument,t.replace,t.resetScroll,t.viewTransition]),et=_.useCallback(j=>{j?.isIntersecting&&H()},[H]);if(Jr(o,et,rn,{disabled:!!b||U!=="viewport"}),_.useEffect(()=>{i.current||!b&&U==="render"&&(H(),i.current=!0)},[b,H,U]),V)return{...Z,ref:o,type:tt,href:u,...C&&{children:C},...R&&{target:R},...b&&{disabled:b},...O&&{style:O},...T&&{className:T},...S&&{onClick:S},...P&&{onFocus:P},...E&&{onMouseEnter:E},...g&&{onMouseLeave:g},...M&&{onTouchStart:M}};const Rt=j=>{if(!b&&!nn(j)&&!j.defaultPrevented&&(!R||R==="_self")&&j.button===0){j.preventDefault(),Es.flushSync(()=>{n(!0)});const X=e.subscribe("onResolved",()=>{X(),n(!1)});return e.navigate({...t,from:D,replace:m,resetScroll:v,hashScrollIntoView:p,startTransition:f,viewTransition:y,ignoreBlocker:x})}},Ve=j=>{b||U&&H()},Ks=Ve,qs=j=>{if(!(b||!U))if(!B)H();else{const X=j.target;if(Ft.has(X))return;const dt=setTimeout(()=>{Ft.delete(X),H()},B);Ft.set(X,dt)}},Ws=j=>{if(b||!U||!B)return;const X=j.target,dt=Ft.get(X);dt&&(clearTimeout(dt),Ft.delete(X))},Bt=Q?mt(c,{})??Zr:me,Nt=Q?me:mt(a,{})??me,Qe=[T,Bt.className,Nt.className].filter(Boolean).join(" "),Ke=(O||Bt.style||Nt.style)&&{...O,...Bt.style,...Nt.style};return{...Z,...Bt,...Nt,href:b?void 0:I.maskedLocation?e.history.createHref(I.maskedLocation.href):e.history.createHref(I.href),ref:o,onClick:It([S,Rt]),onFocus:It([P,Ve]),onMouseEnter:It([E,qs]),onMouseLeave:It([g,Ws]),onTouchStart:It([M,Ks]),disabled:!!b,target:R,...Ke&&{style:Ke},...Qe&&{className:Qe},...b&&tn,...Q&&en,...r&&sn}}const me={},Zr={className:"active"},tn={role:"link","aria-disabled":!0},en={"data-status":"active","aria-current":"page"},sn={"data-transitioning":"transitioning"},Ft=new WeakMap,rn={rootMargin:"100px"},It=t=>s=>{t.filter(Boolean).forEach(e=>{s.defaultPrevented||e(s)})};function ei(t){return _.forwardRef(function(e,r){return w.jsx($e,{...e,_asChild:t,ref:r})})}const $e=_.forwardRef((t,s)=>{const{_asChild:e,...r}=t,{type:n,ref:i,...o}=Xr(r,s),c=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return e===void 0&&delete o.disabled,_.createElement(e||"a",{...o,ref:i},c)});function nn(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class on extends xs{constructor(s){super(s),this.useMatch=e=>at({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>at({...e,from:this.id,select:r=>e?.select?e.select(r.context):r.context}),this.useSearch=e=>Ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>De({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>ke({...e,from:this.id}),this.useLoaderData=e=>Ie({...e,from:this.id}),this.useNavigate=()=>re({from:this.fullPath}),this.Link=At.forwardRef((e,r)=>w.jsx($e,{ref:r,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function an(t){return new on(t)}class cn extends $r{constructor(s){super(s),this.useMatch=e=>at({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>at({...e,from:this.id,select:r=>e?.select?e.select(r.context):r.context}),this.useSearch=e=>Ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>De({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>ke({...e,from:this.id}),this.useLoaderData=e=>Ie({...e,from:this.id}),this.useNavigate=()=>re({from:this.fullPath}),this.Link=At.forwardRef((e,r)=>w.jsx($e,{ref:r,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function si(t){return new cn(t)}function os(t){return typeof t=="object"?new as(t,{silent:!0}).createRoute(t):new as(t,{silent:!0}).createRoute}class as{constructor(s,e){this.path=s,this.createRoute=r=>{this.silent;const n=an(r);return n.isRoot=!1,n},this.silent=e?.silent}}class cs{constructor(s){this.useMatch=e=>at({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>at({from:this.options.id,select:r=>e?.select?e.select(r.context):r.context}),this.useSearch=e=>Ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>De({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>ke({...e,from:this.options.id}),this.useLoaderData=e=>Ie({...e,from:this.options.id}),this.useNavigate=()=>{const e=st();return re({from:e.routesById[this.options.id].fullPath})},this.options=s,this.$$typeof=Symbol.for("react.memo")}}function us(t){return typeof t=="object"?new cs(t):s=>new cs({id:t,...s})}function un(){const t=st(),s=_.useRef({router:t,mounted:!1}),[e,r]=_.useState(!1),{hasPendingMatches:n,isLoading:i}=Y({select:l=>({isLoading:l.isLoading,hasPendingMatches:l.matches.some(h=>h.status==="pending")}),structuralSharing:!0}),o=pe(i),c=i||e||n,a=pe(c),d=i||n,u=pe(d);return t.startTransition=l=>{r(!0),_.startTransition(()=>{l(),r(!1)})},_.useEffect(()=>{const l=t.history.subscribe(t.load),h=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Et(t.latestLocation.href)!==Et(h.href)&&t.commitLocation({...h,replace:!0}),()=>{l()}},[t,t.history]),Qt(()=>{if(typeof window<"u"&&t.ssr||s.current.router===t&&s.current.mounted)return;s.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(h){console.error(h)}})()},[t]),Qt(()=>{o&&!i&&t.emit({type:"onLoad",...vt(t.state)})},[o,t,i]),Qt(()=>{u&&!d&&t.emit({type:"onBeforeRouteMount",...vt(t.state)})},[d,u,t]),Qt(()=>{a&&!c&&(t.emit({type:"onResolved",...vt(t.state)}),t.__store.setState(l=>({...l,status:"idle",resolvedLocation:l.location})),Sr(t))},[c,a,t]),null}function ln(t){const s=Y({select:e=>`not-found-${e.location.pathname}-${e.status}`});return w.jsx(Fe,{getResetKey:()=>s,onCatch:(e,r)=>{var n;if(nt(e))(n=t.onCatch)==null||n.call(t,e,r);else throw e},errorComponent:({error:e})=>{var r;if(nt(e))return(r=t.fallback)==null?void 0:r.call(t,e);throw e},children:t.children})}function hn(){return w.jsx("p",{children:"Not Found"})}function Pt(t){return w.jsx(w.Fragment,{children:t.children})}function Ls(t,s,e){return s.options.notFoundComponent?w.jsx(s.options.notFoundComponent,{data:e}):t.options.defaultNotFoundComponent?w.jsx(t.options.defaultNotFoundComponent,{data:e}):w.jsx(hn,{})}function dn({children:t}){return typeof document<"u"?null:w.jsx("script",{className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)}})}function fn(){const t=st(),e=(t.options.getScrollRestorationKey||_e)(t.latestLocation),r=e!==_e(t.latestLocation)?e:null;return!t.isScrollRestoring||!t.isServer?null:w.jsx(dn,{children:`(${ws.toString()})(${JSON.stringify(Jt)},${JSON.stringify(r)}, undefined, true)`})}const Os=_.memo(function({matchId:s}){var e,r;const n=st(),i=Y({select:R=>{const b=R.matches.find(O=>O.id===s);return ht(b),Ht(b,["routeId","ssr","_displayPending"])},structuralSharing:!0}),o=n.routesById[i.routeId],c=o.options.pendingComponent??n.options.defaultPendingComponent,a=c?w.jsx(c,{}):null,d=o.options.errorComponent??n.options.defaultErrorComponent,u=o.options.onCatch??n.options.defaultOnCatch,l=o.isRoot?o.options.notFoundComponent??((e=n.options.notFoundRoute)==null?void 0:e.options.component):o.options.notFoundComponent,h=i.ssr===!1||i.ssr==="data-only",p=(!o.isRoot||o.options.wrapInSuspense||h)&&(o.options.wrapInSuspense??c??(((r=o.options.errorComponent)==null?void 0:r.preload)||h))?_.Suspense:Pt,m=d?Fe:Pt,f=l?ln:Pt,v=Y({select:R=>R.loadedAt}),y=Y({select:R=>{var b;const O=R.matches.findIndex(T=>T.id===s);return(b=R.matches[O-1])==null?void 0:b.routeId}}),C=o.isRoot?o.options.shellComponent??Pt:Pt;return w.jsxs(C,{children:[w.jsx(se.Provider,{value:s,children:w.jsx(p,{fallback:a,children:w.jsx(m,{getResetKey:()=>v,errorComponent:d||ee,onCatch:(R,b)=>{if(nt(R))throw R;u?.(R,b)},children:w.jsx(f,{fallback:R=>{if(!l||R.routeId&&R.routeId!==i.routeId||!R.routeId&&!o.isRoot)throw R;return _.createElement(l,R)},children:h||i._displayPending?w.jsx(Br,{fallback:a,children:w.jsx(ls,{matchId:s})}):w.jsx(ls,{matchId:s})})})})}),y===it&&n.options.scrollRestoration?w.jsxs(w.Fragment,{children:[w.jsx(pn,{}),w.jsx(fn,{})]}):null]})});function pn(){const t=st(),s=_.useRef(void 0);return w.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(s.current===void 0||s.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...vt(t.state)}),s.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const ls=_.memo(function({matchId:s}){var e,r,n,i,o;const c=st(),{match:a,key:d,routeId:u}=Y({select:p=>{const m=p.matches.findIndex(b=>b.id===s),f=p.matches[m],v=f.routeId,y=c.routesById[v].options.remountDeps??c.options.defaultRemountDeps,C=y?.({routeId:v,loaderDeps:f.loaderDeps,params:f._strictParams,search:f._strictSearch});return{key:C?JSON.stringify(C):void 0,routeId:v,match:Ht(f,["id","status","error","_forcePending","_displayPending"])}},structuralSharing:!0}),l=c.routesById[u],h=_.useMemo(()=>{const p=l.options.component??c.options.defaultComponent;return p?w.jsx(p,{},d):w.jsx(mn,{})},[d,l.options.component,c.options.defaultComponent]);if(a._displayPending)throw(e=c.getMatch(a.id))==null?void 0:e.displayPendingPromise;if(a._forcePending)throw(r=c.getMatch(a.id))==null?void 0:r.minPendingPromise;if(a.status==="pending"){const p=l.options.pendingMinMs??c.options.defaultPendingMinMs;if(p&&!((n=c.getMatch(a.id))!=null&&n.minPendingPromise)&&!c.isServer){const m=_t();Promise.resolve().then(()=>{c.updateMatch(a.id,f=>({...f,minPendingPromise:m}))}),setTimeout(()=>{m.resolve(),c.updateMatch(a.id,f=>({...f,minPendingPromise:void 0}))},p)}throw(i=c.getMatch(a.id))==null?void 0:i.loadPromise}if(a.status==="notFound")return ht(nt(a.error)),Ls(c,l,a.error);if(a.status==="redirected")throw ht(ct(a.error)),(o=c.getMatch(a.id))==null?void 0:o.loadPromise;if(a.status==="error"){if(c.isServer){const p=(l.options.errorComponent??c.options.defaultErrorComponent)||ee;return w.jsx(p,{error:a.error,reset:void 0,info:{componentStack:""}})}throw a.error}return h}),mn=_.memo(function(){const s=st(),e=_.useContext(se),r=Y({select:d=>{var u;return(u=d.matches.find(l=>l.id===e))==null?void 0:u.routeId}}),n=s.routesById[r],i=Y({select:d=>{const l=d.matches.find(h=>h.id===e);return ht(l),l.globalNotFound}}),o=Y({select:d=>{var u;const l=d.matches,h=l.findIndex(p=>p.id===e);return(u=l[h+1])==null?void 0:u.id}}),c=s.options.defaultPendingComponent?w.jsx(s.options.defaultPendingComponent,{}):null;if(i)return Ls(s,n,void 0);if(!o)return null;const a=w.jsx(Os,{matchId:o});return e===it?w.jsx(_.Suspense,{fallback:c,children:a}):a});function vn(){const t=st(),s=t.options.defaultPendingComponent?w.jsx(t.options.defaultPendingComponent,{}):null,e=t.isServer||typeof document<"u"&&t.ssr?Pt:_.Suspense,r=w.jsxs(e,{fallback:s,children:[!t.isServer&&w.jsx(un,{}),w.jsx(yn,{})]});return t.options.InnerWrap?w.jsx(t.options.InnerWrap,{children:r}):r}function yn(){const t=Y({select:e=>{var r;return(r=e.matches[0])==null?void 0:r.id}}),s=Y({select:e=>e.loadedAt});return w.jsx(se.Provider,{value:t,children:w.jsx(Fe,{getResetKey:()=>s,errorComponent:ee,onCatch:e=>{e.message||e.toString()},children:t?w.jsx(Os,{matchId:t}):null})})}function ri(){const t=st();return Y({select:s=>{var e;return[s.location.href,(e=s.resolvedLocation)==null?void 0:e.href,s.status]},structuralSharing:!0}),_.useCallback(s=>{const{pending:e,caseSensitive:r,fuzzy:n,includeSearch:i,...o}=s;return t.matchRoute(o,{pending:e,caseSensitive:r,fuzzy:n,includeSearch:i})},[t])}const ni=t=>new gn(t);class gn extends Mr{constructor(s){super(s)}}typeof globalThis<"u"?(globalThis.createFileRoute=os,globalThis.createLazyFileRoute=us):typeof window<"u"&&(window.createFileRoute=os,window.createFileRoute=us);function Sn({router:t,children:s,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const r=Ms(),n=w.jsx(r.Provider,{value:t,children:s});return t.options.Wrap?w.jsx(t.options.Wrap,{children:n}):n}function ii({router:t,...s}){return w.jsx(Sn,{router:t,...s,children:w.jsx(vn,{})})}var Ot=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},St=typeof window>"u"||"Deno"in globalThis;function J(){}function bn(t,s){return typeof t=="function"?t(s):t}function we(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ts(t,s){return Math.max(t+(s||0)-Date.now(),0)}function pt(t,s){return typeof t=="function"?t(s):t}function ot(t,s){return typeof t=="function"?t(s):t}function hs(t,s){const{type:e="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:c}=t;if(o){if(r){if(s.queryHash!==je(o,s.options))return!1}else if(!jt(s.queryKey,o))return!1}if(e!=="all"){const a=s.isActive();if(e==="active"&&!a||e==="inactive"&&a)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||n&&n!==s.state.fetchStatus||i&&!i(s))}function ds(t,s){const{exact:e,status:r,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(e){if(bt(s.options.mutationKey)!==bt(i))return!1}else if(!jt(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||n&&!n(s))}function je(t,s){return(s?.queryKeyHashFn||bt)(t)}function bt(t){return JSON.stringify(t,(s,e)=>Ce(e)?Object.keys(e).sort().reduce((r,n)=>(r[n]=e[n],r),{}):e)}function jt(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(e=>jt(t[e],s[e])):!1}function Fs(t,s){if(t===s)return t;const e=fs(t)&&fs(s);if(e||Ce(t)&&Ce(s)){const r=e?t:Object.keys(t),n=r.length,i=e?s:Object.keys(s),o=i.length,c=e?[]:{},a=new Set(r);let d=0;for(let u=0;u<o;u++){const l=e?u:i[u];(!e&&a.has(l)||e)&&t[l]===void 0&&s[l]===void 0?(c[l]=void 0,d++):(c[l]=Fs(t[l],s[l]),c[l]===t[l]&&t[l]!==void 0&&d++)}return n===o&&d===n?t:c}return s}function Zt(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const e in t)if(t[e]!==s[e])return!1;return!0}function fs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ce(t){if(!ps(t))return!1;const s=t.constructor;if(s===void 0)return!0;const e=s.prototype;return!(!ps(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ps(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rn(t){return new Promise(s=>{setTimeout(s,t)})}function xe(t,s,e){return typeof e.structuralSharing=="function"?e.structuralSharing(t,s):e.structuralSharing!==!1?Fs(t,s):s}function _n(t,s,e=0){const r=[...t,s];return e&&r.length>e?r.slice(1):r}function Pn(t,s,e=0){const r=[s,...t];return e&&r.length>e?r.slice(0,-1):r}var Be=Symbol();function Is(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===Be?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ks(t,s){return typeof t=="function"?t(...s):!!t}var wn=class extends Ot{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!St&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ne=new wn,Cn=class extends Ot{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!St&&window.addEventListener){const s=()=>t(!0),e=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#e}},te=new Cn;function Me(){let t,s;const e=new Promise((n,i)=>{t=n,s=i});e.status="pending",e.catch(()=>{});function r(n){Object.assign(e,n),delete e.resolve,delete e.reject}return e.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},e.reject=n=>{r({status:"rejected",reason:n}),s(n)},e}function xn(t){return Math.min(1e3*2**t,3e4)}function Ds(t){return(t??"online")==="online"?te.isOnline():!0}var As=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ve(t){return t instanceof As}function $s(t){let s=!1,e=0,r=!1,n;const i=Me(),o=f=>{r||(h(new As(f)),t.abort?.())},c=()=>{s=!0},a=()=>{s=!1},d=()=>Ne.isFocused()&&(t.networkMode==="always"||te.isOnline())&&t.canRun(),u=()=>Ds(t.networkMode)&&t.canRun(),l=f=>{r||(r=!0,t.onSuccess?.(f),n?.(),i.resolve(f))},h=f=>{r||(r=!0,t.onError?.(f),n?.(),i.reject(f))},p=()=>new Promise(f=>{n=v=>{(r||d())&&f(v)},t.onPause?.()}).then(()=>{n=void 0,r||t.onContinue?.()}),m=()=>{if(r)return;let f;const v=e===0?t.initialPromise:void 0;try{f=v??t.fn()}catch(y){f=Promise.reject(y)}Promise.resolve(f).then(l).catch(y=>{if(r)return;const C=t.retry??(St?0:3),R=t.retryDelay??xn,b=typeof R=="function"?R(e,y):R,O=C===!0||typeof C=="number"&&e<C||typeof C=="function"&&C(e,y);if(s||!O){h(y);return}e++,t.onFail?.(e,y),Rn(b).then(()=>d()?void 0:p()).then(()=>{s?h(y):m()})})};return{promise:i,cancel:o,continue:()=>(n?.(),i),cancelRetry:c,continueRetry:a,canStart:u,start:()=>(u()?m():p().then(m),i)}}var Mn=t=>setTimeout(t,0);function En(){let t=[],s=0,e=c=>{c()},r=c=>{c()},n=Mn;const i=c=>{s?t.push(c):n(()=>{e(c)})},o=()=>{const c=t;t=[],c.length&&n(()=>{r(()=>{c.forEach(a=>{e(a)})})})};return{batch:c=>{let a;s++;try{a=c()}finally{s--,s||o()}return a},batchCalls:c=>(...a)=>{i(()=>{c(...a)})},schedule:i,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var K=En(),js=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),we(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(St?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Ln=class extends js{#e;#t;#s;#r;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#s=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=On(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const e=xe(this.state.data,t,this.options);return this.#i({data:e,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),e}setState(t,s){this.#i({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#n?.promise;return this.#n?.cancel(t),s?s.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ot(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Be||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ts(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,s){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(d=>d.options.queryFn);a&&this.setOptions(a.options)}const e=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,e.signal)})},n=()=>{const a=Is(this.options,s),u=(()=>{const l={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(l),l})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta});const c=a=>{ve(a)&&a.silent||this.#i({type:"error",error:a}),ve(a)||(this.#s.config.onError?.(a,this),this.#s.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#n=$s({initialPromise:s?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:a=>{if(a===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(d){c(d);return}this.#s.config.onSuccess?.(a,this),this.#s.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:c,onFail:(a,d)=>{this.#i({type:"failed",failureCount:a,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const s=e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...Bs(e.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ve(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}};this.state=s(this.state),K.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Bs(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ds(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function On(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,e=s!==void 0,r=e?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:e?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Tn=class extends Ot{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,e){const r=s.queryKey,n=s.queryHash??je(r,s);let i=this.get(n);return i||(i=new Ln({client:t,queryKey:r,queryHash:n,options:t.defaultQueryOptions(s),state:e,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){K.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(e=>hs(s,e))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(e=>hs(t,e)):s}notify(t){K.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){K.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){K.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fn=class extends js{#e;#t;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Ns(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(s=>s!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#r({type:"continue"})};this.#s=$s({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#s.canStart();try{if(e)s();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const n=await this.#s.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){const s=e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),K.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Ns(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In=class extends Ot{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,e){const r=new Fn({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:e});return this.add(r),r}add(t){this.#e.add(t);const s=Kt(t);if(typeof s=="string"){const e=this.#t.get(s);e?e.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=Kt(t);if(typeof s=="string"){const e=this.#t.get(s);if(e)if(e.length>1){const r=e.indexOf(t);r!==-1&&e.splice(r,1)}else e[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Kt(t);if(typeof s=="string"){const r=this.#t.get(s)?.find(n=>n.state.status==="pending");return!r||r===t}else return!0}runNext(t){const s=Kt(t);return typeof s=="string"?this.#t.get(s)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){K.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(e=>ds(s,e))}findAll(t={}){return this.getAll().filter(s=>ds(t,s))}notify(t){K.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return K.batch(()=>Promise.all(t.map(s=>s.continue().catch(J))))}};function Kt(t){return t.options.scope?.id}function ms(t){return{onFetch:(s,e)=>{const r=s.options,n=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],o=s.state.data?.pageParams||[];let c={pages:[],pageParams:[]},a=0;const d=async()=>{let u=!1;const l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},h=Is(s.options,s.fetchOptions),p=async(m,f,v)=>{if(u)return Promise.reject();if(f==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const T={client:s.client,queryKey:s.queryKey,pageParam:f,direction:v?"backward":"forward",meta:s.options.meta};return l(T),T})(),R=await h(C),{maxPages:b}=s.options,O=v?Pn:_n;return{pages:O(m.pages,R,b),pageParams:O(m.pageParams,f,b)}};if(n&&i.length){const m=n==="backward",f=m?kn:vs,v={pages:i,pageParams:o},y=f(r,v);c=await p(v,y,m)}else{const m=t??i.length;do{const f=a===0?o[0]??r.initialPageParam:vs(r,c);if(a>0&&f==null)break;c=await p(c,f),a++}while(a<m)}return c};s.options.persister?s.fetchFn=()=>s.options.persister?.(d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},e):s.fetchFn=d}}}function vs(t,{pages:s,pageParams:e}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,e[r],e):void 0}function kn(t,{pages:s,pageParams:e}){return s.length>0?t.getPreviousPageParam?.(s[0],s,e[0],e):void 0}var oi=class{#e;#t;#s;#r;#n;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new Tn,this.#t=t.mutationCache||new In,this.#s=t.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Ne.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=te.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),e=this.#e.build(this,s),r=e.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&e.isStaleByTime(pt(s.staleTime,e))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:e})=>{const r=e.data;return[s,r]})}setQueryData(t,s,e){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,o=bn(s,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...e,manual:!0})}setQueriesData(t,s,e){return K.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,e)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;K.batch(()=>{s.findAll(t).forEach(e=>{s.remove(e)})})}resetQueries(t,s){const e=this.#e;return K.batch(()=>(e.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const e={revert:!0,...s},r=K.batch(()=>this.#e.findAll(t).map(n=>n.cancel(e)));return Promise.all(r).then(J).catch(J)}invalidateQueries(t,s={}){return K.batch(()=>(this.#e.findAll(t).forEach(e=>{e.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const e={...s,cancelRefetch:s.cancelRefetch??!0},r=K.batch(()=>this.#e.findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,e);return e.throwOnError||(i=i.catch(J)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(J)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const e=this.#e.build(this,s);return e.isStaleByTime(pt(s.staleTime,e))?e.fetch(s):Promise.resolve(e.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(J).catch(J)}fetchInfiniteQuery(t){return t.behavior=ms(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(J).catch(J)}ensureInfiniteQueryData(t){return t.behavior=ms(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return te.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#r.set(bt(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#r.values()],e={};return s.forEach(r=>{jt(t,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(t,s){this.#n.set(bt(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#n.values()],e={};return s.forEach(r=>{jt(t,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=je(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Be&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Dn=class extends Ot{constructor(t,s){super(),this.options=s,this.#e=t,this.#i=null,this.#a=Me(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#r=void 0;#n;#o;#a;#i;#m;#d;#f;#u;#l;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ys(this.#t,this.options)?this.#h():this.updateResult(),this.#S())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ee(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ee(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#R(),this.#t.removeObserver(this)}setOptions(t){const s=this.options,e=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ot(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),s._defaulted&&!Zt(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&gs(this.#t,e,this.options,s)&&this.#h(),this.updateResult(),r&&(this.#t!==e||ot(this.options.enabled,this.#t)!==ot(s.enabled,this.#t)||pt(this.options.staleTime,this.#t)!==pt(s.staleTime,this.#t))&&this.#v();const n=this.#y();r&&(this.#t!==e||ot(this.options.enabled,this.#t)!==ot(s.enabled,this.#t)||n!==this.#c)&&this.#g(n)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),e=this.createResult(s,t);return $n(this,e)&&(this.#r=e,this.#o=this.options,this.#n=this.#t.state),e}getCurrentResult(){return this.#r}trackResult(t,s){return new Proxy(t,{get:(e,r)=>(this.trackProp(r),s?.(r),Reflect.get(e,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),e=this.#e.getQueryCache().build(this.#e,s);return e.fetch().then(()=>this.createResult(e,s))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#_();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(J)),s}#v(){this.#b();const t=pt(this.options.staleTime,this.#t);if(St||this.#r.isStale||!we(t))return;const e=Ts(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},e)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(t){this.#R(),this.#c=t,!(St||ot(this.options.enabled,this.#t)===!1||!we(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||Ne.isFocused())&&this.#h()},this.#c))}#S(){this.#v(),this.#g(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#R(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,s){const e=this.#t,r=this.options,n=this.#r,i=this.#n,o=this.#o,a=t!==e?t.state:this.#s,{state:d}=t;let u={...d},l=!1,h;if(s._optimisticResults){const P=this.hasListeners(),E=!P&&ys(t,s),g=P&&gs(t,e,s,r);(E||g)&&(u={...u,...Bs(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:f}=u;h=u.data;let v=!1;if(s.placeholderData!==void 0&&h===void 0&&f==="pending"){let P;n?.isPlaceholderData&&s.placeholderData===o?.placeholderData?(P=n.data,v=!0):P=typeof s.placeholderData=="function"?s.placeholderData(this.#f?.state.data,this.#f):s.placeholderData,P!==void 0&&(f="success",h=xe(n?.data,P,s),l=!0)}if(s.select&&h!==void 0&&!v)if(n&&h===i?.data&&s.select===this.#m)h=this.#d;else try{this.#m=s.select,h=s.select(h),h=xe(n?.data,h,s),this.#d=h,this.#i=null}catch(P){this.#i=P}this.#i&&(p=this.#i,h=this.#d,m=Date.now(),f="error");const y=u.fetchStatus==="fetching",C=f==="pending",R=f==="error",b=C&&y,O=h!==void 0,S={status:f,fetchStatus:u.fetchStatus,isPending:C,isSuccess:f==="success",isError:R,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>a.dataUpdateCount||u.errorUpdateCount>a.errorUpdateCount,isFetching:y,isRefetching:y&&!C,isLoadingError:R&&!O,isPaused:u.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:R&&O,isStale:Ue(t,s),refetch:this.refetch,promise:this.#a,isEnabled:ot(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=M=>{S.status==="error"?M.reject(S.error):S.data!==void 0&&M.resolve(S.data)},E=()=>{const M=this.#a=S.promise=Me();P(M)},g=this.#a;switch(g.status){case"pending":t.queryHash===e.queryHash&&P(g);break;case"fulfilled":(S.status==="error"||S.data!==g.value)&&E();break;case"rejected":(S.status!=="error"||S.error!==g.reason)&&E();break}}return S}updateResult(){const t=this.#r,s=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#t),Zt(s,t))return;this.#r=s;const e=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#p.size)return!0;const i=new Set(n??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const c=o;return this.#r[c]!==t[c]&&i.has(c)})};this.#P({listeners:e()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#S()}#P(t){K.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function An(t,s){return ot(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function ys(t,s){return An(t,s)||t.state.data!==void 0&&Ee(t,s,s.refetchOnMount)}function Ee(t,s,e){if(ot(s.enabled,t)!==!1&&pt(s.staleTime,t)!=="static"){const r=typeof e=="function"?e(t):e;return r==="always"||r!==!1&&Ue(t,s)}return!1}function gs(t,s,e,r){return(t!==s||ot(r.enabled,t)===!1)&&(!e.suspense||t.state.status!=="error")&&Ue(t,e)}function Ue(t,s){return ot(s.enabled,t)!==!1&&t.isStaleByTime(pt(s.staleTime,t))}function $n(t,s){return!Zt(t.getCurrentResult(),s)}var jn=class extends Ot{#e;#t=void 0;#s;#r;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Zt(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&bt(s.mutationKey)!==bt(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(t,s){return this.#r=s,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){const t=this.#s?.state??Ns();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){K.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#t.variables,e=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,s,e),this.#r.onSettled?.(t.data,null,s,e)):t?.type==="error"&&(this.#r.onError?.(t.error,s,e),this.#r.onSettled?.(void 0,t.error,s,e))}this.listeners.forEach(s=>{s(this.#t)})})}},Us=_.createContext(void 0),Vs=t=>{const s=_.useContext(Us);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},ai=({client:t,children:s})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(Us.Provider,{value:t,children:s})),Qs=_.createContext(!1),Bn=()=>_.useContext(Qs);Qs.Provider;function Nn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Un=_.createContext(Nn()),Vn=()=>_.useContext(Un),Qn=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Kn=t=>{_.useEffect(()=>{t.clearReset()},[t])},qn=({result:t,errorResetBoundary:s,throwOnError:e,query:r,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||ks(e,[t.error,r])),Wn=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),e=t.staleTime;t.staleTime=typeof e=="function"?(...r)=>s(e(...r)):s(e),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Hn=(t,s)=>t.isLoading&&t.isFetching&&!s,zn=(t,s)=>t?.suspense&&s.isPending,Ss=(t,s,e)=>s.fetchOptimistic(t).catch(()=>{e.clearReset()});function Gn(t,s,e){const r=Bn(),n=Vn(),i=Vs(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Wn(o),Qn(o,n),Kn(n);const c=!i.getQueryCache().get(o.queryHash),[a]=_.useState(()=>new s(i,o)),d=a.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(l=>{const h=u?a.subscribe(K.batchCalls(l)):J;return a.updateResult(),h},[a,u]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),_.useEffect(()=>{a.setOptions(o)},[o,a]),zn(o,d))throw Ss(o,a,n);if(qn({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!St&&Hn(d,r)&&(c?Ss(o,a,n):i.getQueryCache().get(o.queryHash)?.promise)?.catch(J).finally(()=>{a.updateResult()}),o.notifyOnChangeProps?d:a.trackResult(d)}function ci(t,s){return Gn(t,Dn)}function ui(t,s){const e=Vs(),[r]=_.useState(()=>new jn(e,t));_.useEffect(()=>{r.setOptions(t)},[r,t]);const n=_.useSyncExternalStore(_.useCallback(o=>r.subscribe(K.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=_.useCallback((o,c)=>{r.mutate(o,c).catch(J)},[r]);if(n.error&&ks(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}export{Zn as N,mn as O,oi as Q,ti as R,ci as a,ui as b,ei as c,si as d,ai as e,os as f,ri as g,xr as h,ni as i,w as j,ii as k,us as l,Ae as m,re as n,De as o,Es as r,Vs as u};
