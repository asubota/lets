import { Box } from '@mui/material'
import SvgIcon from '@mui/material/SvgIcon'
import { createLink } from '@tanstack/react-router'

import { useStaleVendors } from '../store'

const Linked = createLink(SvgIcon)

function CheckEngineIcon() {
  return (
    <Linked
      to="/check-engine"
      className="sizing"
      sx={{
        fontSize: {
          xs: '90px',
          sm: '120px',
          md: '150px',
          lg: '180px',
          xl: '210px',
        },

        cursor: 'pointer',
      }}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1024.000000 1024.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,1024.000000) scale(0.100000,-0.100000)"
        fill="currentColor"
        stroke="none"
      >
        <Box
          component="path"
          sx={{ color: 'primary.main' }}
          d="M7575 7864 c-398 -60 -691 -199 -959 -454 -293 -279 -475 -635 -532
-1039 -22 -156 -15 -421 16 -575 143 -724 723 -1265 1453 -1356 142 -18 444
-8 567 19 341 75 615 224 855 465 242 243 396 525 459 841 189 953 -406 1875
-1339 2075 -78 17 -143 22 -295 25 -107 2 -208 1 -225 -1z m505 -432 c483
-125 858 -530 967 -1042 27 -130 24 -400 -6 -539 -111 -516 -522 -914 -1041
-1007 -127 -23 -335 -23 -460 1 -270 50 -493 168 -685 360 -186 185 -297 387
-356 645 -28 121 -36 355 -15 485 68 443 334 812 723 1004 113 56 226 93 333
111 41 6 82 13 90 15 8 2 87 2 175 1 139 -3 175 -8 275 -34z"
        />
        <Box
          component="path"
          sx={{ color: 'primary.main' }}
          d="M7698 7177 c-110 -36 -178 -130 -178 -246 -1 -133 72 -1065 86 -1098
27 -64 129 -106 219 -89 39 8 99 55 119 95 7 14 16 69 19 121 3 52 20 301 38
553 31 445 31 459 14 504 -22 57 -76 118 -129 145 -48 25 -138 32 -188 15z"
        />
        <Box
          component="path"
          sx={{ color: 'primary.main' }}
          d="M7693 5564 c-52 -19 -128 -99 -142 -150 -23 -84 -7 -161 47 -224 110
-129 302 -110 389 38 23 39 28 59 28 112 -1 70 -18 114 -64 163 -60 65 -174
92 -258 61z"
        />
        <path
          d="M3386 7465 c-53 -19 -85 -44 -121 -94 -24 -34 -30 -54 -33 -109 -5
-92 31 -163 102 -207 l49 -30 344 -3 343 -3 0 -149 0 -150 -448 0 c-390 0
-455 -2 -498 -17 -43 -14 -85 -51 -334 -298 -157 -156 -296 -289 -310 -296
-19 -11 -93 -15 -295 -19 -309 -6 -315 -7 -397 -99 -75 -84 -78 -101 -78 -502
l0 -349 -210 0 -210 0 0 313 c0 306 -1 313 -24 362 -45 98 -109 129 -250 123
-109 -5 -164 -29 -211 -96 l-30 -44 -3 -941 c-3 -1053 -7 -990 68 -1065 52
-51 106 -66 213 -60 116 8 178 42 218 120 17 34 19 62 19 353 l0 315 210 0
210 0 0 -468 c0 -514 2 -530 60 -610 35 -49 98 -97 149 -114 24 -7 179 -13
456 -18 231 -3 422 -7 424 -8 3 -1 190 -186 415 -411 402 -399 413 -409 496
-450 158 -76 67 -72 1401 -69 l1194 3 73 27 c132 48 175 81 427 330 132 130
253 241 268 247 18 7 140 11 327 11 l299 0 41 -60 c24 -36 57 -69 84 -85 39
-23 53 -25 157 -25 104 0 120 3 167 26 75 37 123 99 202 258 106 216 103 193
107 684 3 232 3 422 1 422 -2 0 -65 -16 -141 -35 -157 -39 -304 -61 -489 -71
l-128 -7 0 -338 0 -339 -353 0 c-370 0 -418 -5 -486 -48 -14 -9 -147 -135
-296 -279 -203 -199 -278 -266 -305 -273 -51 -14 -2282 -13 -2335 1 -34 9
-104 74 -450 419 -225 224 -432 422 -460 439 -105 67 -138 71 -526 71 l-349 0
0 950 0 950 228 0 c207 0 231 2 272 21 33 15 123 98 330 304 238 237 291 284
320 290 19 3 576 4 1238 3 l1202 -3 5 30 c2 17 12 87 22 157 l17 126 -38 46
c-21 26 -56 56 -79 69 -41 22 -48 22 -499 25 l-458 3 0 149 0 150 323 0 c364
0 370 2 438 77 46 51 62 100 57 173 -6 82 -46 145 -117 182 l-53 28 -962 0
c-799 -1 -968 -3 -1000 -15z"
        />
      </g>
    </Linked>
  )
}

export const StaleVendorsWarning = () => {
  const staleVendors = useStaleVendors()

  if (staleVendors.length === 0) {
    return null
  }

  return (
    <Box sx={{ color: '#ff9800', display: 'flex', justifyContent: 'center' }}>
      <CheckEngineIcon />
    </Box>
  )
}
